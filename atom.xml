<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>WF&#39;s Blog</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://linuxwf.com/"/>
  <updated>2020-04-09T12:26:18.289Z</updated>
  <id>http://linuxwf.com/</id>
  
  <author>
    <name>Wu Fei</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>harboré•œåƒä»“åº“</title>
    <link href="http://linuxwf.com/2020/04/09/harbor%E9%95%9C%E5%83%8F%E4%BB%93%E5%BA%93/"/>
    <id>http://linuxwf.com/2020/04/09/harbor%E9%95%9C%E5%83%8F%E4%BB%93%E5%BA%93/</id>
    <published>2020-04-09T12:25:00.000Z</published>
    <updated>2020-04-09T12:26:18.289Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="å®‰è£…harborå¹¶åˆ›å»ºé¡¹ç›®"><a href="#å®‰è£…harborå¹¶åˆ›å»ºé¡¹ç›®" class="headerlink" title="å®‰è£…harborå¹¶åˆ›å»ºé¡¹ç›®"></a>å®‰è£…harborå¹¶åˆ›å»ºé¡¹ç›®</h2><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">yum install -y python2-pip</span><br><span class="line">pip install -i https://pypi.tuna.tsinghua.edu.cn/simple pip -U</span><br><span class="line">pip config <span class="built_in">set</span> global.index-url https://pypi.tuna.tsinghua.edu.cn/simple</span><br><span class="line">pip install docker-compose</span><br><span class="line"><span class="built_in">cd</span> /opt/</span><br><span class="line">wget https://storage.googleapis.com/harbor-releases/release-1.9.0/harbor-offline-installer-v1.9.0-rc1.tgz</span><br><span class="line">tar zxf harbor-offline-installer-v1.9.0-rc1.tgz</span><br><span class="line"><span class="built_in">cd</span> harbor/</span><br><span class="line">sed -i <span class="string">'/^hostname/c hostname: 10.0.0.11'</span> harbor.yml</span><br><span class="line">sed -i <span class="string">'/^harbor_admin_passwordr.yml/c harbor_admin_password: 123456'</span> harbor.yml</span><br><span class="line">sed -i <span class="string">'/^data_volume/c data_volume: /data/harbor'</span> harbor.yml</span><br><span class="line">./install.sh</span><br></pre></td></tr></table></figure><p>åˆ›å»ºé¡¹ç›®</p><p>10.0.0.11</p><p>æ–°å»ºç§æœ‰é¡¹ç›®</p><h2 id="é…ç½®dockerä¿¡ä»»harborä»“åº“"><a href="#é…ç½®dockerä¿¡ä»»harborä»“åº“" class="headerlink" title="é…ç½®dockerä¿¡ä»»harborä»“åº“"></a>é…ç½®dockerä¿¡ä»»harborä»“åº“</h2><p>æ³¨æ„ï¼æ‰€æœ‰çš„èŠ‚ç‚¹éƒ½è¦æ“ä½œ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">cat &gt;/etc/docker/daemon.json&lt;&lt;EOF </span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"registry-mirrors"</span>: [<span class="string">"https://1660dchq.mirror.aliyuncs.com"</span>],</span><br><span class="line">  <span class="string">"exec-opts"</span>: [<span class="string">"native.cgroupdriver=systemd"</span>],</span><br><span class="line">  <span class="string">"insecure-registries"</span>: [<span class="string">"http://10.0.0.11"</span>] </span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">systemctl daemon-reload</span><br><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure><p>æ‰€æœ‰èŠ‚ç‚¹éƒ½ç™»é™†docker-harbor</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker login 10.0.0.11</span><br></pre></td></tr></table></figure><h2 id="å°†é•œåƒæ‰“åŒ…å¹¶æ¨é€åˆ°harborä»“åº“"><a href="#å°†é•œåƒæ‰“åŒ…å¹¶æ¨é€åˆ°harborä»“åº“" class="headerlink" title="å°†é•œåƒæ‰“åŒ…å¹¶æ¨é€åˆ°harborä»“åº“"></a>å°†é•œåƒæ‰“åŒ…å¹¶æ¨é€åˆ°harborä»“åº“</h2><ol><li>æ‹‰å–2ä¸ªNginxé•œåƒ</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@node1 ~]<span class="comment"># docker pull nginx:1.14.0</span></span><br><span class="line"></span><br><span class="line">[root@node1 ~]<span class="comment"># docker pull nginx:1.16.0</span></span><br></pre></td></tr></table></figure><ol start="2"><li>ç»™é•œåƒæ‰“æ ‡ç­¾</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@node1 ~]<span class="comment"># docker tag nginx:1.14.0 10.0.0.11/k8s/nginx:1.14.0</span></span><br><span class="line"></span><br><span class="line">[root@node1 ~]<span class="comment"># docker tag nginx:1.16.0 10.0.0.11/k8s/nginx:1.16.0</span></span><br></pre></td></tr></table></figure><ol start="3"><li>æ¨é€åˆ°é•œåƒä»“åº“</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@node1 ~]<span class="comment"># docker push 10.0.0.11/k8s/nginx:1.14.0</span></span><br><span class="line"></span><br><span class="line">[root@node1 ~]<span class="comment"># docker push 10.0.0.11/k8s/nginx:1.16.0</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="Dockerå®¹å™¨" scheme="http://linuxwf.com/categories/Docker%E5%AE%B9%E5%99%A8/"/>
    
    
      <category term="docker" scheme="http://linuxwf.com/tags/docker/"/>
    
      <category term="k8s" scheme="http://linuxwf.com/tags/k8s/"/>
    
  </entry>
  
  <entry>
    <title>Dockeré•œåƒåŠ é€Ÿ</title>
    <link href="http://linuxwf.com/2020/04/09/Docker%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F/"/>
    <id>http://linuxwf.com/2020/04/09/Docker%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F/</id>
    <published>2020-04-09T12:15:00.000Z</published>
    <updated>2020-04-09T12:18:27.560Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="Dockeré•œåƒåŠ é€Ÿ"><a href="#Dockeré•œåƒåŠ é€Ÿ" class="headerlink" title="Dockeré•œåƒåŠ é€Ÿ"></a>Dockeré•œåƒåŠ é€Ÿ</h2><ul><li>docker ä¸­ï¼Œåªèƒ½å¤Ÿä¸º docker å®˜æ–¹é•œåƒä»“åº“ hub.docker.com æä¾› mirror åŠ é€Ÿï¼Œè‡ªå»ºçš„ docker é•œåƒä»“åº“æ˜¯ä¸èƒ½é…ç½® mirror åŠ é€Ÿçš„ï¼›</li><li>å¦‚æœæ‚¨å‚è€ƒ kuboard.cn æä¾›çš„ kubernetes å®‰è£…æ–‡æ¡£ï¼Œé»˜è®¤ä½¿ç”¨çš„ docker mirror æ˜¯ <a href="https://registry.cn-hangzhou.aliyuncs.com" target="_blank" rel="noopener">https://registry.cn-hangzhou.aliyuncs.com</a> ã€‚</li></ul><h2 id="ä¿®æ”¹é•œåƒä»“åº“-mirror-åœ°å€"><a href="#ä¿®æ”¹é•œåƒä»“åº“-mirror-åœ°å€" class="headerlink" title="#ä¿®æ”¹é•œåƒä»“åº“ mirror åœ°å€"></a><a href="https://kuboard.cn/install/docker-mirror.html#ä¿®æ”¹é•œåƒä»“åº“-mirror-åœ°å€" target="_blank" rel="noopener">#</a>ä¿®æ”¹é•œåƒä»“åº“ mirror åœ°å€</h2><p>æœ¬æ–‡æä¾›äº†å¿«é€Ÿä¿®æ”¹çš„æ–¹å¼å’Œæ‰‹å·¥ä¿®æ”¹çš„æ–¹å¼ï¼Œæ•ˆæœç›¸åŒ</p><h3 id="å¿«é€Ÿä¿®æ”¹"><a href="#å¿«é€Ÿä¿®æ”¹" class="headerlink" title="å¿«é€Ÿä¿®æ”¹"></a>å¿«é€Ÿä¿®æ”¹</h3><ul><li>ä¸‹é¢æä¾›äº†å››ä¸ª mirror åœ°å€ï¼Œæ‚¨å¯ä»¥å»æ‰å…¶ä¸­ä»»æ„ä¸€ä¸ªåœ°å€çš„æ³¨é‡Šï¼Œä»¥ä½¿ç”¨è¯¥ mirror åœ°å€ã€‚</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Dockerä¸­å›½ mirror</span></span><br><span class="line"><span class="comment"># export REGISTRY_MIRROR="https://registry.docker-cn.com"</span></span><br><span class="line"><span class="comment"># è…¾è®¯äº‘ docker hub mirror</span></span><br><span class="line"><span class="comment"># export REGISTRY_MIRROR="https://mirror.ccs.tencentyun.com"</span></span><br><span class="line"><span class="comment"># åä¸ºäº‘é•œåƒ</span></span><br><span class="line"><span class="comment"># export REGISTRY_MIRROR="https://05f073ad3c0010ea0f4bc00b7105ec20.mirror.swr.myhuaweicloud.com"</span></span><br><span class="line"><span class="comment"># DaoCloud é•œåƒ</span></span><br><span class="line"><span class="comment"># export REGISTRY_MIRROR="http://f1361db2.m.daocloud.io"</span></span><br><span class="line"><span class="comment"># é˜¿é‡Œäº‘ docker hub mirror</span></span><br><span class="line"><span class="built_in">export</span> REGISTRY_MIRROR=https://registry.cn-hangzhou.aliyuncs.com</span><br><span class="line">curl -sSL https://kuboard.cn/install-script/set_mirror.sh | sh -s <span class="variable">$&#123;REGISTRY_MIRROR&#125;</span></span><br><span class="line">systemctl daemon-reload</span><br><span class="line">systemctl restart docker</span><br><span class="line">systemctl restart kubelet  <span class="comment"># å‡è®¾æ‚¨å®‰è£…äº† kubenetes</span></span><br></pre></td></tr></table></figure><h3 id="æ‰‹å·¥ä¿®æ”¹"><a href="#æ‰‹å·¥ä¿®æ”¹" class="headerlink" title="æ‰‹å·¥ä¿®æ”¹"></a>æ‰‹å·¥ä¿®æ”¹</h3><ul><li><p>ä¿®æ”¹ /etc/docker/daemon.json æ–‡ä»¶ï¼ˆå¦‚æœæ²¡æœ‰ï¼Œåˆ™åˆ›å»ºï¼‰ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/docker/daemon.json</span><br></pre></td></tr></table></figure></li><li><p>æ·»åŠ  registry-mirrors å­—æ®µï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"> <span class="string">"registry-mirrors"</span>: [<span class="string">"https://registry.cn-hangzhou.aliyuncs.com"</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>é‡å¯ docker/kubelet</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">systemctl daemon-reload</span><br><span class="line">systemctl restart docker</span><br><span class="line">systemctl start kubelet <span class="comment"># å‡è®¾æ‚¨å®‰è£…äº† kubenetes</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="æŸ¥çœ‹ä¿®æ”¹ç»“æœ"><a href="#æŸ¥çœ‹ä¿®æ”¹ç»“æœ" class="headerlink" title="æŸ¥çœ‹ä¿®æ”¹ç»“æœ"></a>æŸ¥çœ‹ä¿®æ”¹ç»“æœ</h2><ul><li>æ‰§è¡Œå‘½ä»¤</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker info</span><br></pre></td></tr></table></figure><ul><li>æŸ¥çœ‹ç»“æœ</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"></span><br><span class="line">Docker Root Dir: /var/lib/docker</span><br><span class="line">Debug Mode (client): <span class="literal">false</span></span><br><span class="line">Debug Mode (server): <span class="literal">false</span></span><br><span class="line">Registry: https://index.docker.io/v1/</span><br><span class="line">Labels:</span><br><span class="line">Experimental: <span class="literal">false</span></span><br><span class="line">Insecure Registries:</span><br><span class="line"> 127.0.0.0/8</span><br><span class="line">Registry Mirrors:</span><br><span class="line"> https://registry.cn-hangzhou.aliyuncs.com</span><br><span class="line">Live Restore Enabled: <span class="literal">false</span></span><br><span class="line">Product License: Community Engine</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="Dockerå®¹å™¨" scheme="http://linuxwf.com/categories/Docker%E5%AE%B9%E5%99%A8/"/>
    
    
      <category term="docker" scheme="http://linuxwf.com/tags/docker/"/>
    
      <category term="k8s" scheme="http://linuxwf.com/tags/k8s/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨kubeadmå®‰è£…K8s</title>
    <link href="http://linuxwf.com/2020/04/09/%E4%BD%BF%E7%94%A8kubeadm%E5%AE%89%E8%A3%85K8s/"/>
    <id>http://linuxwf.com/2020/04/09/%E4%BD%BF%E7%94%A8kubeadm%E5%AE%89%E8%A3%85K8s/</id>
    <published>2020-04-09T11:59:00.000Z</published>
    <updated>2020-04-09T12:01:06.880Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>å‚è€ƒæ–‡æ¡£ï¼š<a href="https://kuboard.cn/install/install-k8s.html#æ–‡æ¡£ç‰¹ç‚¹" target="_blank" rel="noopener">https://kuboard.cn/install/install-k8s.html#%E6%96%87%E6%A1%A3%E7%89%B9%E7%82%B9</a></p><h2 id="é…ç½®è¦æ±‚"><a href="#é…ç½®è¦æ±‚" class="headerlink" title="é…ç½®è¦æ±‚"></a>é…ç½®è¦æ±‚</h2><p>å¯¹äº Kubernetes åˆå­¦è€…ï¼Œåœ¨æ­å»ºK8Sé›†ç¾¤æ—¶ï¼Œæ¨èåœ¨é˜¿é‡Œäº‘æˆ–è…¾è®¯äº‘é‡‡è´­å¦‚ä¸‹é…ç½®ï¼šï¼ˆæ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨è‡ªå·±çš„è™šæ‹Ÿæœºã€ç§æœ‰äº‘ç­‰æ‚¨æœ€å®¹æ˜“è·å¾—çš„ Linux ç¯å¢ƒï¼‰</p><ul><li>è‡³å°‘2å° <strong>2æ ¸4G</strong> çš„æœåŠ¡å™¨</li><li><strong>Cent OS 7.6</strong></li></ul><p><strong>å®‰è£…åçš„è½¯ä»¶ç‰ˆæœ¬ä¸º</strong></p><ul><li>Kubernetes v1.18.x<ul><li>calico 3.13.1</li><li>nginx-ingress 1.5.5</li></ul></li><li>Docker 19.03.8</li></ul><blockquote><p>å¦‚æœè¦å®‰è£… Kubernetes å†å²ç‰ˆæœ¬ï¼Œè¯·å‚è€ƒï¼š</p><ul><li><a href="https://kuboard.cn/install/history-k8s/install-k8s-1.17.x.html" target="_blank" rel="noopener">å®‰è£… Kubernetes v1.17.x å•MasterèŠ‚ç‚¹</a></li><li><a href="https://kuboard.cn/install/history-k8s/install-k8s-1.16.3.html" target="_blank" rel="noopener">å®‰è£… Kubernetes v1.16.3 å•MasterèŠ‚ç‚¹</a></li><li><a href="https://kuboard.cn/install/history-k8s/install-k8s-1.15.4.html" target="_blank" rel="noopener">å®‰è£… Kubernetes v1.15.4 å•MasterèŠ‚ç‚¹</a></li></ul></blockquote><p>å®‰è£…åçš„æ‹“æ‰‘å›¾å¦‚ä¸‹ï¼š<a href="https://kuboard.cn/kuboard.rp" target="_blank" rel="noopener">ä¸‹è½½æ‹“æ‰‘å›¾æºæ–‡ä»¶</a> ä½¿ç”¨Axure RP 9.0å¯æ‰“å¼€è¯¥æ–‡ä»¶</p><p>å¼ºçƒˆå»ºè®®åˆå­¦è€…å…ˆæŒ‰ç…§æ­¤æ–‡æ¡£å®Œæˆå®‰è£…ï¼Œåœ¨å¯¹ K8S æœ‰æ›´å¤šç†è§£åï¼Œå†å‚è€ƒæ–‡æ¡£ <a href="https://kuboard.cn/install/install-kubernetes.html" target="_blank" rel="noopener">å®‰è£…Kubernetesé«˜å¯ç”¨</a></p><p><img src="/" class="lazyload" data-src="https://kuboard.cn/images/topology/k8s.png"  alt="Kuberneteså®‰è£…ï¼šKuberneteså®‰è£…æ‹“æ‰‘å›¾"></p><p>å…³äºäºŒè¿›åˆ¶å®‰è£…</p><p>kubeadm æ˜¯ Kubernetes å®˜æ–¹æ”¯æŒçš„å®‰è£…æ–¹å¼ï¼Œâ€œäºŒè¿›åˆ¶â€ ä¸æ˜¯ã€‚æœ¬æ–‡æ¡£é‡‡ç”¨ kubernetes.io å®˜æ–¹æ¨èçš„ kubeadm å·¥å…·å®‰è£… kubernetes é›†ç¾¤ã€‚</p><h2 id="æ£€æŸ¥-centos-hostname"><a href="#æ£€æŸ¥-centos-hostname" class="headerlink" title="æ£€æŸ¥ centos / hostname"></a>æ£€æŸ¥ centos / hostname</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åœ¨ master èŠ‚ç‚¹å’Œ worker èŠ‚ç‚¹éƒ½è¦æ‰§è¡Œ</span></span><br><span class="line">cat /etc/redhat-release</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ­¤å¤„ hostname çš„è¾“å‡ºå°†ä¼šæ˜¯è¯¥æœºå™¨åœ¨ Kubernetes é›†ç¾¤ä¸­çš„èŠ‚ç‚¹åå­—</span></span><br><span class="line"><span class="comment"># ä¸èƒ½ä½¿ç”¨ localhost ä½œä¸ºèŠ‚ç‚¹çš„åå­—</span></span><br><span class="line">hostname</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯·ä½¿ç”¨ lscpu å‘½ä»¤ï¼Œæ ¸å¯¹ CPU ä¿¡æ¯</span></span><br><span class="line"><span class="comment"># Architecture: x86_64    æœ¬å®‰è£…æ–‡æ¡£ä¸æ”¯æŒ arm æ¶æ„</span></span><br><span class="line"><span class="comment"># CPU(s):       2         CPU å†…æ ¸æ•°é‡ä¸èƒ½ä½äº 2</span></span><br><span class="line">lscpu</span><br></pre></td></tr></table></figure><p><strong>æ“ä½œç³»ç»Ÿå…¼å®¹æ€§</strong></p><table><thead><tr><th>CentOS ç‰ˆæœ¬</th><th>æœ¬æ–‡æ¡£æ˜¯å¦å…¼å®¹</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>7.7</td><td>ğŸ˜„</td><td>å·²éªŒè¯</td></tr><tr><td>7.6</td><td>ğŸ˜„</td><td>å·²éªŒè¯</td></tr><tr><td>7.5</td><td>ğŸ˜</td><td>å·²è¯å®ä¼šå‡ºç° kubelet æ— æ³•å¯åŠ¨çš„é—®é¢˜</td></tr><tr><td>7.4</td><td>ğŸ˜</td><td>å·²è¯å®ä¼šå‡ºç° kubelet æ— æ³•å¯åŠ¨çš„é—®é¢˜</td></tr><tr><td>7.3</td><td>ğŸ˜</td><td>å·²è¯å®ä¼šå‡ºç° kubelet æ— æ³•å¯åŠ¨çš„é—®é¢˜</td></tr><tr><td>7.2</td><td>ğŸ˜</td><td>å·²è¯å®ä¼šå‡ºç° kubelet æ— æ³•å¯åŠ¨çš„é—®é¢˜</td></tr></tbody></table><p>ä¿®æ”¹ hostname</p><p>å¦‚æœæ‚¨éœ€è¦ä¿®æ”¹ hostnameï¼Œå¯æ‰§è¡Œå¦‚ä¸‹æŒ‡ä»¤ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¿®æ”¹ hostname</span></span><br><span class="line">hostnamectl <span class="built_in">set</span>-hostname your-new-host-name</span><br><span class="line"><span class="comment"># æŸ¥çœ‹ä¿®æ”¹ç»“æœ</span></span><br><span class="line">hostnamectl status</span><br><span class="line"><span class="comment"># è®¾ç½® hostname è§£æ</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"127.0.0.1   <span class="variable">$(hostname)</span>"</span> &gt;&gt; /etc/hosts</span><br></pre></td></tr></table></figure><h2 id="æ£€æŸ¥ç½‘ç»œ"><a href="#æ£€æŸ¥ç½‘ç»œ" class="headerlink" title="æ£€æŸ¥ç½‘ç»œ"></a>æ£€æŸ¥ç½‘ç»œ</h2><p>åœ¨æ‰€æœ‰èŠ‚ç‚¹æ‰§è¡Œå‘½ä»¤</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@demo-master<span class="_">-a</span>-1 ~]$ ip route show</span><br><span class="line">default via 172.21.0.1 dev eth0 </span><br><span class="line">169.254.0.0/16 dev eth0 scope link metric 1002 </span><br><span class="line">172.21.0.0/20 dev eth0 proto kernel scope link src 172.21.0.12 </span><br><span class="line"></span><br><span class="line">[root@demo-master<span class="_">-a</span>-1 ~]$ ip address</span><br><span class="line">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000</span><br><span class="line">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span><br><span class="line">    inet 127.0.0.1/8 scope host lo</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000</span><br><span class="line">    link/ether 00:16:3e:12:a4:1b brd ff:ff:ff:ff:ff:ff</span><br><span class="line">    inet 172.17.216.80/20 brd 172.17.223.255 scope global dynamic eth0</span><br><span class="line">       valid_lft 305741654sec preferred_lft 305741654sec</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">kubeletä½¿ç”¨çš„IPåœ°å€</span><br><span class="line"></span><br><span class="line">ip route show å‘½ä»¤ä¸­ï¼Œå¯ä»¥çŸ¥é“æœºå™¨çš„é»˜è®¤ç½‘å¡ï¼Œé€šå¸¸æ˜¯ eth0ï¼Œå¦‚ default via 172.21.0.23 dev eth0</span><br><span class="line">ip address å‘½ä»¤ä¸­ï¼Œå¯æ˜¾ç¤ºé»˜è®¤ç½‘å¡çš„ IP åœ°å€ï¼ŒKubernetes å°†ä½¿ç”¨æ­¤ IP åœ°å€ä¸é›†ç¾¤å†…çš„å…¶ä»–èŠ‚ç‚¹é€šä¿¡ï¼Œå¦‚ 172.17.216.80</span><br><span class="line">æ‰€æœ‰èŠ‚ç‚¹ä¸Š Kubernetes æ‰€ä½¿ç”¨çš„ IP åœ°å€å¿…é¡»å¯ä»¥äº’é€šï¼ˆæ— éœ€ NAT æ˜ å°„ã€æ— å®‰å…¨ç»„æˆ–é˜²ç«å¢™éš”ç¦»ï¼‰</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…dockeråŠkubelet"><a href="#å®‰è£…dockeråŠkubelet" class="headerlink" title="å®‰è£…dockeråŠkubelet"></a>å®‰è£…dockeråŠkubelet</h2><p><code>è¯·è®¤çœŸæ ¸å¯¹å¦‚ä¸‹é€‰é¡¹ï¼Œ7 ä¸ªéƒ½é€‰ä¸­åæ‰èƒ½æ˜¾ç¤ºå¦‚ä½•å®‰è£…ã€‚</code></p><p>é€‰ä¸­åæ˜¾ç¤º å®‰è£… docker/kubelet çš„æ–‡æ¡£</p><ul><li>æˆ‘çš„ä»»æ„èŠ‚ç‚¹ centos ç‰ˆæœ¬ä¸º 7.6 æˆ– 7.7</li><li>æˆ‘çš„ä»»æ„èŠ‚ç‚¹ CPU å†…æ ¸æ•°é‡å¤§äºç­‰äº 2ï¼Œä¸”å†…å­˜å¤§äºç­‰äº 4G</li><li>æˆ‘çš„ä»»æ„èŠ‚ç‚¹ hostname ä¸æ˜¯ localhostï¼Œä¸”ä¸åŒ…å«ä¸‹åˆ’çº¿ã€å°æ•°ç‚¹ã€å¤§å†™å­—æ¯</li><li>æˆ‘çš„ä»»æ„èŠ‚ç‚¹éƒ½æœ‰å›ºå®šçš„å†…ç½‘ IP åœ°å€</li><li>æˆ‘çš„ä»»æ„èŠ‚ç‚¹éƒ½åªæœ‰ä¸€ä¸ªç½‘å¡ï¼Œå¦‚æœæœ‰ç‰¹æ®Šç›®çš„ï¼Œæˆ‘å¯ä»¥åœ¨å®Œæˆ K8S å®‰è£…åå†å¢åŠ æ–°çš„ç½‘å¡</li><li>æˆ‘çš„ä»»æ„èŠ‚ç‚¹ä¸Š <a href="https://kuboard.cn/install/install-k8s.html#æ£€æŸ¥ç½‘ç»œ" target="_blank" rel="noopener">Kubeletä½¿ç”¨çš„ IP åœ°å€</a> å¯äº’é€šï¼ˆæ— éœ€ NAT æ˜ å°„å³å¯ç›¸äº’è®¿é—®ï¼‰ï¼Œä¸”æ²¡æœ‰é˜²ç«å¢™ã€å®‰å…¨ç»„éš”ç¦»</li><li>æˆ‘çš„ä»»æ„èŠ‚ç‚¹ä¸ä¼šç›´æ¥ä½¿ç”¨ docker run æˆ– docker-compose è¿è¡Œå®¹å™¨</li></ul><h2 id="åˆå§‹åŒ–-master-èŠ‚ç‚¹"><a href="#åˆå§‹åŒ–-master-èŠ‚ç‚¹" class="headerlink" title="åˆå§‹åŒ– master èŠ‚ç‚¹"></a>åˆå§‹åŒ– master èŠ‚ç‚¹</h2><p>å…³äºåˆå§‹åŒ–æ—¶ç”¨åˆ°çš„ç¯å¢ƒå˜é‡</p><ul><li><strong>APISERVER_NAME</strong> ä¸èƒ½æ˜¯ master çš„ hostname</li><li><strong>APISERVER_NAME</strong> å¿…é¡»å…¨ä¸ºå°å†™å­—æ¯ã€æ•°å­—ã€å°æ•°ç‚¹ï¼Œä¸èƒ½åŒ…å«å‡å·</li><li><strong>POD_SUBNET</strong> æ‰€ä½¿ç”¨çš„ç½‘æ®µä¸èƒ½ä¸ <strong><em>masterèŠ‚ç‚¹/workerèŠ‚ç‚¹</em></strong> æ‰€åœ¨çš„ç½‘æ®µé‡å ã€‚è¯¥å­—æ®µçš„å–å€¼ä¸ºä¸€ä¸ª <a href="https://kuboard.cn/glossary/cidr.html" target="_blank" rel="noopener">CIDR</a> å€¼ï¼Œå¦‚æœæ‚¨å¯¹ CIDR è¿™ä¸ªæ¦‚å¿µè¿˜ä¸ç†Ÿæ‚‰ï¼Œè¯·ä»ç„¶æ‰§è¡Œ export POD_SUBNET=10.100.0.1/16 å‘½ä»¤ï¼Œä¸åšä¿®æ”¹</li></ul><p><code>å¿«é€Ÿåˆå§‹åŒ–</code></p><p><strong>è¯·å°†è„šæœ¬æœ€åçš„ 1.18.0 æ›¿æ¢æˆæ‚¨éœ€è¦çš„ç‰ˆæœ¬å·ï¼Œ</strong> è„šæœ¬ä¸­é—´çš„ v1.18.x ä¸è¦æ›¿æ¢</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åªåœ¨ master èŠ‚ç‚¹æ‰§è¡Œ</span></span><br><span class="line"><span class="comment"># æ›¿æ¢ x.x.x.x ä¸º master èŠ‚ç‚¹å®é™… IPï¼ˆè¯·ä½¿ç”¨å†…ç½‘ IPï¼‰</span></span><br><span class="line"><span class="comment"># export å‘½ä»¤åªåœ¨å½“å‰ shell ä¼šè¯ä¸­æœ‰æ•ˆï¼Œå¼€å¯æ–°çš„ shell çª—å£åï¼Œå¦‚æœè¦ç»§ç»­å®‰è£…è¿‡ç¨‹ï¼Œè¯·é‡æ–°æ‰§è¡Œæ­¤å¤„çš„ export å‘½ä»¤</span></span><br><span class="line"><span class="built_in">export</span> MASTER_IP=x.x.x.x</span><br><span class="line"><span class="comment"># æ›¿æ¢ apiserver.demo ä¸º æ‚¨æƒ³è¦çš„ dnsName</span></span><br><span class="line"><span class="built_in">export</span> APISERVER_NAME=apiserver.demo</span><br><span class="line"><span class="comment"># Kubernetes å®¹å™¨ç»„æ‰€åœ¨çš„ç½‘æ®µï¼Œè¯¥ç½‘æ®µå®‰è£…å®Œæˆåï¼Œç”± kubernetes åˆ›å»ºï¼Œäº‹å…ˆå¹¶ä¸å­˜åœ¨äºæ‚¨çš„ç‰©ç†ç½‘ç»œä¸­</span></span><br><span class="line"><span class="built_in">export</span> POD_SUBNET=10.100.0.1/16</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;MASTER_IP&#125;</span>    <span class="variable">$&#123;APISERVER_NAME&#125;</span>"</span> &gt;&gt; /etc/hosts</span><br><span class="line">curl -sSL https://kuboard.cn/install-script/v1.18.x/init_master.sh | sh -s 1.18.0</span><br></pre></td></tr></table></figure><p><code>æ‰‹åŠ¨åˆå§‹åŒ–</code></p><p>æ‰‹åŠ¨æ‰§è¡Œä»¥ä¸‹ä»£ç ï¼Œç»“æœä¸å¿«é€Ÿåˆå§‹åŒ–ç›¸åŒã€‚<strong><em>è¯·å°†è„šæœ¬ç¬¬21è¡Œï¼ˆå·²é«˜äº®ï¼‰çš„ ${1} æ›¿æ¢æˆæ‚¨éœ€è¦çš„ç‰ˆæœ¬å·ï¼Œä¾‹å¦‚ 1.18.0</em></strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åªåœ¨ master èŠ‚ç‚¹æ‰§è¡Œ</span></span><br><span class="line"><span class="comment"># æ›¿æ¢ x.x.x.x ä¸º master èŠ‚ç‚¹çš„å†…ç½‘IP</span></span><br><span class="line"><span class="comment"># export å‘½ä»¤åªåœ¨å½“å‰ shell ä¼šè¯ä¸­æœ‰æ•ˆï¼Œå¼€å¯æ–°çš„ shell çª—å£åï¼Œå¦‚æœè¦ç»§ç»­å®‰è£…è¿‡ç¨‹ï¼Œè¯·é‡æ–°æ‰§è¡Œæ­¤å¤„çš„ export å‘½ä»¤</span></span><br><span class="line"><span class="built_in">export</span> MASTER_IP=x.x.x.x</span><br><span class="line"><span class="comment"># æ›¿æ¢ apiserver.demo ä¸º æ‚¨æƒ³è¦çš„ dnsName</span></span><br><span class="line"><span class="built_in">export</span> APISERVER_NAME=apiserver.demo</span><br><span class="line"><span class="comment"># Kubernetes å®¹å™¨ç»„æ‰€åœ¨çš„ç½‘æ®µï¼Œè¯¥ç½‘æ®µå®‰è£…å®Œæˆåï¼Œç”± kubernetes åˆ›å»ºï¼Œäº‹å…ˆå¹¶ä¸å­˜åœ¨äºæ‚¨çš„ç‰©ç†ç½‘ç»œä¸­</span></span><br><span class="line"><span class="built_in">export</span> POD_SUBNET=10.100.0.1/16</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;MASTER_IP&#125;</span>    <span class="variable">$&#123;APISERVER_NAME&#125;</span>"</span> &gt;&gt; /etc/hosts</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åªåœ¨ master èŠ‚ç‚¹æ‰§è¡Œ</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è„šæœ¬å‡ºé”™æ—¶ç»ˆæ­¢æ‰§è¡Œ</span></span><br><span class="line"><span class="built_in">set</span> -e</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$&#123;#POD_SUBNET&#125;</span> -eq 0 ] || [ <span class="variable">$&#123;#APISERVER_NAME&#125;</span> -eq 0 ]; <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> -e <span class="string">"\033[31;1mè¯·ç¡®ä¿æ‚¨å·²ç»è®¾ç½®äº†ç¯å¢ƒå˜é‡ POD_SUBNET å’Œ APISERVER_NAME \033[0m"</span></span><br><span class="line">  <span class="built_in">echo</span> å½“å‰POD_SUBNET=<span class="variable">$POD_SUBNET</span></span><br><span class="line">  <span class="built_in">echo</span> å½“å‰APISERVER_NAME=<span class="variable">$APISERVER_NAME</span></span><br><span class="line">  <span class="built_in">exit</span> 1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹å®Œæ•´é…ç½®é€‰é¡¹ https://godoc.org/k8s.io/kubernetes/cmd/kubeadm/app/apis/kubeadm/v1beta2</span></span><br><span class="line">rm -f ./kubeadm-config.yaml</span><br><span class="line">cat &lt;&lt;EOF &gt; ./kubeadm-config.yaml</span><br><span class="line">apiVersion: kubeadm.k8s.io/v1beta2</span><br><span class="line">kind: ClusterConfiguration</span><br><span class="line">kubernetesVersion: v<span class="variable">$&#123;1&#125;</span></span><br><span class="line">imageRepository: registry.cn-hangzhou.aliyuncs.com/google_containers</span><br><span class="line">controlPlaneEndpoint: <span class="string">"<span class="variable">$&#123;APISERVER_NAME&#125;</span>:6443"</span></span><br><span class="line">networking:</span><br><span class="line">  serviceSubnet: <span class="string">"10.96.0.0/16"</span></span><br><span class="line">  podSubnet: <span class="string">"<span class="variable">$&#123;POD_SUBNET&#125;</span>"</span></span><br><span class="line">  dnsDomain: <span class="string">"cluster.local"</span></span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line"><span class="comment"># kubeadm init</span></span><br><span class="line"><span class="comment"># æ ¹æ®æ‚¨æœåŠ¡å™¨ç½‘é€Ÿçš„æƒ…å†µï¼Œæ‚¨éœ€è¦ç­‰å€™ 3 - 10 åˆ†é’Ÿ</span></span><br><span class="line">kubeadm init --config=kubeadm-config.yaml --upload-certs</span><br><span class="line"></span><br><span class="line"><span class="comment"># é…ç½® kubectl</span></span><br><span class="line">rm -rf /root/.kube/</span><br><span class="line">mkdir /root/.kube/</span><br><span class="line">cp -i /etc/kubernetes/admin.conf /root/.kube/config</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£… calico ç½‘ç»œæ’ä»¶</span></span><br><span class="line"><span class="comment"># å‚è€ƒæ–‡æ¡£ https://docs.projectcalico.org/v3.13/getting-started/kubernetes/self-managed-onprem/onpremises</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"å®‰è£…calico-3.13.1"</span></span><br><span class="line">rm -f calico-3.13.1.yaml</span><br><span class="line">wget https://kuboard.cn/install-script/calico/calico-3.13.1.yaml</span><br><span class="line">kubectl apply -f calico-3.13.1.yaml</span><br></pre></td></tr></table></figure><p><strong>æ£€æŸ¥ master åˆå§‹åŒ–ç»“æœ</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åªåœ¨ master èŠ‚ç‚¹æ‰§è¡Œ</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œç­‰å¾… 3-10 åˆ†é’Ÿï¼Œç›´åˆ°æ‰€æœ‰çš„å®¹å™¨ç»„å¤„äº Running çŠ¶æ€</span></span><br><span class="line">watch kubectl get pod -n kube-system -o wide</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ master èŠ‚ç‚¹åˆå§‹åŒ–ç»“æœ</span></span><br><span class="line">kubectl get nodes -o wide</span><br></pre></td></tr></table></figure><h2 id="åˆå§‹åŒ–-workerèŠ‚ç‚¹"><a href="#åˆå§‹åŒ–-workerèŠ‚ç‚¹" class="headerlink" title="åˆå§‹åŒ– workerèŠ‚ç‚¹"></a>åˆå§‹åŒ– workerèŠ‚ç‚¹</h2><h3 id="è·å¾—-joinå‘½ä»¤å‚æ•°è·å¾—-joinå‘½ä»¤å‚æ•°"><a href="#è·å¾—-joinå‘½ä»¤å‚æ•°è·å¾—-joinå‘½ä»¤å‚æ•°" class="headerlink" title="è·å¾—-joinå‘½ä»¤å‚æ•°è·å¾— joinå‘½ä»¤å‚æ•°"></a>è·å¾—-joinå‘½ä»¤å‚æ•°è·å¾— joinå‘½ä»¤å‚æ•°</h3><p><strong>åœ¨ master èŠ‚ç‚¹ä¸Šæ‰§è¡Œ</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åªåœ¨ master èŠ‚ç‚¹æ‰§è¡Œ</span></span><br><span class="line">kubeadm token create --<span class="built_in">print</span>-join-command</span><br></pre></td></tr></table></figure><p>å¯è·å–kubeadm join å‘½ä»¤åŠå‚æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤º</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># kubeadm token create å‘½ä»¤çš„è¾“å‡º</span></span><br><span class="line">kubeadm join apiserver.demo:6443 --token mpfjma.4vjjg8flqihor4vt     --discovery-token-ca-cert-hash sha256:6f7a8e40a810323672de5eee6f4d19aa2dbdb38411845a1bf5dd63485c43d303</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">æœ‰æ•ˆæ—¶é—´</span><br><span class="line"></span><br><span class="line">è¯¥ token çš„æœ‰æ•ˆæ—¶é—´ä¸º 2 ä¸ªå°æ—¶ï¼Œ2å°æ—¶å†…ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨æ­¤ token åˆå§‹åŒ–ä»»æ„æ•°é‡çš„ worker èŠ‚ç‚¹ã€‚</span><br></pre></td></tr></table></figure><h3 id="åˆå§‹åŒ–worker"><a href="#åˆå§‹åŒ–worker" class="headerlink" title="åˆå§‹åŒ–worker"></a>åˆå§‹åŒ–worker</h3><p><strong>é’ˆå¯¹æ‰€æœ‰çš„ worker èŠ‚ç‚¹æ‰§è¡Œ</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åªåœ¨ worker èŠ‚ç‚¹æ‰§è¡Œ</span></span><br><span class="line"><span class="comment"># æ›¿æ¢ x.x.x.x ä¸º master èŠ‚ç‚¹çš„å†…ç½‘ IP</span></span><br><span class="line"><span class="built_in">export</span> MASTER_IP=x.x.x.x</span><br><span class="line"><span class="comment"># æ›¿æ¢ apiserver.demo ä¸ºåˆå§‹åŒ– master èŠ‚ç‚¹æ—¶æ‰€ä½¿ç”¨çš„ APISERVER_NAME</span></span><br><span class="line"><span class="built_in">export</span> APISERVER_NAME=apiserver.demo</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;MASTER_IP&#125;</span>    <span class="variable">$&#123;APISERVER_NAME&#125;</span>"</span> &gt;&gt; /etc/hosts</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ›¿æ¢ä¸º master èŠ‚ç‚¹ä¸Š kubeadm token create å‘½ä»¤çš„è¾“å‡º</span></span><br><span class="line">kubeadm join apiserver.demo:6443 --token mpfjma.4vjjg8flqihor4vt     --discovery-token-ca-cert-hash sha256:6f7a8e40a810323672de5eee6f4d19aa2dbdb38411845a1bf5dd63485c43d303</span><br></pre></td></tr></table></figure><h3 id="æ£€æŸ¥åˆå§‹åŒ–ç»“æœ"><a href="#æ£€æŸ¥åˆå§‹åŒ–ç»“æœ" class="headerlink" title="æ£€æŸ¥åˆå§‹åŒ–ç»“æœ"></a>æ£€æŸ¥åˆå§‹åŒ–ç»“æœ</h3><p>åœ¨ master èŠ‚ç‚¹ä¸Šæ‰§è¡Œ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åªåœ¨ master èŠ‚ç‚¹æ‰§è¡Œ</span></span><br><span class="line">kubectl get nodes -o wide</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@demo-master<span class="_">-a</span>-1 ~]<span class="comment"># kubectl get nodes</span></span><br><span class="line">NAME     STATUS   ROLES    AGE     VERSION</span><br><span class="line">demo-master<span class="_">-a</span>-1   Ready    master   5m3s    v1.18.x</span><br><span class="line">demo-worker<span class="_">-a</span>-1   Ready    &lt;none&gt;   2m26s   v1.18.x</span><br><span class="line">demo-worker<span class="_">-a</span>-2   Ready    &lt;none&gt;   3m56s   v1.18.x</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…-Ingress-Controller"><a href="#å®‰è£…-Ingress-Controller" class="headerlink" title="å®‰è£… Ingress Controller"></a>å®‰è£… Ingress Controller</h2><h3 id="å¿«é€Ÿåˆå§‹åŒ–"><a href="#å¿«é€Ÿåˆå§‹åŒ–" class="headerlink" title="å¿«é€Ÿåˆå§‹åŒ–"></a><code>å¿«é€Ÿåˆå§‹åŒ–</code></h3><p><strong>åœ¨ master èŠ‚ç‚¹ä¸Šæ‰§è¡Œ</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åªåœ¨ master èŠ‚ç‚¹æ‰§è¡Œ</span></span><br><span class="line">kubectl apply -f https://kuboard.cn/install-script/v1.18.x/nginx-ingress.yaml</span><br></pre></td></tr></table></figure><h3 id="å¸è½½-Ingress-Controller"><a href="#å¸è½½-Ingress-Controller" class="headerlink" title="å¸è½½ Ingress Controller"></a><code>å¸è½½ Ingress Controller</code></h3><p><strong>åœ¨ master èŠ‚ç‚¹ä¸Šæ‰§è¡Œ</strong></p><p>åªåœ¨æ‚¨æƒ³é€‰æ‹©å…¶ä»– Ingress Controller çš„æƒ…å†µä¸‹å¸è½½</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åªåœ¨ master èŠ‚ç‚¹æ‰§è¡Œ</span></span><br><span class="line">kubectl delete -f https://kuboard.cn/install-script/v1.18.x/nginx-ingress.yaml</span><br></pre></td></tr></table></figure><h3 id="Yamlæ–‡ä»¶"><a href="#Yamlæ–‡ä»¶" class="headerlink" title="Yamlæ–‡ä»¶"></a><code>Yamlæ–‡ä»¶</code></h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¦‚æœæ‰“ç®—ç”¨äºç”Ÿäº§ç¯å¢ƒï¼Œè¯·å‚è€ƒ https://github.com/nginxinc/kubernetes-ingress/blob/v1.5.5/docs/installation.md å¹¶æ ¹æ®æ‚¨è‡ªå·±çš„æƒ…å†µåšè¿›ä¸€æ­¥å®šåˆ¶</span></span><br><span class="line"></span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: Namespace</span><br><span class="line">metadata:</span><br><span class="line">  name: nginx-ingress</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: ServiceAccount</span><br><span class="line">metadata:</span><br><span class="line">  name: nginx-ingress </span><br><span class="line">  namespace: nginx-ingress</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: Secret</span><br><span class="line">metadata:</span><br><span class="line">  name: default-server-secret</span><br><span class="line">  namespace: nginx-ingress</span><br><span class="line"><span class="built_in">type</span>: Opaque</span><br><span class="line">data:</span><br><span class="line">  tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN2akNDQWFZQ0NRREFPRjl0THNhWFhEQU5CZ2txaGtpRzl3MEJBUXNGQURBaE1SOHdIUVlEVlFRRERCWk8KUjBsT1dFbHVaM0psYzNORGIyNTBjbTlzYkdWeU1CNFhEVEU0TURreE1qRTRNRE16TlZvWERUSXpNRGt4TVRFNApNRE16TlZvd0lURWZNQjBHQTFVRUF3d1dUa2RKVGxoSmJtZHlaWE56UTI5dWRISnZiR3hsY2pDQ0FTSXdEUVlKCktvWklodmNOQVFFQkJRQURnZ0VQQURDQ0FRb0NnZ0VCQUwvN2hIUEtFWGRMdjNyaUM3QlBrMTNpWkt5eTlyQ08KR2xZUXYyK2EzUDF0azIrS3YwVGF5aGRCbDRrcnNUcTZzZm8vWUk1Y2Vhbkw4WGM3U1pyQkVRYm9EN2REbWs1Qgo4eDZLS2xHWU5IWlg0Rm5UZ0VPaStlM2ptTFFxRlBSY1kzVnNPazFFeUZBL0JnWlJVbkNHZUtGeERSN0tQdGhyCmtqSXVuektURXUyaDU4Tlp0S21ScUJHdDEwcTNRYzhZT3ExM2FnbmovUWRjc0ZYYTJnMjB1K1lYZDdoZ3krZksKWk4vVUkxQUQ0YzZyM1lma1ZWUmVHd1lxQVp1WXN2V0RKbW1GNWRwdEMzN011cDBPRUxVTExSakZJOTZXNXIwSAo1TmdPc25NWFJNV1hYVlpiNWRxT3R0SmRtS3FhZ25TZ1JQQVpQN2MwQjFQU2FqYzZjNGZRVXpNQ0F3RUFBVEFOCkJna3Foa2lHOXcwQkFRc0ZBQU9DQVFFQWpLb2tRdGRPcEsrTzhibWVPc3lySmdJSXJycVFVY2ZOUitjb0hZVUoKdGhrYnhITFMzR3VBTWI5dm15VExPY2xxeC9aYzJPblEwMEJCLzlTb0swcitFZ1U2UlVrRWtWcitTTFA3NTdUWgozZWI4dmdPdEduMS9ienM3bzNBaS9kclkrcUI5Q2k1S3lPc3FHTG1US2xFaUtOYkcyR1ZyTWxjS0ZYQU80YTY3Cklnc1hzYktNbTQwV1U3cG9mcGltU1ZmaXFSdkV5YmN3N0NYODF6cFErUyt1eHRYK2VBZ3V0NHh3VlI5d2IyVXYKelhuZk9HbWhWNThDd1dIQnNKa0kxNXhaa2VUWXdSN0diaEFMSkZUUkk3dkhvQXprTWIzbjAxQjQyWjNrN3RXNQpJUDFmTlpIOFUvOWxiUHNoT21FRFZkdjF5ZytVRVJxbStGSis2R0oxeFJGcGZnPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=</span><br><span class="line">  tls.key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcEFJQkFBS0NBUUVBdi91RWM4b1JkMHUvZXVJTHNFK1RYZUprckxMMnNJNGFWaEMvYjVyYy9XMlRiNHEvClJOcktGMEdYaVN1eE9ycXgrajlnamx4NXFjdnhkenRKbXNFUkJ1Z1B0ME9hVGtIekhvb3FVWmcwZGxmZ1dkT0EKUTZMNTdlT1l0Q29VOUZ4amRXdzZUVVRJVUQ4R0JsRlNjSVo0b1hFTkhzbysyR3VTTWk2Zk1wTVM3YUhudzFtMApxWkdvRWEzWFNyZEJ6eGc2clhkcUNlUDlCMXl3VmRyYURiUzc1aGQzdUdETDU4cGszOVFqVUFQaHpxdmRoK1JWClZGNGJCaW9CbTVpeTlZTW1hWVhsMm0wTGZzeTZuUTRRdFFzdEdNVWozcGJtdlFmazJBNnljeGRFeFpkZFZsdmwKMm82MjBsMllxcHFDZEtCRThCay90elFIVTlKcU56cHpoOUJUTXdJREFRQUJBb0lCQVFDZklHbXowOHhRVmorNwpLZnZJUXQwQ0YzR2MxNld6eDhVNml4MHg4Mm15d1kxUUNlL3BzWE9LZlRxT1h1SENyUlp5TnUvZ2IvUUQ4bUFOCmxOMjRZTWl0TWRJODg5TEZoTkp3QU5OODJDeTczckM5bzVvUDlkazAvYzRIbjAzSkVYNzZ5QjgzQm9rR1FvYksKMjhMNk0rdHUzUmFqNjd6Vmc2d2szaEhrU0pXSzBwV1YrSjdrUkRWYmhDYUZhNk5nMUZNRWxhTlozVDhhUUtyQgpDUDNDeEFTdjYxWTk5TEI4KzNXWVFIK3NYaTVGM01pYVNBZ1BkQUk3WEh1dXFET1lvMU5PL0JoSGt1aVg2QnRtCnorNTZud2pZMy8yUytSRmNBc3JMTnIwMDJZZi9oY0IraVlDNzVWYmcydVd6WTY3TWdOTGQ5VW9RU3BDRkYrVm4KM0cyUnhybnhBb0dCQU40U3M0ZVlPU2huMVpQQjdhTUZsY0k2RHR2S2ErTGZTTXFyY2pOZjJlSEpZNnhubmxKdgpGenpGL2RiVWVTbWxSekR0WkdlcXZXaHFISy9iTjIyeWJhOU1WMDlRQ0JFTk5jNmtWajJTVHpUWkJVbEx4QzYrCk93Z0wyZHhKendWelU0VC84ajdHalRUN05BZVpFS2FvRHFyRG5BYWkyaW5oZU1JVWZHRXFGKzJyQW9HQkFOMVAKK0tZL0lsS3RWRzRKSklQNzBjUis3RmpyeXJpY05iWCtQVzUvOXFHaWxnY2grZ3l4b25BWlBpd2NpeDN3QVpGdwpaZC96ZFB2aTBkWEppc1BSZjRMazg5b2pCUmpiRmRmc2l5UmJYbyt3TFU4NUhRU2NGMnN5aUFPaTVBRHdVU0FkCm45YWFweUNweEFkREtERHdObit3ZFhtaTZ0OHRpSFRkK3RoVDhkaVpBb0dCQUt6Wis1bG9OOTBtYlF4VVh5YUwKMjFSUm9tMGJjcndsTmVCaWNFSmlzaEhYa2xpSVVxZ3hSZklNM2hhUVRUcklKZENFaHFsV01aV0xPb2I2NTNyZgo3aFlMSXM1ZUtka3o0aFRVdnpldm9TMHVXcm9CV2xOVHlGanIrSWhKZnZUc0hpOGdsU3FkbXgySkJhZUFVWUNXCndNdlQ4NmNLclNyNkQrZG8wS05FZzFsL0FvR0FlMkFVdHVFbFNqLzBmRzgrV3hHc1RFV1JqclRNUzRSUjhRWXQKeXdjdFA4aDZxTGxKUTRCWGxQU05rMXZLTmtOUkxIb2pZT2pCQTViYjhibXNVU1BlV09NNENoaFJ4QnlHbmR2eAphYkJDRkFwY0IvbEg4d1R0alVZYlN5T294ZGt5OEp0ek90ajJhS0FiZHd6NlArWDZDODhjZmxYVFo5MWpYL3RMCjF3TmRKS2tDZ1lCbyt0UzB5TzJ2SWFmK2UwSkN5TGhzVDQ5cTN3Zis2QWVqWGx2WDJ1VnRYejN5QTZnbXo5aCsKcDNlK2JMRUxwb3B0WFhNdUFRR0xhUkcrYlNNcjR5dERYbE5ZSndUeThXczNKY3dlSTdqZVp2b0ZpbmNvVlVIMwphdmxoTUVCRGYxSjltSDB5cDBwWUNaS2ROdHNvZEZtQktzVEtQMjJhTmtsVVhCS3gyZzR6cFE9PQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo=</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line">kind: ConfigMap</span><br><span class="line">apiVersion: v1</span><br><span class="line">metadata:</span><br><span class="line">  name: nginx-config</span><br><span class="line">  namespace: nginx-ingress</span><br><span class="line">data:</span><br><span class="line">  server-names-hash-bucket-size: <span class="string">"1024"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">---</span><br><span class="line">kind: ClusterRole</span><br><span class="line">apiVersion: rbac.authorization.k8s.io/v1beta1</span><br><span class="line">metadata:</span><br><span class="line">  name: nginx-ingress</span><br><span class="line">rules:</span><br><span class="line">- apiGroups:</span><br><span class="line">  - <span class="string">""</span></span><br><span class="line">  resources:</span><br><span class="line">  - services</span><br><span class="line">  - endpoints</span><br><span class="line">  verbs:</span><br><span class="line">  - get</span><br><span class="line">  - list</span><br><span class="line">  - watch</span><br><span class="line">- apiGroups:</span><br><span class="line">  - <span class="string">""</span></span><br><span class="line">  resources:</span><br><span class="line">  - secrets</span><br><span class="line">  verbs:</span><br><span class="line">  - get</span><br><span class="line">  - list</span><br><span class="line">  - watch</span><br><span class="line">- apiGroups:</span><br><span class="line">  - <span class="string">""</span></span><br><span class="line">  resources:</span><br><span class="line">  - configmaps</span><br><span class="line">  verbs:</span><br><span class="line">  - get</span><br><span class="line">  - list</span><br><span class="line">  - watch</span><br><span class="line">  - update</span><br><span class="line">  - create</span><br><span class="line">- apiGroups:</span><br><span class="line">  - <span class="string">""</span></span><br><span class="line">  resources:</span><br><span class="line">  - pods</span><br><span class="line">  verbs:</span><br><span class="line">  - list</span><br><span class="line">- apiGroups:</span><br><span class="line">  - <span class="string">""</span></span><br><span class="line">  resources:</span><br><span class="line">  - events</span><br><span class="line">  verbs:</span><br><span class="line">  - create</span><br><span class="line">  - patch</span><br><span class="line">- apiGroups:</span><br><span class="line">  - extensions</span><br><span class="line">  resources:</span><br><span class="line">  - ingresses</span><br><span class="line">  verbs:</span><br><span class="line">  - list</span><br><span class="line">  - watch</span><br><span class="line">  - get</span><br><span class="line">- apiGroups:</span><br><span class="line">  - <span class="string">"extensions"</span></span><br><span class="line">  resources:</span><br><span class="line">  - ingresses/status</span><br><span class="line">  verbs:</span><br><span class="line">  - update</span><br><span class="line">- apiGroups:</span><br><span class="line">  - k8s.nginx.org</span><br><span class="line">  resources:</span><br><span class="line">  - virtualservers</span><br><span class="line">  - virtualserverroutes</span><br><span class="line">  verbs:</span><br><span class="line">  - list</span><br><span class="line">  - watch</span><br><span class="line">  - get</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line">kind: ClusterRoleBinding</span><br><span class="line">apiVersion: rbac.authorization.k8s.io/v1beta1</span><br><span class="line">metadata:</span><br><span class="line">  name: nginx-ingress</span><br><span class="line">subjects:</span><br><span class="line">- kind: ServiceAccount</span><br><span class="line">  name: nginx-ingress</span><br><span class="line">  namespace: nginx-ingress</span><br><span class="line">roleRef:</span><br><span class="line">  kind: ClusterRole</span><br><span class="line">  name: nginx-ingress</span><br><span class="line">  apiGroup: rbac.authorization.k8s.io</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line">apiVersion: apps/v1</span><br><span class="line">kind: DaemonSet</span><br><span class="line">metadata:</span><br><span class="line">  name: nginx-ingress</span><br><span class="line">  namespace: nginx-ingress</span><br><span class="line">  annotations:</span><br><span class="line">    prometheus.io/scrape: <span class="string">"true"</span></span><br><span class="line">    prometheus.io/port: <span class="string">"9113"</span></span><br><span class="line">spec:</span><br><span class="line">  selector:</span><br><span class="line">    matchLabels:</span><br><span class="line">      app: nginx-ingress</span><br><span class="line">  template:</span><br><span class="line">    metadata:</span><br><span class="line">      labels:</span><br><span class="line">        app: nginx-ingress</span><br><span class="line">    spec:</span><br><span class="line">      serviceAccountName: nginx-ingress</span><br><span class="line">      containers:</span><br><span class="line">      - image: nginx/nginx-ingress:1.5.5</span><br><span class="line">        name: nginx-ingress</span><br><span class="line">        ports:</span><br><span class="line">        - name: http</span><br><span class="line">          containerPort: 80</span><br><span class="line">          hostPort: 80</span><br><span class="line">        - name: https</span><br><span class="line">          containerPort: 443</span><br><span class="line">          hostPort: 443</span><br><span class="line">        - name: prometheus</span><br><span class="line">          containerPort: 9113</span><br><span class="line">        env:</span><br><span class="line">        - name: POD_NAMESPACE</span><br><span class="line">          valueFrom:</span><br><span class="line">            fieldRef:</span><br><span class="line">              fieldPath: metadata.namespace</span><br><span class="line">        - name: POD_NAME</span><br><span class="line">          valueFrom:</span><br><span class="line">            fieldRef:</span><br><span class="line">              fieldPath: metadata.name</span><br><span class="line">        args:</span><br><span class="line">          - -nginx-configmaps=$(POD_NAMESPACE)/nginx-config</span><br><span class="line">          - -default-server-tls-secret=$(POD_NAMESPACE)/default-server-secret</span><br><span class="line">         <span class="comment">#- -v=3 # Enables extensive logging. Useful for troubleshooting.</span></span><br><span class="line">         <span class="comment">#- -report-ingress-status</span></span><br><span class="line">         <span class="comment">#- -external-service=nginx-ingress</span></span><br><span class="line">         <span class="comment">#- -enable-leader-election</span></span><br><span class="line">          - -<span class="built_in">enable</span>-prometheus-metrics</span><br><span class="line">         <span class="comment">#- -enable-custom-resources</span></span><br></pre></td></tr></table></figure><p><strong>é…ç½®åŸŸåè§£æ</strong></p><p>å°†åŸŸå *.demo.yourdomain.com è§£æåˆ° demo-worker-a-2 çš„ IP åœ°å€ z.z.z.z ï¼ˆä¹Ÿå¯ä»¥æ˜¯ demo-worker-a-1 çš„åœ°å€ y.y.y.yï¼‰</p><p><strong>éªŒè¯é…ç½®</strong></p><p>åœ¨æµè§ˆå™¨è®¿é—® a.demo.yourdomain.comï¼Œå°†å¾—åˆ° 404 NotFound é”™è¯¯é¡µé¢</p><p><code>æç¤º</code></p><p>è®¸å¤šåˆå­¦è€…åœ¨å®‰è£… Ingress Controller æ—¶ä¼šç¢°åˆ°é—®é¢˜ï¼Œè¯·ä¸è¦ç°å¿ƒï¼Œå¯æš‚æ—¶è·³è¿‡ <strong><em>å®‰è£… Ingress Controller</em></strong> è¿™ä¸ªéƒ¨åˆ†ï¼Œç­‰æ‚¨å­¦å®Œ <a href="http://www.kuboard.cn" target="_blank" rel="noopener">www.kuboard.cn</a> ä¸Š <a href="https://kuboard.cn/learning/k8s-basics/kubernetes-basics.html" target="_blank" rel="noopener">Kubernetes å…¥é—¨</a> ä»¥åŠ <a href="https://kuboard.cn/learning/k8s-intermediate/service/ingress.html" target="_blank" rel="noopener">é€šè¿‡äº’è”ç½‘è®¿é—®æ‚¨çš„åº”ç”¨ç¨‹åº</a> è¿™ä¸¤éƒ¨åˆ†å†…å®¹åï¼Œå†æ¥å›é¡¾ Ingress Controller çš„å®‰è£…ã€‚</p><p>ä¹Ÿå¯ä»¥å‚è€ƒ <a href="https://docs.nginx.com/nginx-ingress-controller/installation/installation-with-manifests/" target="_blank" rel="noopener">Install Nginx Ingress</a></p><p><code>WARNING</code></p><p>å¦‚æœæ‚¨æ‰“ç®—å°† Kubernetes ç”¨äºç”Ÿäº§ç¯å¢ƒï¼Œè¯·å‚è€ƒæ­¤æ–‡æ¡£ <a href="https://github.com/nginxinc/kubernetes-ingress/blob/v1.5.3/docs/installation.md" target="_blank" rel="noopener">Installing Ingress Controller</a>ï¼Œå®Œå–„ Ingress çš„é…ç½®</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="Kubernetes" scheme="http://linuxwf.com/categories/Kubernetes/"/>
    
    
      <category term="k8s" scheme="http://linuxwf.com/tags/k8s/"/>
    
  </entry>
  
  <entry>
    <title>ç¬¬1ç«  k8sç®€ä»‹</title>
    <link href="http://linuxwf.com/2020/04/09/%E7%AC%AC1%E7%AB%A0-k8s%E7%AE%80%E4%BB%8B/"/>
    <id>http://linuxwf.com/2020/04/09/%E7%AC%AC1%E7%AB%A0-k8s%E7%AE%80%E4%BB%8B/</id>
    <published>2020-04-09T11:00:00.000Z</published>
    <updated>2020-04-09T11:11:18.978Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="ç¬¬1ç« -k8sç®€ä»‹"><a href="#ç¬¬1ç« -k8sç®€ä»‹" class="headerlink" title="ç¬¬1ç«  k8sç®€ä»‹"></a>ç¬¬1ç«  k8sç®€ä»‹</h1><p><a href="https://kubernetes.io/" target="_blank" rel="noopener">Kubernetes</a> ç®€ç§°k8s. æ˜¯ä¸€ä¸ªå¼€æºçš„ Linux<br>å®¹å™¨è‡ªåŠ¨åŒ–è¿ç»´å¹³å°ï¼Œå®ƒæ¶ˆé™¤äº†å®¹å™¨åŒ–åº”ç”¨ç¨‹åºåœ¨éƒ¨ç½²ã€ä¼¸ç¼©æ—¶æ¶‰åŠåˆ°çš„è®¸å¤šæ‰‹åŠ¨æ“ä½œã€‚æ¢å¥è¯è¯´ï¼Œä½ å¯ä»¥å°†å¤šå°ä¸»æœºç»„åˆæˆé›†ç¾¤æ¥è¿è¡Œ<br>Linux å®¹å™¨ï¼Œè€Œ Kuberneteså¯ä»¥å¸®åŠ©ä½ ç®€å•é«˜æ•ˆåœ°ç®¡ç†é‚£äº›é›†ç¾¤ã€‚</p><p>Kubernetes æœ€å¼€å§‹æ˜¯ç”± Google çš„å·¥ç¨‹å¸ˆè®¾è®¡å¼€å‘çš„ã€‚Google ä½œä¸º Linux<br>å®¹å™¨æŠ€æœ¯çš„æ—©æœŸè´¡çŒ®è€…ä¹‹ä¸€ï¼Œæ›¾å…¬å¼€æ¼”è®²ä»‹ç» Google å¦‚ä½•å°†ä¸€åˆ‡éƒ½è¿è¡Œäºå®¹å™¨ä¹‹ä¸­ï¼ˆè¿™æ˜¯<br>Google çš„äº‘æœåŠ¡èƒŒåçš„æŠ€æœ¯ï¼‰ã€‚Googleä¸€å‘¨å†…çš„å®¹å™¨éƒ¨ç½²è¶…è¿‡ 20<br>äº¿æ¬¡ï¼Œå…¨éƒ¨çš„å·¥ä½œéƒ½ç”±å†…éƒ¨å¹³å° Borgæ”¯æ’‘ã€‚Borgæ˜¯ Kubernetes çš„å‰èº«ï¼Œå‡ å¹´æ¥å¼€å‘ Borg<br>çš„ç»éªŒæ•™è®­ä¹Ÿæˆäº†å½±å“ Kubernetes ä¸­è®¸å¤šæŠ€æœ¯çš„ä¸»è¦å› ç´ ã€‚</p><h1 id="ç¬¬2ç« -k8sç‰¹æ€§"><a href="#ç¬¬2ç« -k8sç‰¹æ€§" class="headerlink" title="ç¬¬2ç«  k8sç‰¹æ€§"></a>ç¬¬2ç«  k8sç‰¹æ€§</h1><p>Kubernetesæ˜¯ä¸ºç”Ÿäº§ç¯å¢ƒè€Œè®¾è®¡çš„å®¹å™¨è°ƒåº¦ç®¡ç†ç³»ç»Ÿï¼Œå¯¹äºè´Ÿè½½å‡è¡¡ã€æœåŠ¡å‘ç°ã€é«˜å¯ç”¨ã€æ»šåŠ¨å‡çº§ã€è‡ªåŠ¨ä¼¸ç¼©ç­‰å®¹å™¨äº‘å¹³å°çš„åŠŸèƒ½è¦æ±‚æœ‰åŸç”Ÿæ”¯æŒ</p><p>ä¸€ä¸ªK8sé›†ç¾¤æ˜¯ç”±åˆ†å¸ƒå¼å­˜å‚¨ï¼ˆetcdï¼‰ã€æœåŠ¡èŠ‚ç‚¹ï¼ˆMinionï¼Œetcdç°åœ¨ç§°ä¸ºNodeï¼‰å’Œæ§åˆ¶èŠ‚ç‚¹ï¼ˆMasterï¼‰æ„æˆçš„ã€‚æ‰€æœ‰çš„é›†ç¾¤çŠ¶æ€éƒ½ä¿å­˜åœ¨etcdä¸­ï¼Œ<br>MasterèŠ‚ç‚¹ä¸Šåˆ™è¿è¡Œé›†ç¾¤çš„ç®¡ç†æ§åˆ¶æ¨¡å—ã€‚<br>NodeèŠ‚ç‚¹æ˜¯çœŸæ­£è¿è¡Œåº”ç”¨å®¹å™¨çš„ä¸»æœºèŠ‚ç‚¹ï¼Œåœ¨æ¯ä¸ªMinionèŠ‚ç‚¹ä¸Šéƒ½ä¼šè¿è¡Œä¸€ä¸ªKubeletä»£ç†ï¼Œæ§åˆ¶è¯¥èŠ‚ç‚¹ä¸Šçš„å®¹å™¨ã€é•œåƒå’Œå­˜å‚¨å·ç­‰ã€‚</p><h1 id="ç¬¬3ç« -k8sç³»ç»Ÿæ¶æ„"><a href="#ç¬¬3ç« -k8sç³»ç»Ÿæ¶æ„" class="headerlink" title="ç¬¬3ç«  k8sç³»ç»Ÿæ¶æ„"></a>ç¬¬3ç«  k8sç³»ç»Ÿæ¶æ„</h1><p>Kubernetesè¢«è®¾è®¡ä¸ºMasterå’ŒNodeä¸¤ä¸ªèŠ‚ç‚¹ï¼ŒMasterä¸ºæ§åˆ¶èŠ‚ç‚¹ï¼ŒNodeä¸ºè®¡ç®—èŠ‚ç‚¹æˆ–å·¥ä½œèŠ‚ç‚¹ï¼Œåœ¨MasterèŠ‚ç‚¹ä¸Šæœ‰ä¸€ä¸ªAPI<br>Serverï¼Œå¯¹å¤–æä¾›æ ‡å‡†çš„RestAPI,è¿™ä¹Ÿæ˜¯Kubernetesé›†ç¾¤çš„å…¥å£ï¼Œæ„å‘³åªè¦å’Œé›†ç¾¤äº¤äº’å°±å¿…é¡»è¿åˆ°API<br>Server</p><p><img src="/" class="lazyload" data-src="https://note.youdao.com/yws/public/resource/53f7c5494fd6e7788baee5b1267d8997/07240F78F6E84164AF4EBCA3CB172C2C?ynotemdtimestamp=1586429563125"  alt="image"></p><p><img src="/" class="lazyload" data-src="https://note.youdao.com/yws/public/resource/53f7c5494fd6e7788baee5b1267d8997/23F75CFA322A43368E0CE0703CA297C5?ynotemdtimestamp=1586429563125"  alt="image"></p><h2 id="3-1-MasterèŠ‚ç‚¹ä»‹ç»"><a href="#3-1-MasterèŠ‚ç‚¹ä»‹ç»" class="headerlink" title="3.1 MasterèŠ‚ç‚¹ä»‹ç»"></a>3.1 MasterèŠ‚ç‚¹ä»‹ç»</h2><p>MasterèŠ‚ç‚¹ä¸»è¦æœ‰4ä¸ªç»„ä»¶ï¼ŒAPI Server, Scheduler, Contoller, etcd</p><h3 id="1-API-Server"><a href="#1-API-Server" class="headerlink" title="1.API Server"></a>1.API Server</h3><p>æä¾›Kubernetes<br>APIæ¥å£ï¼Œä¸»è¦å¤„ç†Restæ“ä½œä»¥åŠæ›´æ–°Etcdä¸­çš„å¯¹è±¡ï¼Œæ˜¯æ‰€æœ‰èµ„æºå¢åˆ æ”¹æŸ¥çš„å”¯ä¸€å…¥å£ã€‚</p><h3 id="2-Scheduler"><a href="#2-Scheduler" class="headerlink" title="2.Scheduler"></a>2.Scheduler</h3><p>ç»‘å®šPodåˆ°Nodeä¸Šï¼Œä¸»è¦åšèµ„æºè°ƒåº¦</p><h3 id="3-Controller-Manager"><a href="#3-Controller-Manager" class="headerlink" title="3.Controller Manager"></a>3.Controller Manager</h3><p>æ‰€æœ‰å…¶ä»–é›†ç¾¤çº§åˆ«çš„åŠŸèƒ½ï¼Œç›®å‰ç”±æ§åˆ¶å™¨å™¨Manageræ‰§è¡Œã€‚èµ„æºå¯¹è±¡çš„è‡ªåŠ¨åŒ–æ§åˆ¶ä¸­å¿ƒï¼ŒKubernetesé›†ç¾¤æœ‰å¾ˆå¤šæ§åˆ¶å™¨ã€‚</p><h3 id="4-Etcd"><a href="#4-Etcd" class="headerlink" title="4.Etcd"></a>4.Etcd</h3><p>æ‰€æœ‰æŒä¹…åŒ–çš„çŠ¶æ€ä¿¡æ¯å­˜å‚¨åœ¨Etcdä¸­ï¼Œè¿™ä¸ªæ˜¯Kubernetesé›†ç¾¤çš„æ•°æ®åº“</p><h2 id="3-2-NodeèŠ‚ç‚¹ä»‹ç»"><a href="#3-2-NodeèŠ‚ç‚¹ä»‹ç»" class="headerlink" title="3.2 NodeèŠ‚ç‚¹ä»‹ç»"></a>3.2 NodeèŠ‚ç‚¹ä»‹ç»</h2><p>NodeèŠ‚ç‚¹æ˜¯Kuerntesé›†ç¾¤çš„å·¥ä½œèŠ‚ç‚¹,NodeèŠ‚ç‚¹ä¸Šä¸»è¦è¿è¡Œäº†Docker,Kubelet,kub-proxy<strong>ä¸‰ä¸ªæœåŠ¡</strong></p><p><img src="/" class="lazyload" data-src="https://note.youdao.com/yws/public/resource/53f7c5494fd6e7788baee5b1267d8997/41F42C504F6E49FD88B0DFE4DE485610?ynotemdtimestamp=1586429563125"  alt="image"></p><p><strong>1.Docker Engine</strong></p><p>è´Ÿè´£èŠ‚ç‚¹å®¹å™¨çš„ç®¡ç†å·¥ä½œï¼Œæœ€ç»ˆåˆ›å»ºå‡ºæ¥çš„æ˜¯ä¸€ä¸ªDockerå®¹å™¨ã€‚</p><p><strong>2.kubelet</strong></p><p>å®‰è£…åœ¨Nodeä¸Šçš„ä»£ç†æœåŠ¡ï¼Œç”¨æ¥ç®¡ç†Podsä»¥åŠå®¹å™¨/é•œåƒ/Volumeç­‰ï¼Œå®ç°å¯¹é›†ç¾¤å¯¹èŠ‚ç‚¹çš„ç®¡ç†ã€‚</p><p><strong>3.kube-proxy</strong></p><p>å®‰è£…åœ¨Nodeä¸Šçš„ç½‘ç»œä»£ç†æœåŠ¡ï¼Œæä¾›ç½‘ç»œä»£ç†ä»¥åŠè´Ÿè½½å‡è¡¡ï¼Œå®ç°ä¸Serviceé€šè®¯ã€‚</p><h1 id="ç¬¬4ç« -kubernetesé€»è¾‘æ¶æ„"><a href="#ç¬¬4ç« -kubernetesé€»è¾‘æ¶æ„" class="headerlink" title="ç¬¬4ç«  kubernetesé€»è¾‘æ¶æ„"></a>ç¬¬4ç«  kubernetesé€»è¾‘æ¶æ„</h1><h2 id="4-1-Pod"><a href="#4-1-Pod" class="headerlink" title="4.1 Pod"></a>4.1 Pod</h2><p>Podæ˜¯Kubernetesçš„æœ€å°ç®¡ç†å•å…ƒï¼Œä¸€ä¸ªPodå¯ä»¥åŒ…å«ä¸€ç»„å®¹å™¨å’Œå·ã€‚è™½ç„¶ä¸€ä¸ªPodé‡Œé¢å¯ä»¥åŒ…å«ä¸€ä¸ªæˆ–è€…å¤šä¸ªå®¹å™¨ï¼Œä½†æ˜¯Podåªæœ‰ä¸€ä¸ªIPåœ°å€ï¼Œè€Œä¸”Podé‡å¯åï¼ŒIPåœ°å€ä¼šå‘ç”Ÿå˜åŒ–ã€‚</p><p><img src="/" class="lazyload" data-src="https://note.youdao.com/yws/public/resource/53f7c5494fd6e7788baee5b1267d8997/7E22BF8ACB2A420EA993F3D16B04FE42?ynotemdtimestamp=1586429563125"  alt="image"></p><h2 id="4-2-Controller"><a href="#4-2-Controller" class="headerlink" title="4.2 Controller"></a>4.2 Controller</h2><p>é›†ç¾¤ä¸­ä¼šæœ‰å¾ˆå¤šPodï¼Œé‚£ä¹ˆå°±éœ€è¦ä½¿ç”¨æ§åˆ¶å™¨æ¥ç®¡ç†Pod</p><p>k8sä¸­æœ‰å¾ˆå¤šæ§åˆ¶å™¨ï¼Œå¸¸è§çš„æ§åˆ¶å™¨å¦‚ä¸‹ï¼š</p><ul><li>Replication Controllerï¼ˆæ–°ç‰ˆæœ¬å·²ç»è¢«ReplicaSetæ‰€æ›¿ä»£ï¼‰</li><li>ReplicaSetï¼ˆæ–°ç‰ˆæœ¬è¢«å°è£…åœ¨Deploymentä¸­ï¼‰</li><li>Deploymentï¼šå°è£…äº†Podçš„å‰¯æœ¬ç®¡ç†ã€éƒ¨ç½²æ›´æ–°ã€å›æ»šã€æ‰©å®¹ã€ç¼©å®¹ç­‰åŠŸèƒ½ã€‚</li><li>DaemonSetï¼šä¿è¯æ‰€æœ‰çš„Nodeä¸Šæœ‰ä¸”åªæœ‰ä¸€ä¸ªPodåœ¨è¿è¡Œã€‚</li><li>StatefulSetï¼šæœ‰çŠ¶æ€çš„åº”ç”¨ï¼Œä¸º Pod æä¾›å”¯ä¸€çš„æ ‡è¯†ï¼Œå®ƒå¯ä»¥ä¿è¯éƒ¨ç½²å’Œ scale</li><li>çš„é¡ºåºã€‚</li><li>Jobï¼šä½¿ç”¨Kubernetesè¿è¡Œå•ä¸€ä»»åŠ¡ã€‚</li><li>CronJobï¼šä½¿ç”¨Kubernetesè¿è¡Œå®šæ—¶ä»»åŠ¡ã€‚</li></ul><h2 id="4-3-Service"><a href="#4-3-Service" class="headerlink" title="4.3 Service"></a>4.3 Service</h2><p>ç”±äºPodçš„ç”Ÿå‘½å‘¨æœŸæ˜¯çŸ­æš‚çš„ï¼Œè€Œä¸”æ¯æ¬¡é‡å¯Podçš„IPåœ°å€éƒ½ä¼šå‘ç”Ÿå˜åŒ–ï¼Œè€Œä¸”ä¸€ä¸ªPodæœ‰å¤šä¸ªå‰¯æœ¬ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªé›†ç¾¤ä¸­æœ‰äº†å¤šä¸ªèŠ‚ç‚¹ï¼Œå°±éœ€è¦è€ƒè™‘è´Ÿè½½å‡è¡¡çš„é—®é¢˜ã€‚Kubernetesä½¿ç”¨Serviceæ¥å®ç°Podçš„è®¿é—®ï¼Œè€Œä¸”Serviceæœ‰ä¸€ä¸ªCluster<br>IPï¼Œé€šå¸¸ä¹Ÿç§°ä¹‹ä¸ºVIPï¼Œæ˜¯å›ºå®šä¸å˜çš„ã€‚</p><h1 id="ç¬¬5ç« -kubernetesç½‘ç»œä»‹ç»"><a href="#ç¬¬5ç« -kubernetesç½‘ç»œä»‹ç»" class="headerlink" title="ç¬¬5ç«  kubernetesç½‘ç»œä»‹ç»"></a>ç¬¬5ç«  kubernetesç½‘ç»œä»‹ç»</h1><p>åœ¨Kubernetesé›†ç¾¤ä¸­å­˜åœ¨ç€ä¸‰ç§ç½‘ç»œï¼Œåˆ†åˆ«æ˜¯Nodeç½‘ç»œã€Podç½‘ç»œå’ŒServiceç½‘ç»œï¼Œè¿™å‡ ç§ç½‘ç»œä¹‹é—´çš„é€šä¿¡éœ€è¦ä¾é ç½‘ç»œæ’ä»¶ï¼ŒKubernetesæœ¬èº«å¹¶æ²¡æœ‰æä¾›ï¼Œç¤¾åŒºæä¾›äº†åƒFlannelã€Calicoã€Cannalç­‰ç½‘ç»œæ’ä»¶ã€‚</p><h2 id="5-1-Nodeç½‘ç»œ"><a href="#5-1-Nodeç½‘ç»œ" class="headerlink" title="5.1 Nodeç½‘ç»œ"></a>5.1 Nodeç½‘ç»œ</h2><p>Nodeç½‘ç»œæŒ‡çš„æ˜¯Kubernetes<br>NodeèŠ‚ç‚¹æœ¬åœ°çš„ç½‘ç»œï¼Œåœ¨æœ¬å®éªŒç¯å¢ƒä¸­ä½¿ç”¨çš„æ˜¯10.0.0./24è¿™ä¸ªç½‘æ®µï¼Œæ‰€æœ‰çš„Nodeå’ŒMasteråœ¨è¯¥ç½‘æ®µéƒ½å¯ä»¥æ­£å¸¸é€šä¿¡ã€‚</p><h2 id="5-2-Serviceç½‘ç»œ"><a href="#5-2-Serviceç½‘ç»œ" class="headerlink" title="5.2 Serviceç½‘ç»œ"></a>5.2 Serviceç½‘ç»œ</h2><p>Serviceæ˜¯ä¸ºPodæä¾›è®¿é—®å’Œè´Ÿè½½å‡è¡¡çš„ç½‘ç»œåœ°å€æ®µ</p><h2 id="5-3-Podç½‘ç»œ"><a href="#5-3-Podç½‘ç»œ" class="headerlink" title="5.3 Podç½‘ç»œ"></a>5.3 Podç½‘ç»œ</h2><p>åé¢åˆ›å»ºçš„Podï¼Œæ¯ä¸€ä¸ªPodéƒ½ä¼šæœ‰ä¸€ä¸ªIPåœ°å€ï¼Œè¿™ä¸ªIPåœ°å€ç½‘ç»œæ®µè¢«ç§°ä¹‹ä¸ºPodç½‘ç»œï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="Kubernetes" scheme="http://linuxwf.com/categories/Kubernetes/"/>
    
    
      <category term="dokcer" scheme="http://linuxwf.com/tags/dokcer/"/>
    
      <category term="k8s" scheme="http://linuxwf.com/tags/k8s/"/>
    
      <category term="å®¹å™¨" scheme="http://linuxwf.com/tags/%E5%AE%B9%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>Dockerå®¹å™¨</title>
    <link href="http://linuxwf.com/2020/04/09/Docker%E5%AE%B9%E5%99%A8/"/>
    <id>http://linuxwf.com/2020/04/09/Docker%E5%AE%B9%E5%99%A8/</id>
    <published>2020-04-09T07:16:00.000Z</published>
    <updated>2020-04-09T07:37:05.297Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="Dockerå®¹å™¨"><a href="#Dockerå®¹å™¨" class="headerlink" title="Dockerå®¹å™¨"></a>Dockerå®¹å™¨</h1><h2 id="Docker-å®¹å™¨ä»‹ç»"><a href="#Docker-å®¹å™¨ä»‹ç»" class="headerlink" title="Docker å®¹å™¨ä»‹ç»"></a>Docker å®¹å™¨ä»‹ç»</h2><h3 id="docker-æ˜¯ä»€ä¹ˆ"><a href="#docker-æ˜¯ä»€ä¹ˆ" class="headerlink" title="docker æ˜¯ä»€ä¹ˆ"></a>docker æ˜¯ä»€ä¹ˆ</h3><p>Docker æ˜¯Docker.Inc å…¬å¸å¼€æºçš„ä¸€ä¸ªåŸºäºLXC æŠ€æœ¯ä¹‹ä¸Šæ„å»ºçš„Container å®¹å™¨å¼•æ“ï¼Œ æºä»£ç æ‰˜ç®¡<br>åœ¨GitHub ä¸Š, åŸºäºGo è¯­è¨€å¹¶éµä»Apache2.0 åè®®å¼€æºã€‚<br>Docker æ˜¯é€šè¿‡å†…æ ¸è™šæ‹ŸåŒ–æŠ€æœ¯ï¼ˆnamespaces åŠcgroups ç­‰ï¼‰æ¥æä¾›å®¹å™¨çš„èµ„æºéš”ç¦»ä¸å®‰å…¨ä¿éšœç­‰ã€‚ç”±äºDocker é€šè¿‡æ“ä½œç³»ç»Ÿå±‚çš„è™šæ‹ŸåŒ–å®ç°éš”ç¦»ï¼Œæ‰€ä»¥Docker å®¹å™¨åœ¨è¿è¡Œæ—¶ï¼Œä¸éœ€è¦ç±»ä¼¼è™šæ‹Ÿæœºï¼ˆVMï¼‰é¢å¤–çš„æ“ä½œç³»ç»Ÿå¼€é”€ï¼Œæé«˜èµ„æºåˆ©ç”¨ç‡ã€‚</p><h3 id="namespace-å‘½åç©ºé—´"><a href="#namespace-å‘½åç©ºé—´" class="headerlink" title="namespace å‘½åç©ºé—´"></a>namespace å‘½åç©ºé—´</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Mount Namespace - ç”¨äºéš”ç¦»æ–‡ä»¶ç³»ç»Ÿçš„æŒ‚è½½ç‚¹</span><br><span class="line">UTS Namespace - ç”¨äºéš”ç¦»HostName å’ŒDomianName</span><br><span class="line">IPC Namespace - ç”¨äºéš”ç¦»è¿›ç¨‹é—´é€šä¿¡</span><br><span class="line">PID Namespace - ç”¨äºéš”ç¦»è¿›ç¨‹ID</span><br><span class="line">Network Namespace - ç”¨äºéš”ç¦»ç½‘ç»œ</span><br><span class="line">User Namespace - ç”¨äºéš”ç¦»ç”¨æˆ·å’Œç”¨æˆ·ç»„UID/GID</span><br></pre></td></tr></table></figure><h3 id="cgroupsèµ„æºé™åˆ¶"><a href="#cgroupsèµ„æºé™åˆ¶" class="headerlink" title="cgroupsèµ„æºé™åˆ¶"></a>cgroupsèµ„æºé™åˆ¶</h3><p>æ§åˆ¶ç»„ï¼ˆcgroupsï¼‰æ˜¯Linux å†…æ ¸çš„ä¸€ä¸ªç‰¹æ€§ï¼Œä¸»è¦ç”¨æ¥å¯¹å…±äº«èµ„æºè¿›è¡Œéš”ç¦»ã€é™åˆ¶ã€å®¡è®¡ç­‰ã€‚åªæœ‰<br>èƒ½æ§åˆ¶åˆ†é…åˆ°å®¹å™¨çš„èµ„æºï¼Œæ‰èƒ½é¿å…å½“å¤šä¸ªå®¹å™¨åŒæ—¶è¿è¡Œæ—¶çš„å¯¹ç³»ç»Ÿèµ„æºçš„ç«äº‰ã€‚<br>æ§åˆ¶ç»„æŠ€æœ¯æœ€æ—©æ˜¯ç”±Google çš„ç¨‹åºå‘˜åœ¨2006 å¹´æå‡ºï¼ŒLinux å†…æ ¸è‡ª2.6.24 å¼€å§‹æ”¯æŒã€‚<br>æ§åˆ¶ç»„å¯ä»¥æä¾›å¯¹å®¹å™¨çš„å†…å­˜ã€CPUã€ç£ç›˜IO ç­‰èµ„æºçš„é™åˆ¶å’Œå®¡è®¡ç®¡ç†ã€‚</p><h3 id="å®¹å™¨ä¸è™šæ‹Ÿæœºå¯¹æ¯”"><a href="#å®¹å™¨ä¸è™šæ‹Ÿæœºå¯¹æ¯”" class="headerlink" title="å®¹å™¨ä¸è™šæ‹Ÿæœºå¯¹æ¯”"></a>å®¹å™¨ä¸è™šæ‹Ÿæœºå¯¹æ¯”</h3><p><img src="/" class="lazyload" data-src="https://note.youdao.com/yws/public/resource/f681b4611780d72ab9718e381df5ea17/58F195B98CB741CF97EB5AFA4076F8B3?ynotemdtimestamp=1586417471888"  alt="image"></p><p><img src="/" class="lazyload" data-src="https://note.youdao.com/yws/public/resource/f681b4611780d72ab9718e381df5ea17/2136579F0E664FB38DE98440F203F638?ynotemdtimestamp=1586417471888"  alt="image"></p><h3 id="docker-çš„ä¸‰ä¸ªé‡è¦æ¦‚å¿µ"><a href="#docker-çš„ä¸‰ä¸ªé‡è¦æ¦‚å¿µ" class="headerlink" title="docker çš„ä¸‰ä¸ªé‡è¦æ¦‚å¿µ"></a>docker çš„ä¸‰ä¸ªé‡è¦æ¦‚å¿µ</h3><p><strong>Image(é•œåƒ):</strong><br>é‚£ä¹ˆé•œåƒåˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼ŸDocker é•œåƒå¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶ç³»ç»Ÿï¼Œé™¤äº†æä¾›å®¹å™¨è¿è¡Œæ—¶æ‰€éœ€çš„<br>ç¨‹åºã€åº“ã€èµ„æºã€é…ç½®ç­‰æ–‡ä»¶å¤–ï¼Œè¿˜åŒ…å«äº†ä¸€äº›ä¸ºè¿è¡Œæ—¶å‡†å¤‡çš„ä¸€äº›é…ç½®å‚æ•°ï¼ˆå¦‚åŒ¿åå·ã€ç¯å¢ƒå˜é‡ã€ç”¨æˆ·ç­‰ï¼‰ã€‚</p><p><strong>Container(å®¹å™¨)</strong><br>å®¹å™¨(Container)çš„å®šä¹‰å’Œé•œåƒ(Image)å‡ ä¹ä¸€æ¨¡ä¸€æ ·ï¼Œä¹Ÿæ˜¯ä¸€å †å±‚çš„ç»Ÿä¸€è§†è§’ï¼Œå”¯ä¸€åŒºåˆ«åœ¨äºå®¹å™¨çš„æœ€ä¸Šé¢é‚£ä¸€å±‚æ˜¯å¯è¯»å¯å†™çš„ã€‚</p><p><strong>Repository(ä»“åº“)</strong><br>é•œåƒä»“åº“æ˜¯Docker ç”¨æ¥é›†ä¸­å­˜æ”¾é•œåƒæ–‡ä»¶çš„åœ°æ–¹ï¼Œç±»ä¼¼äºæˆ‘ä»¬ä¹‹å‰å¸¸ç”¨çš„ä»£ç ä»“åº“ã€‚<br>é€šå¸¸ï¼Œä¸€ä¸ªä»“åº“ä¼šåŒ…å«åŒä¸€ä¸ªè½¯ä»¶ä¸åŒç‰ˆæœ¬çš„é•œåƒï¼Œè€Œæ ‡ç­¾å°±å¸¸ç”¨äºå¯¹åº”è¯¥è½¯ä»¶çš„å„ä¸ªç‰ˆæœ¬ã€‚<br>æˆ‘ä»¬å¯ä»¥é€šè¿‡&lt;ä»“åº“å&gt;:&lt;æ ‡ç­¾&gt;çš„æ ¼å¼æ¥æŒ‡å®šå…·ä½“æ˜¯è¿™ä¸ªè½¯ä»¶å“ªä¸ªç‰ˆæœ¬çš„é•œåƒã€‚å¦‚æœä¸ç»™å‡ºæ ‡ç­¾ï¼Œå°†<br>ä»¥Latest ä½œä¸ºé»˜è®¤æ ‡ç­¾ã€‚</p><p><img src="/" class="lazyload" data-src="https://note.youdao.com/yws/public/resource/f681b4611780d72ab9718e381df5ea17/797B5B7220C249E29DA22FF643FE4198?ynotemdtimestamp=1586417471888"  alt="image"></p><h3 id="docker-çš„ç»„æˆéƒ¨åˆ†"><a href="#docker-çš„ç»„æˆéƒ¨åˆ†" class="headerlink" title="docker çš„ç»„æˆéƒ¨åˆ†"></a>docker çš„ç»„æˆéƒ¨åˆ†</h3><p>docker æ˜¯ä¼ ç»Ÿçš„CS æ¶æ„åˆ†ä¸ºdocker client å’Œdocker server<br>Docker å®¢æˆ·ç«¯æ˜¯Docker ç”¨æˆ·ä¸Docker äº¤äº’çš„ä¸»è¦æ–¹å¼ã€‚å½“æ‚¨ä½¿ç”¨Docker å‘½ä»¤è¡Œè¿è¡Œå‘½ä»¤æ—¶ï¼Œ<br>Docker å®¢æˆ·ç«¯å°†è¿™äº›å‘½ä»¤å‘é€ç»™æœåŠ¡å™¨ç«¯ï¼ŒæœåŠ¡ç«¯å°†æ‰§è¡Œè¿™äº›å‘½ä»¤ã€‚<br>Docker å‘½ä»¤ä½¿ç”¨Docker API ã€‚Docker å®¢æˆ·ç«¯å¯ä»¥ä¸å¤šä¸ªæœåŠ¡ç«¯è¿›è¡Œé€šä¿¡ã€‚</p><p><img src="/" class="lazyload" data-src="https://note.youdao.com/yws/public/resource/f681b4611780d72ab9718e381df5ea17/1EF6422FF8044852AFE47F294CD6B928?ynotemdtimestamp=1586417471888"  alt="image"></p><h2 id="Docker-å®‰è£…éƒ¨ç½²"><a href="#Docker-å®‰è£…éƒ¨ç½²" class="headerlink" title="Docker å®‰è£…éƒ¨ç½²"></a>Docker å®‰è£…éƒ¨ç½²</h2><h3 id="å›½å†…æºå®‰è£…docker-ce"><a href="#å›½å†…æºå®‰è£…docker-ce" class="headerlink" title="å›½å†…æºå®‰è£…docker-ce"></a>å›½å†…æºå®‰è£…docker-ce</h3><p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨æ¸…åæºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://mirrors.tuna.tsinghua.edu.cn/<span class="built_in">help</span>/docker-ce/</span><br></pre></td></tr></table></figure><p>æ“ä½œæ­¥éª¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">yum remove docker docker-common docker-selinux docker-engine</span><br><span class="line">yum install -y yum-utils device-mapper-persistent-data lvm2</span><br><span class="line">wget -O /etc/yum.repos.d/docker-ce.repo https://download.docker.com/linux/centos/docker-ce.repo</span><br><span class="line">sed -i <span class="string">'s+download.docker.com+mirrors.tuna.tsinghua.edu.cn/docker-ce+'</span> /etc/yum.repos.d/docker-ce.repo</span><br><span class="line">yum makecache fast</span><br><span class="line">yum install docker-ce</span><br><span class="line">systemctl start docker</span><br></pre></td></tr></table></figure><h3 id="å›½å†…è¿œé•œåƒåŠ é€Ÿé…ç½®"><a href="#å›½å†…è¿œé•œåƒåŠ é€Ÿé…ç½®" class="headerlink" title="å›½å†…è¿œé•œåƒåŠ é€Ÿé…ç½®"></a>å›½å†…è¿œé•œåƒåŠ é€Ÿé…ç½®</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /etc/docker</span><br><span class="line"> tee /etc/docker/daemon.json &lt;&lt;-<span class="string">'EOF'</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"registry-mirrors"</span>: [<span class="string">"https://1660dchq.mirror.aliyuncs.com"</span>]</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line">systemctl daemon-reload</span><br><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure><h3 id="å¿«é€Ÿå®‰è£…"><a href="#å¿«é€Ÿå®‰è£…" class="headerlink" title="å¿«é€Ÿå®‰è£…"></a>å¿«é€Ÿå®‰è£…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">æ€è·¯ï¼š</span><br><span class="line">1.å¼€å¯yum ç¼“å­˜</span><br><span class="line">2.å…¨æ–°ç¯å¢ƒå®‰è£…docker</span><br><span class="line">3.å°†ç¼“å­˜çš„åŒ…å…¨éƒ¨æ‰“åŒ…å‡ºæ¥</span><br><span class="line">4.å®‰è£…çš„æ—¶å€™ä½¿ç”¨rpm -ivh *.rpm æ–¹å¼å®‰è£…</span><br></pre></td></tr></table></figure><h3 id="è¿è¡Œç¬¬ä¸€ä¸ªå®¹å™¨"><a href="#è¿è¡Œç¬¬ä¸€ä¸ªå®¹å™¨" class="headerlink" title="è¿è¡Œç¬¬ä¸€ä¸ªå®¹å™¨"></a>è¿è¡Œç¬¬ä¸€ä¸ªå®¹å™¨</h3><p>è¿è¡Œä¸€ä¸ªHello world</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run alpine /bin/<span class="built_in">echo</span> <span class="string">"Hello world"</span></span><br></pre></td></tr></table></figure><h2 id="Docker-é•œåƒå’Œå®¹å™¨ç®¡ç†"><a href="#Docker-é•œåƒå’Œå®¹å™¨ç®¡ç†" class="headerlink" title="Docker é•œåƒå’Œå®¹å™¨ç®¡ç†"></a>Docker é•œåƒå’Œå®¹å™¨ç®¡ç†</h2><h3 id="é•œåƒç›¸å…³å‘½ä»¤"><a href="#é•œåƒç›¸å…³å‘½ä»¤" class="headerlink" title="é•œåƒç›¸å…³å‘½ä»¤"></a>é•œåƒç›¸å…³å‘½ä»¤</h3><h4 id="æœç´¢é•œåƒ"><a href="#æœç´¢é•œåƒ" class="headerlink" title="æœç´¢é•œåƒ"></a>æœç´¢é•œåƒ</h4><p>é€‰æ‹©é•œåƒå»ºè®®ï¼š</p><p>1.ä¼˜å…ˆé€‰æ‹©å®˜æ–¹çš„</p><p>2.é€‰æ‹©æ˜Ÿæ˜Ÿå¤šçš„</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker search centos</span><br></pre></td></tr></table></figure><p>3.æœç´¢é•œåƒå¹¶æŸ¥çœ‹è¯¥é•œåƒçš„tag</p><p>é»˜è®¤æˆ‘ä»¬ä½¿ç”¨å‘½ä»¤æŸ¥çœ‹æ˜¯çœ‹ä¸åˆ°é•œåƒçš„ç‰ˆæœ¬çš„ï¼Œå¯ä»¥é€šè¿‡docker-hub æŸ¥çœ‹ï¼Œä½†æ˜¯å›½å†…åŸå› ã€‚ã€‚ã€‚<br>è¿™é‡Œå¯ä»¥ä½¿ç”¨ä»“åº“çš„restful APIl æ¥æŸ¥è¯¢<br>jq æ˜¯ä¸€ä¸ªjson æ ¼å¼åŒ–å·¥å…·ï¼Œéœ€è¦æå‰å®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum install jq -y</span><br><span class="line">curl -s https://registry.hub.docker.com/v1/repositories/centos/tags|jq</span><br></pre></td></tr></table></figure><h4 id="è·å–é•œåƒ"><a href="#è·å–é•œåƒ" class="headerlink" title="è·å–é•œåƒ"></a>è·å–é•œåƒ</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull centos:7</span><br></pre></td></tr></table></figure><h4 id="æŸ¥çœ‹é•œåƒ"><a href="#æŸ¥çœ‹é•œåƒ" class="headerlink" title="æŸ¥çœ‹é•œåƒ"></a>æŸ¥çœ‹é•œåƒ</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker images</span><br></pre></td></tr></table></figure><h4 id="åˆ é™¤é•œåƒ"><a href="#åˆ é™¤é•œåƒ" class="headerlink" title="åˆ é™¤é•œåƒ"></a>åˆ é™¤é•œåƒ</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rmi centos:7</span><br></pre></td></tr></table></figure><h4 id="å¯¼å‡ºé•œåƒ"><a href="#å¯¼å‡ºé•œåƒ" class="headerlink" title="å¯¼å‡ºé•œåƒ"></a>å¯¼å‡ºé•œåƒ</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker save centos:7 -o centos-v7.tar</span><br><span class="line">docker save centos:7 &gt; centos-v7.tar</span><br></pre></td></tr></table></figure><h4 id="å¯¼å…¥é•œåƒ"><a href="#å¯¼å…¥é•œåƒ" class="headerlink" title="å¯¼å…¥é•œåƒ"></a>å¯¼å…¥é•œåƒ</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker load -i centos-v7.tar</span><br><span class="line">docker load &lt; centos-v7.tar</span><br></pre></td></tr></table></figure><h3 id="å®¹å™¨ç›¸å…³å‘½ä»¤"><a href="#å®¹å™¨ç›¸å…³å‘½ä»¤" class="headerlink" title="å®¹å™¨ç›¸å…³å‘½ä»¤"></a>å®¹å™¨ç›¸å…³å‘½ä»¤</h3><h4 id="å¯åŠ¨å®¹å™¨"><a href="#å¯åŠ¨å®¹å™¨" class="headerlink" title="å¯åŠ¨å®¹å™¨"></a>å¯åŠ¨å®¹å™¨</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1.å¯åŠ¨ä¸€ä¸ªå®¹å™¨å¹¶ä¿æŒä¸é€€å‡º</span><br><span class="line">docker run -it -d centos:7 /bin/bash </span><br><span class="line">2.å¯åŠ¨ä¸€ä¸ªå®¹å™¨å¹¶ä¿æŒä¸é€€å‡ºå¹¶è‡ªå®šä¹‰å‘½å</span><br><span class="line">docker run --name mycentos -it -d centos:7 /bin/bash</span><br></pre></td></tr></table></figure><h4 id="åœæ­¢å®¹å™¨"><a href="#åœæ­¢å®¹å™¨" class="headerlink" title="åœæ­¢å®¹å™¨"></a>åœæ­¢å®¹å™¨</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker stop å®¹å™¨ID</span><br></pre></td></tr></table></figure><h4 id="æŸ¥çœ‹å®¹å™¨çš„è¯¦ç»†ä¿¡æ¯"><a href="#æŸ¥çœ‹å®¹å™¨çš„è¯¦ç»†ä¿¡æ¯" class="headerlink" title="æŸ¥çœ‹å®¹å™¨çš„è¯¦ç»†ä¿¡æ¯"></a>æŸ¥çœ‹å®¹å™¨çš„è¯¦ç»†ä¿¡æ¯</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker inspect å®¹å™¨åæˆ–ID</span><br></pre></td></tr></table></figure><h4 id="æŸ¥çœ‹æ­£åœ¨è¿è¡Œå’Œå·²ç»åœæ­¢çš„å®¹å™¨"><a href="#æŸ¥çœ‹æ­£åœ¨è¿è¡Œå’Œå·²ç»åœæ­¢çš„å®¹å™¨" class="headerlink" title="æŸ¥çœ‹æ­£åœ¨è¿è¡Œå’Œå·²ç»åœæ­¢çš„å®¹å™¨"></a>æŸ¥çœ‹æ­£åœ¨è¿è¡Œå’Œå·²ç»åœæ­¢çš„å®¹å™¨</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker ps</span><br><span class="line">docker ps -a</span><br><span class="line">docker ps -q</span><br><span class="line">docker ps -qa</span><br></pre></td></tr></table></figure><h4 id="è¿›å…¥å®¹å™¨"><a href="#è¿›å…¥å®¹å™¨" class="headerlink" title="è¿›å…¥å®¹å™¨"></a>è¿›å…¥å®¹å™¨</h4><p>docker exec ä¼šåˆ†é…ä¸€ä¸ªæ–°çš„ç»ˆç«¯tty</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1.docker <span class="built_in">exec</span> ä¼šåˆ†é…ä¸€ä¸ªæ–°çš„ç»ˆç«¯tty</span><br><span class="line">docker <span class="built_in">exec</span> -it å®¹å™¨ID /bin/bash</span><br><span class="line">2.docker attach ä¼šä½¿ç”¨åŒä¸€ä¸ªç»ˆç«¯</span><br><span class="line">docker attach å®¹å™¨ID</span><br></pre></td></tr></table></figure><h4 id="åˆ é™¤å®¹å™¨"><a href="#åˆ é™¤å®¹å™¨" class="headerlink" title="åˆ é™¤å®¹å™¨"></a>åˆ é™¤å®¹å™¨</h4><p>åˆ é™¤å•ä¸ªå®¹å™¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rm å®¹å™¨ID</span><br></pre></td></tr></table></figure><p>æ‰¹é‡åˆ é™¤å®¹å™¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker stop $(docker ps -q)</span><br><span class="line">docker rm $(docker ps -aq)</span><br></pre></td></tr></table></figure><h2 id="Docker-ç½‘ç»œç®¡ç†"><a href="#Docker-ç½‘ç»œç®¡ç†" class="headerlink" title="Docker ç½‘ç»œç®¡ç†"></a>Docker ç½‘ç»œç®¡ç†</h2><h3 id="éšæœºæ˜ å°„ç«¯å£"><a href="#éšæœºæ˜ å°„ç«¯å£" class="headerlink" title="éšæœºæ˜ å°„ç«¯å£"></a>éšæœºæ˜ å°„ç«¯å£</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -P -d nginx:latest</span><br></pre></td></tr></table></figure><h3 id="æŒ‡å®šæ˜ å°„ç«¯å£"><a href="#æŒ‡å®šæ˜ å°„ç«¯å£" class="headerlink" title="æŒ‡å®šæ˜ å°„ç«¯å£"></a>æŒ‡å®šæ˜ å°„ç«¯å£</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -p 8080:80 -d nginx:latest</span><br></pre></td></tr></table></figure><p>å¦‚æœæƒ³å¤šä¸ªå®¹å™¨ä½¿ç”¨8080 ç«¯å£ï¼Œå¯ä»¥é€šè¿‡æ·»åŠ å¤šä¸ªIP åœ°å€å®ç°</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ifconfig eth0:1 10.0.1.52 up</span><br><span class="line">docker run -d -p 10.0.1.51:8080:80 nginx:latest</span><br><span class="line">docker run -d -p 10.0.1.52:8080:80 nginx:latest</span><br></pre></td></tr></table></figure><p>è¿›å…¥å®¹å™¨é‡Œä¿®æ”¹ç«™ç‚¹ç›®å½•ï¼Œç„¶åè®¿é—®æµ‹è¯•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -it bdb2a4e7e24d /bin/bash</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"web01"</span> &gt; /usr/share/nginx/html/index.html</span><br><span class="line">docker <span class="built_in">exec</span> -it 31c1de138dda /bin/bash</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"web02"</span> &gt; /usr/share/nginx/html/index.html</span><br></pre></td></tr></table></figure><p>è®¿é—®æµ‹è¯•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@docker01 ~]<span class="comment"># curl 10.0.1.51:8080</span></span><br></pre></td></tr></table></figure><h3 id="è·¨ä¸»æœºé€šä¿¡"><a href="#è·¨ä¸»æœºé€šä¿¡" class="headerlink" title="è·¨ä¸»æœºé€šä¿¡"></a>è·¨ä¸»æœºé€šä¿¡</h3><h2 id="Docker-æ•°æ®å·ç®¡ç†"><a href="#Docker-æ•°æ®å·ç®¡ç†" class="headerlink" title="Docker æ•°æ®å·ç®¡ç†"></a>Docker æ•°æ®å·ç®¡ç†</h2><h3 id="æŒä¹…åŒ–æ•°æ®å·"><a href="#æŒä¹…åŒ–æ•°æ®å·" class="headerlink" title="æŒä¹…åŒ–æ•°æ®å·"></a>æŒä¹…åŒ–æ•°æ®å·</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-v å®¿ä¸»æœºç›®å½•:å®¹å™¨å†…ç›®å½•</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æˆ‘ä»¬æ¥åˆ›å»ºä¸€ä¸ªhtml5 å°æ¸¸æˆ</p><h4 id="åˆ›å»ºæ¸¸æˆä»£ç ç›®å½•"><a href="#åˆ›å»ºæ¸¸æˆä»£ç ç›®å½•" class="headerlink" title="åˆ›å»ºæ¸¸æˆä»£ç ç›®å½•"></a>åˆ›å»ºæ¸¸æˆä»£ç ç›®å½•</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir /data/ -p</span><br><span class="line"><span class="built_in">cd</span> /data/</span><br><span class="line">unzip xiaoniaofeifei.zip -d xiaoniao</span><br></pre></td></tr></table></figure><h4 id="åˆ›å»ºå®¹å™¨å¹¶æ˜ å°„æ•°æ®å·"><a href="#åˆ›å»ºå®¹å™¨å¹¶æ˜ å°„æ•°æ®å·" class="headerlink" title="åˆ›å»ºå®¹å™¨å¹¶æ˜ å°„æ•°æ®å·"></a>åˆ›å»ºå®¹å™¨å¹¶æ˜ å°„æ•°æ®å·</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker stop $(docker ps -q)</span><br><span class="line">docker rm $(docker ps -aq)</span><br><span class="line">docker run -d -p 80:80 -v /data/xiaoniao:/usr/share/nginx/html nginx:latest</span><br><span class="line">docker ps</span><br></pre></td></tr></table></figure><h4 id="è®¿é—®æ¸¸æˆé¡µé¢"><a href="#è®¿é—®æ¸¸æˆé¡µé¢" class="headerlink" title="è®¿é—®æ¸¸æˆé¡µé¢"></a>è®¿é—®æ¸¸æˆé¡µé¢</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">10.0.1.51</span><br></pre></td></tr></table></figure><h3 id="æŒä¹…åŒ–æ•°æ®å·å®¹å™¨"><a href="#æŒä¹…åŒ–æ•°æ®å·å®¹å™¨" class="headerlink" title="æŒä¹…åŒ–æ•°æ®å·å®¹å™¨"></a>æŒä¹…åŒ–æ•°æ®å·å®¹å™¨</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--volumes-from (è·ŸæŸä¸€ä¸ªå·²ç»å­˜åœ¨çš„å®¹å™¨æŒ‚è½½ç›¸åŒçš„å·)</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹å½“å‰å®¹å™¨æœ‰å“ªäº›å·</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker volume ls</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æˆ‘ä»¬åˆ©ç”¨å®¹å™¨å·åˆ›å»ºä¸€ä¸ªå°æ¸¸æˆ</p><h4 id="åˆ›å»ºä¸€ä¸ªå®¹å™¨å·"><a href="#åˆ›å»ºä¸€ä¸ªå®¹å™¨å·" class="headerlink" title="åˆ›å»ºä¸€ä¸ªå®¹å™¨å·"></a>åˆ›å»ºä¸€ä¸ªå®¹å™¨å·</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 8080:80 --volume xiaoniao:/usr/share/nginx/html nginx:latest</span><br><span class="line">docker volume ls</span><br></pre></td></tr></table></figure><h4 id="æŸ¥çœ‹å·çš„ç›®å½•"><a href="#æŸ¥çœ‹å·çš„ç›®å½•" class="headerlink" title="æŸ¥çœ‹å·çš„ç›®å½•"></a>æŸ¥çœ‹å·çš„ç›®å½•</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker volume inspect xiaoniao</span><br></pre></td></tr></table></figure><h4 id="å¤åˆ¶ä»£ç ç›®å½•åˆ°å®¹å™¨å·ç›®å½•"><a href="#å¤åˆ¶ä»£ç ç›®å½•åˆ°å®¹å™¨å·ç›®å½•" class="headerlink" title="å¤åˆ¶ä»£ç ç›®å½•åˆ°å®¹å™¨å·ç›®å½•"></a>å¤åˆ¶ä»£ç ç›®å½•åˆ°å®¹å™¨å·ç›®å½•</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\cp -a /data/xiaoniao/* /var/lib/docker/volumes/xiaoniao/_data/</span><br></pre></td></tr></table></figure><h4 id="ä½¿ç”¨å®¹å™¨å·åˆ›å»ºæ–°å®¹å™¨"><a href="#ä½¿ç”¨å®¹å™¨å·åˆ›å»ºæ–°å®¹å™¨" class="headerlink" title="ä½¿ç”¨å®¹å™¨å·åˆ›å»ºæ–°å®¹å™¨"></a>ä½¿ç”¨å®¹å™¨å·åˆ›å»ºæ–°å®¹å™¨</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 8090:80 --volume xiaoniao:/usr/share/nginx/html nginx:latest</span><br></pre></td></tr></table></figure><h3 id="å®éªŒ-è®¿é—®ä¸åŒç«¯å£å±•ç¤ºä¸åŒé¡µé¢"><a href="#å®éªŒ-è®¿é—®ä¸åŒç«¯å£å±•ç¤ºä¸åŒé¡µé¢" class="headerlink" title="å®éªŒ-è®¿é—®ä¸åŒç«¯å£å±•ç¤ºä¸åŒé¡µé¢"></a>å®éªŒ-è®¿é—®ä¸åŒç«¯å£å±•ç¤ºä¸åŒé¡µé¢</h3><p>éœ€æ±‚ï¼š<br>è®¿é—®8080 ç«¯å£ï¼Œå±•ç¤ºxiaoniao é¦–é¡µ<br>è®¿é—®8090 ç«¯å£ï¼Œå±•ç¤ºæ¸¸æˆé›†åˆé¡µé¢</p><h4 id="å‡†å¤‡nginx-é…ç½®æ–‡ä»¶"><a href="#å‡†å¤‡nginx-é…ç½®æ–‡ä»¶" class="headerlink" title="å‡†å¤‡nginx é…ç½®æ–‡ä»¶"></a>å‡†å¤‡nginx é…ç½®æ–‡ä»¶</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">cat &gt;/data/game.conf&lt;&lt;EOF</span><br><span class="line">server &#123;</span><br><span class="line">    listen       8080;</span><br><span class="line">    server_name  localhost;</span><br><span class="line">    location / &#123;</span><br><span class="line">        root   /opt/game/;</span><br><span class="line">        index  index.html index.htm;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">    listen       8090;</span><br><span class="line">    server_name  localhost;</span><br><span class="line">    location / &#123;</span><br><span class="line">        root   /opt/xiaoniao/;</span><br><span class="line">        index  index.html index.htm;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><h4 id="ä¸Šä¼ ä»£ç ç›®å½•"><a href="#ä¸Šä¼ ä»£ç ç›®å½•" class="headerlink" title="ä¸Šä¼ ä»£ç ç›®å½•"></a>ä¸Šä¼ ä»£ç ç›®å½•</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@docker01 /data]<span class="comment"># ll</span></span><br><span class="line">æ€»ç”¨é‡18896</span><br><span class="line">drwxr-xr-x 5 root root 73 9 æœˆ7 23:03 game</span><br><span class="line">-rw-r--r-- 1 root root 309 9 æœˆ7 22:57 game.conf</span><br><span class="line">-rw-r--r-- 1 root root 19248295 8 æœˆ28 09:48 html5.zip</span><br><span class="line">drwxr-xr-x 3 root root 92 9 æœˆ7 22:15 xiaoniao</span><br><span class="line">-rw-r--r-- 1 root root 91014 9 æœˆ7 22:11 xiaoniaofeifei.zip</span><br></pre></td></tr></table></figure><h4 id="åˆ›å»ºå®¹å™¨å¹¶æŒ‚è½½"><a href="#åˆ›å»ºå®¹å™¨å¹¶æŒ‚è½½" class="headerlink" title="åˆ›å»ºå®¹å™¨å¹¶æŒ‚è½½"></a>åˆ›å»ºå®¹å™¨å¹¶æŒ‚è½½</h4><p>éœ€è¦æŒ‚è½½çš„å†…å®¹ï¼š<br>1.nginx é…ç½®æ–‡ä»¶<br>2.æ¸¸æˆç›®å½•<br>åˆ›å»ºå®¹å™¨å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker stop $(docker ps -q)</span><br><span class="line">docker rm $(docker ps -aq)</span><br><span class="line">docker run -d -p 8080:8080 -p 8090:8090 -v /data/xiaoniao:/opt/xiaoniao -v /data/game:/opt/game -v /data/game.conf:/etc/nginx/conf.d/game.conf nginx:latest</span><br><span class="line">docker ps</span><br></pre></td></tr></table></figure><h2 id="Docker-é•œåƒæ‰‹åŠ¨æ„å»º"><a href="#Docker-é•œåƒæ‰‹åŠ¨æ„å»º" class="headerlink" title="Docker é•œåƒæ‰‹åŠ¨æ„å»º"></a>Docker é•œåƒæ‰‹åŠ¨æ„å»º</h2><h3 id="æ‰‹åŠ¨åˆ¶ä½œæ¸¸æˆé•œåƒ"><a href="#æ‰‹åŠ¨åˆ¶ä½œæ¸¸æˆé•œåƒ" class="headerlink" title="æ‰‹åŠ¨åˆ¶ä½œæ¸¸æˆé•œåƒ"></a>æ‰‹åŠ¨åˆ¶ä½œæ¸¸æˆé•œåƒ</h3><p>ä¸‹é¢æˆ‘ä»¬åŸºäºcentos å®¹å™¨åˆ¶ä½œä¸€ä¸ªæ–°é•œåƒï¼Œå¹¶å®‰è£…nginx æœåŠ¡</p><h4 id="å¯åŠ¨ä¸€ä¸ªå®¹å™¨å¹¶å®‰è£…nginx"><a href="#å¯åŠ¨ä¸€ä¸ªå®¹å™¨å¹¶å®‰è£…nginx" class="headerlink" title="å¯åŠ¨ä¸€ä¸ªå®¹å™¨å¹¶å®‰è£…nginx"></a>å¯åŠ¨ä¸€ä¸ªå®¹å™¨å¹¶å®‰è£…nginx</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">docker run -it centos:7 /bin/bash</span><br><span class="line">yum install wget install openssh-clients -y</span><br><span class="line">rm -rf /etc/yum.repos.d/*</span><br><span class="line">wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo</span><br><span class="line">wget -O /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repo</span><br><span class="line">sed -i -e <span class="string">'/mirrors.cloud.aliyuncs.com/d'</span> -e <span class="string">'/mirrors.aliyuncs.com/d'</span> /etc/yum.repos.d/CentOS-Base.repo</span><br><span class="line">cat &gt;/etc/yum.repos.d/nginx.repo&lt;&lt;EOF  </span><br><span class="line">[nginx-stable]</span><br><span class="line">name=nginx stable repo</span><br><span class="line">baseurl=http://nginx.org/packages/centos/\<span class="variable">$releasever</span>/\<span class="variable">$basearch</span>/</span><br><span class="line">gpgcheck=1</span><br><span class="line">enabled=1</span><br><span class="line">gpgkey=https://nginx.org/keys/nginx_signing.key</span><br><span class="line">[nginx-mainline]</span><br><span class="line">name=nginx mainline repo</span><br><span class="line">baseurl=http://nginx.org/packages/mainline/centos/\<span class="variable">$releasever</span>/\<span class="variable">$basearch</span>/</span><br><span class="line">gpgcheck=1</span><br><span class="line">enabled=0</span><br><span class="line">gpgkey=https://nginx.org/keys/nginx_signing.key</span><br><span class="line">EOF</span><br><span class="line">yum makecache fast</span><br><span class="line">yum install nginx -y</span><br></pre></td></tr></table></figure><h4 id="ä¸Šä¼ ä»£ç ç›®å½•å¹¶é…ç½®nginx-é…ç½®æ–‡ä»¶"><a href="#ä¸Šä¼ ä»£ç ç›®å½•å¹¶é…ç½®nginx-é…ç½®æ–‡ä»¶" class="headerlink" title="ä¸Šä¼ ä»£ç ç›®å½•å¹¶é…ç½®nginx é…ç½®æ–‡ä»¶"></a>ä¸Šä¼ ä»£ç ç›®å½•å¹¶é…ç½®nginx é…ç½®æ–‡ä»¶</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scp -r 10.0.1.51:/data/* /opt/</span><br><span class="line">mv /opt/game.conf /etc/nginx/conf.d/</span><br></pre></td></tr></table></figure><h4 id="å°†å®¹å™¨æäº¤ä¸ºæ–°çš„é•œåƒ"><a href="#å°†å®¹å™¨æäº¤ä¸ºæ–°çš„é•œåƒ" class="headerlink" title="å°†å®¹å™¨æäº¤ä¸ºæ–°çš„é•œåƒ"></a>å°†å®¹å™¨æäº¤ä¸ºæ–°çš„é•œåƒ</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker ps</span><br><span class="line">docker commit å®¹å™¨ID game:v1</span><br><span class="line">docker images</span><br></pre></td></tr></table></figure><h4 id="æµ‹è¯•é•œåƒåŠŸèƒ½æ˜¯å¦å¯ç”¨"><a href="#æµ‹è¯•é•œåƒåŠŸèƒ½æ˜¯å¦å¯ç”¨" class="headerlink" title="æµ‹è¯•é•œåƒåŠŸèƒ½æ˜¯å¦å¯ç”¨"></a>æµ‹è¯•é•œåƒåŠŸèƒ½æ˜¯å¦å¯ç”¨</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -p 8080:8080 -p 8090:8090 -d game:v1 nginx -g <span class="string">'daemon off;'</span></span><br></pre></td></tr></table></figure><h4 id="å°†æ–°é•œåƒå¯¼å‡º"><a href="#å°†æ–°é•œåƒå¯¼å‡º" class="headerlink" title="å°†æ–°é•œåƒå¯¼å‡º"></a>å°†æ–°é•œåƒå¯¼å‡º</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker save game:v1 &gt; game-v1.tar</span><br><span class="line">docker load &lt; game-v1.tar</span><br></pre></td></tr></table></figure><h3 id="æ‰‹åŠ¨åˆ¶ä½œäº‘ç›˜é•œåƒ"><a href="#æ‰‹åŠ¨åˆ¶ä½œäº‘ç›˜é•œåƒ" class="headerlink" title="æ‰‹åŠ¨åˆ¶ä½œäº‘ç›˜é•œåƒ"></a>æ‰‹åŠ¨åˆ¶ä½œäº‘ç›˜é•œåƒ</h3><h4 id="åˆ›å»ºå®¹å™¨"><a href="#åˆ›å»ºå®¹å™¨" class="headerlink" title="åˆ›å»ºå®¹å™¨"></a>åˆ›å»ºå®¹å™¨</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 80:80 --name clould game:v1 nginx -g <span class="string">'daemon off;'</span></span><br></pre></td></tr></table></figure><h4 id="è¿›å…¥å®¹å™¨å®‰è£…php-å¹¶æ±‚æ”¹è¿è¡Œç”¨æˆ·"><a href="#è¿›å…¥å®¹å™¨å®‰è£…php-å¹¶æ±‚æ”¹è¿è¡Œç”¨æˆ·" class="headerlink" title="è¿›å…¥å®¹å™¨å®‰è£…php å¹¶æ±‚æ”¹è¿è¡Œç”¨æˆ·"></a>è¿›å…¥å®¹å™¨å®‰è£…php å¹¶æ±‚æ”¹è¿è¡Œç”¨æˆ·</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">yum install wget install openssh-clients unzip -y</span><br><span class="line">rm -rf /etc/yum.repos.d/*</span><br><span class="line">wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo</span><br><span class="line">wget -O /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repo</span><br><span class="line">sed -i -e <span class="string">'/mirrors.cloud.aliyuncs.com/d'</span> -e <span class="string">'/mirrors.aliyuncs.com/d'</span> /etc/yum.repos.d/CentOS-Base.repo</span><br><span class="line">cat &gt;/etc/yum.repos.d/nginx.repo&lt;&lt;EOF  </span><br><span class="line">[nginx-stable]</span><br><span class="line">name=nginx stable repo</span><br><span class="line">baseurl=http://nginx.org/packages/centos/\<span class="variable">$releasever</span>/\<span class="variable">$basearch</span>/</span><br><span class="line">gpgcheck=1</span><br><span class="line">enabled=1</span><br><span class="line">gpgkey=https://nginx.org/keys/nginx_signing.key</span><br><span class="line">[nginx-mainline]</span><br><span class="line">name=nginx mainline repo</span><br><span class="line">baseurl=http://nginx.org/packages/mainline/centos/\<span class="variable">$releasever</span>/\<span class="variable">$basearch</span>/</span><br><span class="line">gpgcheck=1</span><br><span class="line">enabled=0</span><br><span class="line">gpgkey=https://nginx.org/keys/nginx_signing.key</span><br><span class="line">EOF</span><br><span class="line">yum makecache fast</span><br><span class="line">yum install nginx php-fpm php-mbstring php-gd -y</span><br><span class="line">sed -i <span class="string">'/^user/c user = nginx'</span> /etc/php-fpm.d/www.conf</span><br><span class="line">sed -i <span class="string">'/^group/c group = nginx'</span> /etc/php-fpm.d/www.conf</span><br><span class="line">sed -i <span class="string">'/daemonize/s#no#yes#g'</span> /etc/php-fpm.conf     </span><br><span class="line">php-fpm -c /etc/php.ini -y /etc/php-fpm.conf</span><br><span class="line">ps -ef|grep php</span><br></pre></td></tr></table></figure><h4 id="é…ç½®nginx"><a href="#é…ç½®nginx" class="headerlink" title="é…ç½®nginx"></a>é…ç½®nginx</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">cat&gt; /etc/nginx/conf.d/cloud.conf &lt;&lt;EOF  </span><br><span class="line">server &#123;</span><br><span class="line">    listen 80;</span><br><span class="line">    server_name localhost;</span><br><span class="line">    root /code/kod;</span><br><span class="line">    index index.php index.html;</span><br><span class="line"></span><br><span class="line">    location ~ \.php\$ &#123;</span><br><span class="line">        root /code/kod;</span><br><span class="line">        fastcgi_pass 127.0.0.1:9000;</span><br><span class="line">        fastcgi_index index.php;</span><br><span class="line">        fastcgi_param SCRIPT_FILENAME \<span class="variable">$document_root</span>\<span class="variable">$fastcgi_script_name</span>;</span><br><span class="line">        include fastcgi_params;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line">rm -rf /etc/nginx/conf.d/default.conf </span><br><span class="line">nginx -t</span><br><span class="line">nginx -s reload</span><br></pre></td></tr></table></figure><h4 id="ä¸‹è½½ä»£ç ç›®å½•"><a href="#ä¸‹è½½ä»£ç ç›®å½•" class="headerlink" title="ä¸‹è½½ä»£ç ç›®å½•"></a>ä¸‹è½½ä»£ç ç›®å½•</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkdir /code</span><br><span class="line">scp 10.0.1.51:/data/kodexplorer4.40.zip </span><br><span class="line">unzip kodexplorer4.40.zip -d kod</span><br><span class="line">chown -R nginx:nginx /code/</span><br></pre></td></tr></table></figure><h4 id="å®¹å™¨å¯åŠ¨è„šæœ¬å‘½ä»¤"><a href="#å®¹å™¨å¯åŠ¨è„šæœ¬å‘½ä»¤" class="headerlink" title="å®¹å™¨å¯åŠ¨è„šæœ¬å‘½ä»¤"></a>å®¹å™¨å¯åŠ¨è„šæœ¬å‘½ä»¤</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cat &gt;init.sh&lt;&lt;EOF</span><br><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">php-fpm -c /etc/php.ini -y /etc/php-fpm.conf</span><br><span class="line">nginx -g <span class="string">'daemon off;'</span></span><br><span class="line">EOF </span><br><span class="line">chmod +x init.sh</span><br></pre></td></tr></table></figure><h4 id="æäº¤æ–°çš„é•œåƒ"><a href="#æäº¤æ–°çš„é•œåƒ" class="headerlink" title="æäº¤æ–°çš„é•œåƒ"></a>æäº¤æ–°çš„é•œåƒ</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker commit 9e691858a4bd kod:v1</span><br></pre></td></tr></table></figure><h4 id="å¯åŠ¨æµ‹è¯•"><a href="#å¯åŠ¨æµ‹è¯•" class="headerlink" title="å¯åŠ¨æµ‹è¯•"></a>å¯åŠ¨æµ‹è¯•</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker stop $(docker ps -q)</span><br><span class="line">docker rm $(docker ps -aq)</span><br><span class="line">docker run -p 80:80 -v /data/kod/data:/code/kod/data/ -d kod:v1 /bin/bash /root/init.sh</span><br><span class="line">docker ps</span><br></pre></td></tr></table></figure><h4 id="è®¿é—®æµ‹è¯•"><a href="#è®¿é—®æµ‹è¯•" class="headerlink" title="è®¿é—®æµ‹è¯•"></a>è®¿é—®æµ‹è¯•</h4><p><img src="/" class="lazyload" data-src="https://note.youdao.com/yws/public/resource/f681b4611780d72ab9718e381df5ea17/7EC73629DAD746768555EB27A63345D7?ynotemdtimestamp=1586417471888"  alt="image"></p><h2 id="Dockerfile-è‡ªåŠ¨æ„å»ºDocker-é•œåƒ"><a href="#Dockerfile-è‡ªåŠ¨æ„å»ºDocker-é•œåƒ" class="headerlink" title="Dockerfile è‡ªåŠ¨æ„å»ºDocker é•œåƒ"></a>Dockerfile è‡ªåŠ¨æ„å»ºDocker é•œåƒ</h2><h3 id="Dockerfile-æ“ä½œå‘½ä»¤è¯´æ˜"><a href="#Dockerfile-æ“ä½œå‘½ä»¤è¯´æ˜" class="headerlink" title="Dockerfile æ“ä½œå‘½ä»¤è¯´æ˜"></a>Dockerfile æ“ä½œå‘½ä»¤è¯´æ˜</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">Docker é€šè¿‡å¯¹äºåœ¨Dockerfile ä¸­çš„ä¸€ç³»åˆ—æŒ‡ä»¤çš„é¡ºåºè§£æå®ç°è‡ªåŠ¨çš„image çš„æ„å»º</span><br><span class="line">é€šè¿‡ä½¿ç”¨build å‘½ä»¤ï¼Œæ ¹æ®Dockerfiel çš„æè¿°æ¥æ„å»ºé•œåƒ</span><br><span class="line">é€šè¿‡æºä»£ç è·¯å¾„çš„æ–¹å¼</span><br><span class="line">é€šè¿‡æ ‡å‡†è¾“å…¥æµçš„æ–¹å¼</span><br><span class="line">Dockerfile æŒ‡ä»¤ï¼š</span><br><span class="line">åªæ”¯æŒDocker è‡ªå·±å®šä¹‰çš„ä¸€å¥—æŒ‡ä»¤ï¼Œä¸æ”¯æŒè‡ªå®šä¹‰</span><br><span class="line">å¤§å°å†™ä¸æ•æ„Ÿï¼Œä½†æ˜¯å»ºè®®å…¨éƒ¨ä½¿ç”¨å¤§å†™</span><br><span class="line">æ ¹æ®Dockerfile çš„å†…å®¹é¡ºåºæ‰§è¡Œ</span><br><span class="line">FROMï¼š</span><br><span class="line">FROM &#123;base é•œåƒ&#125;</span><br><span class="line">å¿…é¡»æ”¾åœ¨DOckerfile çš„ç¬¬ä¸€è¡Œï¼Œè¡¨ç¤ºä»å“ªä¸ªbaseimage å¼€å§‹æ„å»º</span><br><span class="line">MAINTAINERï¼š</span><br><span class="line">å¯é€‰çš„ï¼Œç”¨æ¥æ ‡è¯†image ä½œè€…çš„åœ°æ–¹</span><br><span class="line">RUNï¼š</span><br><span class="line">æ¯ä¸€ä¸ªRUN æŒ‡ä»¤éƒ½ä¼šæ˜¯åœ¨ä¸€ä¸ªæ–°çš„container é‡Œé¢è¿è¡Œï¼Œå¹¶æäº¤ä¸ºä¸€ä¸ªimage ä½œä¸ºä¸‹ä¸€ä¸ªRUN çš„base</span><br><span class="line">ä¸€ä¸ªDockerfile ä¸­å¯ä»¥åŒ…å«å¤šä¸ªRUNï¼ŒæŒ‰å®šä¹‰é¡ºåºæ‰§è¡Œ</span><br><span class="line">RUN æ”¯æŒä¸¤ç§è¿è¡Œæ–¹å¼ï¼š</span><br><span class="line">RUN &lt;cmd&gt; è¿™ä¸ªä¼šå½“ä½œ/bin/sh -c â€œcmdâ€ è¿è¡Œ</span><br><span class="line">RUN [â€œexecutableâ€ï¼Œâ€œarg1â€ï¼Œã€‚ã€‚]ï¼ŒDocker æŠŠä»–å½“ä½œjson çš„é¡ºåºæ¥è§£æï¼Œå› æ­¤å¿…é¡»ä½¿ç”¨åŒå¼•å·ï¼Œ</span><br><span class="line">è€Œä¸”executable éœ€è¦æ˜¯å®Œæ•´è·¯å¾„</span><br><span class="line">RUN éƒ½æ˜¯å¯åŠ¨ä¸€ä¸ªå®¹å™¨ã€æ‰§è¡Œå‘½ä»¤ã€ç„¶åæäº¤å­˜å‚¨å±‚æ–‡ä»¶å˜æ›´ã€‚ç¬¬ä¸€å±‚RUN command1 çš„æ‰§è¡Œä»…ä»…æ˜¯å½“å‰è¿›ç¨‹ï¼Œ</span><br><span class="line">ä¸€ä¸ªå†…å­˜ä¸Šçš„å˜åŒ–è€Œå·²ï¼Œå…¶ç»“æœä¸ä¼šé€ æˆä»»ä½•æ–‡ä»¶ã€‚è€Œåˆ°ç¬¬äºŒå±‚çš„æ—¶å€™ï¼Œå¯åŠ¨çš„æ˜¯ä¸€ä¸ªå…¨æ–°çš„å®¹å™¨ï¼Œè·Ÿç¬¬ä¸€å±‚çš„å®¹</span><br><span class="line">å™¨æ›´å®Œå…¨æ²¡å…³ç³»ï¼Œè‡ªç„¶ä¸å¯èƒ½ç»§æ‰¿å‰ä¸€å±‚æ„å»ºè¿‡ç¨‹ä¸­çš„å†…å­˜å˜åŒ–ã€‚è€Œå¦‚æœéœ€è¦å°†ä¸¤æ¡å‘½ä»¤æˆ–è€…å¤šæ¡å‘½ä»¤è”åˆèµ·æ¥æ‰§</span><br><span class="line">è¡Œéœ€è¦åŠ ä¸Š&amp;&amp;ã€‚å¦‚ï¼š<span class="built_in">cd</span> /usr/<span class="built_in">local</span>/src &amp;&amp; wget xxxxxxx</span><br><span class="line">CMDï¼š</span><br><span class="line">CMD çš„ä½œç”¨æ˜¯ä½œä¸ºæ‰§è¡Œcontainer æ—¶å€™çš„é»˜è®¤è¡Œä¸ºï¼ˆå®¹å™¨é»˜è®¤çš„å¯åŠ¨å‘½ä»¤ï¼‰</span><br><span class="line">å½“è¿è¡Œcontainer çš„æ—¶å€™å£°æ˜äº†<span class="built_in">command</span>ï¼Œåˆ™ä¸å†ç”¨image ä¸­çš„CMD é»˜è®¤æ‰€å®šä¹‰çš„å‘½ä»¤</span><br><span class="line">ä¸€ä¸ªDockerfile ä¸­åªèƒ½æœ‰ä¸€ä¸ªæœ‰æ•ˆçš„CMDï¼Œå½“å®šä¹‰å¤šä¸ªCMD çš„æ—¶å€™ï¼Œåªæœ‰æœ€åä¸€ä¸ªæ‰ä¼šèµ·ä½œç”¨</span><br><span class="line">CMD å®šä¹‰çš„ä¸‰ç§æ–¹å¼ï¼š</span><br><span class="line">CMD &lt;cmd&gt; è¿™ä¸ªä¼šå½“ä½œ/bin/sh -c <span class="string">"cmd"</span>æ¥æ‰§è¡Œ</span><br><span class="line">CMD [<span class="string">"executable"</span>,<span class="string">"arg1"</span>,....]</span><br><span class="line">CMD [<span class="string">"arg1"</span>,<span class="string">"arg2"</span>]ï¼Œè¿™ä¸ªæ—¶å€™CMD ä½œä¸ºENTRYPOINT çš„å‚æ•°</span><br><span class="line">EXPOSE å£°æ˜ç«¯å£</span><br><span class="line">æ ¼å¼ä¸ºEXPOSE &lt;ç«¯å£1&gt; [&lt;ç«¯å£2&gt;...]ã€‚</span><br><span class="line">EXPOSE æŒ‡ä»¤æ˜¯å£°æ˜è¿è¡Œæ—¶å®¹å™¨æä¾›æœåŠ¡ç«¯å£ï¼Œè¿™åªæ˜¯ä¸€ä¸ªå£°æ˜ï¼Œåœ¨è¿è¡Œæ—¶å¹¶ä¸ä¼šå› ä¸ºè¿™ä¸ªå£°æ˜åº”ç”¨å°±ä¼šå¼€å¯</span><br><span class="line">è¿™ä¸ªç«¯å£çš„æœåŠ¡ã€‚åœ¨Dockerfile ä¸­å†™å…¥è¿™æ ·çš„å£°æ˜æœ‰ä¸¤ä¸ªå¥½å¤„ï¼Œä¸€ä¸ªæ˜¯å¸®åŠ©é•œåƒä½¿ç”¨è€…ç†è§£è¿™ä¸ªé•œåƒæœåŠ¡çš„å®ˆæŠ¤</span><br><span class="line">ç«¯å£ï¼Œä»¥æ–¹ä¾¿é…ç½®æ˜ å°„ï¼›å¦ä¸€ä¸ªç”¨å¤„åˆ™æ˜¯åœ¨è¿è¡Œæ—¶ä½¿ç”¨éšæœºç«¯å£æ˜ å°„æ—¶ï¼Œä¹Ÿå°±æ˜¯docker run -P æ—¶ï¼Œä¼šè‡ªåŠ¨éšæœº</span><br><span class="line">æ˜ å°„EXPOSE çš„ç«¯å£ã€‚</span><br><span class="line">entrypointï¼š</span><br><span class="line">entrypoint çš„ä½œç”¨æ˜¯ï¼ŒæŠŠæ•´ä¸ªcontainer å˜æˆäº†ä¸€ä¸ªå¯æ‰§è¡Œçš„æ–‡ä»¶ï¼Œè¿™æ ·ä¸èƒ½å¤Ÿé€šè¿‡æ›¿æ¢CMD çš„æ–¹æ³•æ¥æ”¹å˜åˆ›</span><br><span class="line">å»ºcontainer çš„æ–¹å¼ã€‚ä½†æ˜¯å¯ä»¥é€šè¿‡å‚æ•°ä¼ é€’çš„æ–¹æ³•å½±å“åˆ°container å†…éƒ¨</span><br><span class="line">æ¯ä¸ªDockerfile åªèƒ½å¤ŸåŒ…å«ä¸€ä¸ªentrypointï¼Œå¤šä¸ªentrypoint åªæœ‰æœ€åä¸€ä¸ªæœ‰æ•ˆ</span><br><span class="line">å½“å®šä¹‰äº†entrypoint ä»¥åï¼ŒCMD åªèƒ½å¤Ÿä½œä¸ºå‚æ•°è¿›è¡Œä¼ é€’</span><br><span class="line">entrypoint å®šä¹‰æ–¹å¼ï¼š</span><br><span class="line">entrypoint [<span class="string">"executable"</span>,<span class="string">"arg1"</span>,<span class="string">"arg2"</span>]ï¼Œè¿™ç§å®šä¹‰æ–¹å¼ä¸‹ï¼ŒCMD å¯ä»¥é€šè¿‡json çš„æ–¹å¼æ¥å®šä¹‰entrypoint</span><br><span class="line">çš„å‚æ•°ï¼Œå¯ä»¥é€šè¿‡åœ¨è¿è¡Œcontainer çš„æ—¶å€™é€šè¿‡æŒ‡å®š<span class="built_in">command</span> çš„æ–¹å¼ä¼ é€’å‚æ•°</span><br><span class="line">entrypoint &lt;cmd&gt;ï¼Œå½“ä½œ/bin/bash -c <span class="string">"cmd"</span>è¿è¡Œå‘½ä»¤</span><br><span class="line">ADD &amp; COPYï¼š</span><br><span class="line">å½“åœ¨æºä»£ç æ„å»ºçš„æ–¹å¼ä¸‹ï¼Œå¯ä»¥é€šè¿‡ADD å’ŒCOPY çš„æ–¹å¼ï¼ŒæŠŠhost ä¸Šçš„æ–‡ä»¶æˆ–è€…ç›®å½•å¤åˆ¶åˆ°image ä¸­</span><br><span class="line">ADD å’ŒCOPY çš„æºå¿…é¡»åœ¨context è·¯å¾„ä¸‹</span><br><span class="line">å½“src ä¸ºç½‘ç»œURL çš„æƒ…å†µä¸‹ï¼ŒADD æŒ‡ä»¤å¯ä»¥æŠŠå®ƒä¸‹è½½åˆ°dest çš„æŒ‡å®šä½ç½®ï¼Œè¿™ä¸ªåœ¨ä»»ä½•build çš„æ–¹å¼ä¸‹éƒ½å¯ä»¥</span><br><span class="line">work</span><br><span class="line">ADD ç›¸å¯¹COPY è¿˜æœ‰ä¸€ä¸ªå¤šçš„åŠŸèƒ½ï¼Œèƒ½å¤Ÿè¿›è¡Œè‡ªåŠ¨è§£å‹å‹ç¼©åŒ…</span><br><span class="line">ENVï¼š</span><br><span class="line">ENV key value</span><br><span class="line">ç”¨æ¥è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œåç»­çš„RUN å¯ä»¥ä½¿ç”¨å®ƒæ‰€åˆ›å»ºçš„ç¯å¢ƒå˜é‡</span><br><span class="line">å½“åˆ›å»ºåŸºäºè¯¥é•œåƒçš„container çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨æ‹¥æœ‰è®¾ç½®çš„ç¯å¢ƒå˜é‡</span><br><span class="line">WORKDIRï¼š</span><br><span class="line">ç”¨æ¥æŒ‡å®šå½“å‰å·¥ä½œç›®å½•ï¼ˆæˆ–è€…ç§°ä¸ºå½“å‰ç›®å½•ï¼‰</span><br><span class="line">å½“ä½¿ç”¨ç›¸å¯¹ç›®å½•çš„æƒ…å†µä¸‹ï¼Œé‡‡ç”¨ä¸Šä¸€ä¸ªWORKDIR æŒ‡å®šçš„ç›®å½•ä½œä¸ºåŸºå‡†</span><br><span class="line">USERï¼š</span><br><span class="line">æŒ‡å®šUID æˆ–è€…usernameï¼Œæ¥å†³å®šè¿è¡ŒRUN æŒ‡ä»¤çš„ç”¨æˆ·</span><br><span class="line">ONBUILDï¼š</span><br><span class="line">ONBUILD ä½œä¸ºä¸€ä¸ªtrigger çš„æ ‡è®°ï¼Œå¯ä»¥ç”¨æ¥trigger ä»»ä½•Dockerfile ä¸­çš„æŒ‡ä»¤</span><br><span class="line">å¯ä»¥å®šä¹‰å¤šä¸ªONBUILD æŒ‡ä»¤</span><br><span class="line">å½“ä¸‹ä¸€ä¸ªé•œåƒB ä½¿ç”¨é•œåƒA ä½œä¸ºbase çš„æ—¶å€™ï¼Œåœ¨FROM A æŒ‡ä»¤å‰ï¼Œä¼šå…ˆæŒ‰ç…§é¡ºåºæ‰§è¡Œåœ¨æ„å»ºA æ—¶å€™å®šä¹‰çš„ONBUILDæŒ‡ä»¤</span><br><span class="line">ONBUILD &lt;DOCKERFILE æŒ‡ä»¤&gt; &lt;content&gt;</span><br><span class="line">VOLUMEï¼š</span><br><span class="line">ç”¨æ¥åˆ›å»ºä¸€ä¸ªåœ¨image ä¹‹å¤–çš„mount pointï¼Œç”¨æ¥åœ¨å¤šä¸ªcontainer ä¹‹é—´å®ç°æ•°æ®å…±äº«</span><br><span class="line">è¿è¡Œä½¿ç”¨json array çš„æ–¹å¼å®šä¹‰å¤šä¸ªvolume</span><br><span class="line">VOLUME [<span class="string">"/var/data1"</span>,<span class="string">"/var/data2"</span>]</span><br><span class="line">æˆ–è€…plain text çš„æƒ…å†µä¸‹å®šä¹‰å¤šä¸ªVOLUME æŒ‡ä»¤</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨Dockerfile-åˆ›å»ºåŸºç¡€ç³»ç»Ÿé•œåƒ"><a href="#ä½¿ç”¨Dockerfile-åˆ›å»ºåŸºç¡€ç³»ç»Ÿé•œåƒ" class="headerlink" title="ä½¿ç”¨Dockerfile åˆ›å»ºåŸºç¡€ç³»ç»Ÿé•œåƒ"></a>ä½¿ç”¨Dockerfile åˆ›å»ºåŸºç¡€ç³»ç»Ÿé•œåƒ</h3><h3 id="ä½¿ç”¨Dockerfile-åˆ›å»ºäº‘ç›˜"><a href="#ä½¿ç”¨Dockerfile-åˆ›å»ºäº‘ç›˜" class="headerlink" title="ä½¿ç”¨Dockerfile åˆ›å»ºäº‘ç›˜"></a>ä½¿ç”¨Dockerfile åˆ›å»ºäº‘ç›˜</h3><h4 id="å‡†å¤‡éœ€è¦çš„æ–‡ä»¶"><a href="#å‡†å¤‡éœ€è¦çš„æ–‡ä»¶" class="headerlink" title="å‡†å¤‡éœ€è¦çš„æ–‡ä»¶"></a>å‡†å¤‡éœ€è¦çš„æ–‡ä»¶</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@docker01 ~/dockerfile/kod]<span class="comment"># ls</span></span><br><span class="line">CentOS-Base.repo cloud.conf dockerfile epel.repo init.sh kodexplorer4.40.zip nginx.repo</span><br></pre></td></tr></table></figure><h4 id="ç¼–å†™dockerfile"><a href="#ç¼–å†™dockerfile" class="headerlink" title="ç¼–å†™dockerfile"></a>ç¼–å†™dockerfile</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@docker01 ~/dockerfile/kod]<span class="comment"># cat dockerfile</span></span><br><span class="line">FROM centos:latest</span><br><span class="line">ADD CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo</span><br><span class="line">ADD epel.repo /etc/yum.repos.d/epel.repo</span><br><span class="line">ADD nginx.repo /etc/yum.repos.d/nginx.repo</span><br><span class="line">RUN yum install nginx php-fpm unzip php-gd php-mbstring -y</span><br><span class="line">RUN rm -rf /etc/nginx/conf.d/default.conf</span><br><span class="line">RUN sed -i <span class="string">'/^user/c user = nginx'</span> /etc/php-fpm.d/www.conf</span><br><span class="line">RUN sed -i <span class="string">'/^group/c group = nginx'</span> /etc/php-fpm.d/www.conf</span><br><span class="line">RUN sed -i <span class="string">'/daemonize/s#no#yes#g'</span> /etc/php-fpm.conf</span><br><span class="line">ADD cloud.conf /etc/nginx/conf.d/cloud.conf</span><br><span class="line">RUN mkdir /code</span><br><span class="line">WORKDIR /code</span><br><span class="line">ADD kodexplorer4.40.zip /code/kodexplorer4.40.zip</span><br><span class="line">RUN unzip kodexplorer4.40.zip</span><br><span class="line">RUN chown -R nginx:nginx .</span><br><span class="line">VOLUME /code</span><br><span class="line">ADD init.sh /init.sh</span><br><span class="line">EXPOSE 80</span><br><span class="line">CMD [<span class="string">"/bin/bash"</span>,<span class="string">"/init.sh"</span>]</span><br></pre></td></tr></table></figure><h4 id="æ„å»ºæ–°é•œåƒ"><a href="#æ„å»ºæ–°é•œåƒ" class="headerlink" title="æ„å»ºæ–°é•œåƒ"></a>æ„å»ºæ–°é•œåƒ</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@docker01 ~/dockerfile/kod]<span class="comment"># docker build --network=host -t centos_kod:v1 .</span></span><br><span class="line">[root@docker01 ~/dockerfile/kod]<span class="comment"># docker images</span></span><br><span class="line">REPOSITORY TAG IMAGE ID CREATED SIZE</span><br><span class="line">centos_kod v1 87071ea7c86b 2 minutes ago 465MB</span><br></pre></td></tr></table></figure><h4 id="åŸºäºæ–°é•œåƒè¿è¡Œå®¹å™¨"><a href="#åŸºäºæ–°é•œåƒè¿è¡Œå®¹å™¨" class="headerlink" title="åŸºäºæ–°é•œåƒè¿è¡Œå®¹å™¨"></a>åŸºäºæ–°é•œåƒè¿è¡Œå®¹å™¨</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@docker01 ~/dockerfile/kod]<span class="comment"># docker run -d -p 80:80 centos_kod:v1</span></span><br><span class="line">4d1007d7194d434248762e5aca76070206643f0f0f533f2112d0359b25fe7ba0</span><br></pre></td></tr></table></figure><h2 id="Docker-ç§æœ‰ä»“åº“"><a href="#Docker-ç§æœ‰ä»“åº“" class="headerlink" title="Docker ç§æœ‰ä»“åº“"></a>Docker ç§æœ‰ä»“åº“</h2><h3 id="ä¼ä¸šçº§çš„docker-harbor"><a href="#ä¼ä¸šçº§çš„docker-harbor" class="headerlink" title="ä¼ä¸šçº§çš„docker-harbor"></a>ä¼ä¸šçº§çš„docker-harbor</h3><h4 id="éƒ¨ç½²æ€è·¯"><a href="#éƒ¨ç½²æ€è·¯" class="headerlink" title="éƒ¨ç½²æ€è·¯"></a>éƒ¨ç½²æ€è·¯</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ç¬¬ä¸€æ­¥ï¼šå®‰è£…docker å’Œdocker-compose</span><br><span class="line">ç¬¬äºŒæ­¥ï¼šä¸‹è½½harbor-offline-installer-v1.9.0-rc1.tgz</span><br><span class="line">ç¬¬ä¸‰æ­¥ï¼šä¸Šä¼ åˆ°/opt,å¹¶è§£å‹</span><br><span class="line">ç¬¬å››æ­¥ï¼šä¿®æ”¹harbor.yml é…ç½®æ–‡ä»¶hostname = 10.0.0.11 harbor_admin_password = 123456</span><br><span class="line">ç¬¬äº”æ­¥ï¼šæ‰§è¡Œinstall.sh</span><br></pre></td></tr></table></figure><h4 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h4><p>1.ä¸‹è½½è½¯ä»¶åŒ…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /opt</span><br><span class="line">wget https://github.com/goharbor/harbor/releases/download/v1.9.3/harbor-offline-installer-v1.9.3.tgz</span><br><span class="line">tar xf harbor-offline-installer-v1.9.0-rc1.tgz</span><br></pre></td></tr></table></figure><p>2.ä¿®æ”¹é…ç½®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vim harbor.yml </span><br><span class="line">hostname: 10.0.1.5</span><br><span class="line">harbor_admin_password: 123456</span><br></pre></td></tr></table></figure><p>3.ä¸‹è½½docker-compose</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install docker-compose -y</span><br></pre></td></tr></table></figure><p>4.å®‰è£…harbor</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./install.sh</span><br></pre></td></tr></table></figure><p>5.ä¿®æ”¹é•œåƒåç§°</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker tag 019a54813db0 10.0.1.51/linux/centos_kod:v1</span><br></pre></td></tr></table></figure><p>6.ä¿®æ”¹dockeré…ç½®æ·»åŠ ä¿¡ä»»ä»“åº“</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">cat &gt;/etc/docker/daemon.json&lt;&lt;EOF </span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"registry-mirrors"</span>: [<span class="string">"https://1660dchq.mirror.aliyuncs.com"</span>],</span><br><span class="line">  <span class="string">"insecure-registries"</span>: [<span class="string">"http://10.0.1.51"</span>] </span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line">systemctl daemon-reload</span><br><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure><p>7.dockerç™»å½•åˆ°harbor</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker login 10.0.1.51</span><br></pre></td></tr></table></figure><p>8.ä¸Šä¼ é•œåƒåˆ°ç§æœ‰ä»“åº“</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker push 10.0.1.51/linux/centos_kod:v1</span><br></pre></td></tr></table></figure><p>9.å®¢æˆ·ç«¯ä½¿ç”¨ä»“åº“ä¸‹è½½é•œåƒ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -p 8080:80 -d 10.0.1.51/linux/centos_kod:v1</span><br></pre></td></tr></table></figure><p>10.è®¿é—®æµ‹è¯•</p><p><img src="/" class="lazyload" data-src="https://note.youdao.com/yws/public/resource/f681b4611780d72ab9718e381df5ea17/177D74A8FB504F1DB6D881B13ED113A7?ynotemdtimestamp=1586417471888"  alt="image"></p><h2 id="dockerè¿è¡Œzabbix"><a href="#dockerè¿è¡Œzabbix" class="headerlink" title="dockerè¿è¡Œzabbix"></a>dockerè¿è¡Œzabbix</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">docker run --name mysql-server -t \</span><br><span class="line">-e MYSQL_DATABASE=<span class="string">"zabbix"</span> \</span><br><span class="line">-e MYSQL_USER=<span class="string">"zabbix"</span> \</span><br><span class="line">-e MYSQL_PASSWORD=<span class="string">"zabbix_pwd"</span> \</span><br><span class="line">-e MYSQL_ROOT_PASSWORD=<span class="string">"root_pwd"</span> \</span><br><span class="line">-d mysql:5.7 \</span><br><span class="line">--character-set-server=utf8 --collation-server=utf8_bin</span><br><span class="line"></span><br><span class="line">docker run --name zabbix-server-mysql -t \</span><br><span class="line">-e DB_SERVER_HOST=<span class="string">"mysql-server"</span> \</span><br><span class="line">-e MYSQL_DATABASE=<span class="string">"zabbix"</span> \</span><br><span class="line">-e MYSQL_USER=<span class="string">"zabbix"</span> \</span><br><span class="line">-e MYSQL_PASSWORD=<span class="string">"zabbix_pwd"</span> \</span><br><span class="line">-e MYSQL_ROOT_PASSWORD=<span class="string">"root_pwd"</span> \</span><br><span class="line">--link mysql-server:mysql \</span><br><span class="line">-p 10051:10051 \</span><br><span class="line">-d zabbix/zabbix-server-mysql:latest</span><br><span class="line"></span><br><span class="line">docker run --name zabbix-web-nginx-mysql -t \</span><br><span class="line">-e DB_SERVER_HOST=<span class="string">"mysql-server"</span> \</span><br><span class="line">-e MYSQL_DATABASE=<span class="string">"zabbix"</span> \</span><br><span class="line">-e MYSQL_USER=<span class="string">"zabbix"</span> \</span><br><span class="line">-e MYSQL_PASSWORD=<span class="string">"zabbix_pwd"</span> \</span><br><span class="line">-e MYSQL_ROOT_PASSWORD=<span class="string">"root_pwd"</span> \</span><br><span class="line">--link mysql-server:mysql \</span><br><span class="line">--link zabbix-server-mysql:zabbix-server \</span><br><span class="line">-p 80:80 \</span><br><span class="line">-d zabbix/zabbix-web-nginx-mysql:latest</span><br></pre></td></tr></table></figure><h2 id="dockerè¿è¡Œgitlab"><a href="#dockerè¿è¡Œgitlab" class="headerlink" title="dockerè¿è¡Œgitlab"></a>dockerè¿è¡Œgitlab</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">docker run --detach \</span><br><span class="line">--hostname 10.0.1.51 \</span><br><span class="line">--publish 443:443 --publish 80:80 --publish 22:22 \</span><br><span class="line">--name gitlab \</span><br><span class="line">--restart always \</span><br><span class="line">--volume /srv/gitlab/config:/etc/gitlab \</span><br><span class="line">--volume /srv/gitlab/logs:/var/<span class="built_in">log</span>/gitlab \</span><br><span class="line">--volume /srv/gitlab/data:/var/opt/gitlab \</span><br><span class="line">gitlab/gitlab-ce:latest</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="Dockerå®¹å™¨" scheme="http://linuxwf.com/categories/Docker%E5%AE%B9%E5%99%A8/"/>
    
    
      <category term="dokcer" scheme="http://linuxwf.com/tags/dokcer/"/>
    
  </entry>
  
  <entry>
    <title>Hexoæœç´¢æ’ä»¶</title>
    <link href="http://linuxwf.com/2020/04/09/Hexo%E6%90%9C%E7%B4%A2%E6%8F%92%E4%BB%B6/"/>
    <id>http://linuxwf.com/2020/04/09/Hexo%E6%90%9C%E7%B4%A2%E6%8F%92%E4%BB%B6/</id>
    <published>2020-04-09T07:08:00.000Z</published>
    <updated>2020-04-09T07:08:41.169Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="Hexo-Algoliasearch"><a href="#Hexo-Algoliasearch" class="headerlink" title="Hexo-Algoliasearch"></a>Hexo-Algoliasearch</h1><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p><strong>ä¸€ä¸ªåœ¨Algoliaä¸Šä¸ºHexoåšå®¢çš„å¸–å­ç¼–åˆ¶ç´¢å¼•çš„æ’ä»¶ ï¼Œå¢åŠ æœç´¢åŠŸèƒ½ã€‚</strong></p><p>ä½ éœ€è¦å®‰è£ <a href="https://github.com/oncletom/hexo-algolia" target="_blank" rel="noopener">hexo-algolia</a> æˆ– <a href="https://github.com/LouisBarranqueiro/hexo-algoliasearch" target="_blank" rel="noopener">hexo-algoliasearch</a>. æ ¹æ®å®ƒä»¬çš„è¯´æ˜æ–‡æ¡£å»åšç›¸åº”çš„é…ç½®ã€‚</p><p><a href="https://puui.qpic.cn/fans_admin/0/3_290186585_1571456373974/0" target="_blank" rel="noopener"><img src="/" class="lazyload" data-src="https://puui.qpic.cn/fans_admin/0/3_290186585_1571456373974/0"  alt="img"></a></p><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ <code>hexo-algoliasearch</code>æ’ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-algoliasearch --save</span><br></pre></td></tr></table></figure><p><strong>Hexoè‡ªåŠ¨æ£€æµ‹åˆ°æ‰€æœ‰æ’ä»¶ ï¼Œ å¦‚æœä¸æ˜¯è¿™ç§æƒ…å†µï¼Œè¯·åœ¨æ‚¨çš„<code>_config.yml</code>æ–‡ä»¶ä¸­æ³¨å†Œæ’ä»¶ï¼š</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plugins:</span><br><span class="line">  - hexo-algoliasearch</span><br></pre></td></tr></table></figure><h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><p><strong>åœ¨<code>_config.yml</code>æ–‡ä»¶ä¸­é…ç½®æ­¤æ’ä»¶ï¼š</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">algolia:</span><br><span class="line">  appId: &quot;Application ID å¯¹åº”çš„å€¼&quot;</span><br><span class="line">  apiKey: &quot;æ–°å»ºçš„ api key å¯¹åº”çš„å€¼&quot;</span><br><span class="line">  adminApiKey: &quot;***&quot;</span><br><span class="line">  chunkSize: 5000</span><br><span class="line">  indexName: &quot;my-blog&quot;</span><br><span class="line">  fields:</span><br><span class="line">    - content:strip:truncate,0,500</span><br><span class="line">    - excerpt:strip</span><br><span class="line">    - gallery</span><br><span class="line">    - permalink</span><br><span class="line">    - photos</span><br><span class="line">    - slug</span><br><span class="line">    - tags</span><br><span class="line">    - title</span><br><span class="line">    - about</span><br><span class="line">    - categories</span><br><span class="line">    - link</span><br><span class="line">    - movies</span><br><span class="line">    - music</span><br><span class="line">    - _posts</span><br><span class="line">    - messageboard</span><br></pre></td></tr></table></figure><table><thead><tr><th>é”®</th><th>ç±»å‹</th><th>é»˜è®¤</th><th>æè¿°</th></tr></thead><tbody><tr><td>appId</td><td>String</td><td></td><td>æ‚¨çš„åº”ç”¨ç¨‹åºIDã€‚å¯é€‰ï¼Œå¦‚æœ<code>ALGOLIA_APP_ID</code>è®¾ç½®äº†ç¯å¢ƒå˜é‡</td></tr><tr><td>apiKey</td><td>String</td><td></td><td>æ‚¨çš„APIå¯†é’¥ï¼ˆåªè¯»ï¼‰ã€‚ç”¨äºæœç´¢ç´¢å¼•ã€‚å¯é€‰ï¼Œå¦‚æœ<code>ALGOLIA_API_KEY</code>è®¾ç½®äº†ç¯å¢ƒå˜é‡</td></tr><tr><td>adminApiKey</td><td>String</td><td></td><td>æ‚¨çš„adminAPIå¯†é’¥ã€‚å®ƒç”¨äºåˆ›å»ºï¼Œåˆ é™¤ï¼Œæ›´æ–°ç´¢å¼•ã€‚å¯é€‰ï¼Œå¦‚æœ<code>ALGOLIA_ADMIN_API_KEY</code>è®¾ç½®äº†ç¯å¢ƒå˜é‡</td></tr><tr><td>chunkSize</td><td>Number</td><td>5000</td><td>è®°å½•/å¸–å­è¢«åˆ†æˆå‡ å—ä¸Šä¼ ã€‚å»ºè®®ä½¿ç”¨Algoliaä»¥<code>5000</code>è·å¾—æœ€ä½³æ€§èƒ½ã€‚è¯·æ³¨æ„ï¼Œå¦‚æœæ‚¨è¦ä¸ºå¸–å­å†…å®¹ç¼–åˆ¶ç´¢å¼•ï¼Œåˆ™ç”±äºç¯‡å¹…é™åˆ¶ï¼Œå®ƒå¯èƒ½ä¼šå¤±è´¥ã€‚ä¸ºäº†å…‹æœè¿™ä¸ªé—®é¢˜ï¼Œè¯·å‡å°å—çš„å¤§å°ï¼Œç›´åˆ°é€šè¿‡ä¸ºæ­¢ã€‚</td></tr><tr><td>indexName</td><td>String</td><td></td><td>å­˜å‚¨å¸–å­çš„ç´¢å¼•åç§°ã€‚å¯é€‰ï¼Œå¦‚æœ<code>ALGOLIA_INDEX_NAME</code>è®¾ç½®äº†ç¯å¢ƒå˜é‡</td></tr><tr><td>fields</td><td>List</td><td></td><td>è¦ç´¢å¼•çš„å­—æ®µåç§°åˆ—è¡¨ã€‚ç”¨åˆ†éš”å­—æ®µåç§°å’Œè¿‡æ»¤å™¨<code>:</code>ã€‚é˜…è¯»<a href="https://github.com/LouisBarranqueiro/hexo-algoliasearch#filters" target="_blank" rel="noopener">è¿‡æ»¤å™¨</a>ä»¥è·å–æ›´å¤šä¿¡æ¯</td></tr></tbody></table><h3 id="ç­›é€‰å™¨"><a href="#ç­›é€‰å™¨" class="headerlink" title="ç­›é€‰å™¨"></a>ç­›é€‰å™¨</h3><p>è¿‡æ»¤å™¨ä½¿æ‚¨èƒ½å¤Ÿåœ¨å»ºç«‹ç´¢å¼•ä¹‹å‰å¤„ç†å­—æ®µçš„å€¼ã€‚è¿‡æ»¤å™¨ä¹‹é—´ç”¨å†’å·ï¼ˆ<code>:</code>ï¼‰éš”å¼€ï¼Œå¹¶ä¸”å¯èƒ½å…·æœ‰ä»¥é€—å·ï¼ˆ<code>,</code>ï¼‰åˆ†éš”çš„å¯é€‰å‚æ•°ã€‚å¯ä»¥é“¾æ¥å¤šä¸ªè¿‡æ»¤å™¨ã€‚ä¸€ä¸ªæ»¤æ³¢å™¨çš„è¾“å‡ºå°†åº”ç”¨äºä¸‹ä¸€ä¸ªã€‚</p><h3 id="è¿‡æ»¤å™¨åˆ—è¡¨ï¼š"><a href="#è¿‡æ»¤å™¨åˆ—è¡¨ï¼š" class="headerlink" title="è¿‡æ»¤å™¨åˆ—è¡¨ï¼š"></a>è¿‡æ»¤å™¨åˆ—è¡¨ï¼š</h3><table><thead><tr><th>è¿‡æ»¤</th><th>ç­¾å</th><th>å¥æ³•</th><th>æè¿°</th></tr></thead><tbody><tr><td>è·³é—¸</td><td><code>strip()</code></td><td><code>strip</code></td><td>åˆ é™¤HTMLã€‚å¯¹äºæ‘˜å½•å’Œå†…å®¹å€¼ä¸ç´¢å¼•HTMLæ ‡ç­¾å’Œå±æ€§å¯èƒ½å¾ˆæœ‰ç”¨ã€‚</td></tr><tr><td>æˆªçŸ­</td><td><code>truncate(start: number, end: number)</code></td><td><code>truncate,0,300</code></td><td>ä»<code>start</code>ç´¢å¼•åˆ°<code>end</code>ç´¢å¼•æˆªæ–­å­—ç¬¦ä¸²ã€‚é˜¿å°”æˆˆåˆ©äºšï¼ˆAlgoliaï¼‰åœ¨è®°å½•å¤§å°æ–¹é¢æœ‰ä¸€äº›é™åˆ¶ï¼Œå› æ­¤å‡å°‘å¸–å­å†…å®¹å¯èƒ½å¾ˆæœ‰ç”¨ã€‚</td></tr></tbody></table><h4 id="ä¾‹"><a href="#ä¾‹" class="headerlink" title="ä¾‹"></a>ä¾‹</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fields:</span><br><span class="line">  - content:strip:truncate,0,200</span><br></pre></td></tr></table></figure><h3 id="é€‰ä»¶"><a href="#é€‰ä»¶" class="headerlink" title="é€‰ä»¶"></a>é€‰ä»¶</h3><table><thead><tr><th>é€‰ä»¶</th><th>æè¿°</th></tr></thead><tbody><tr><td>-nï¼Œ-ä¸æ¸…é™¤</td><td>ä¸æ¸…é™¤ç°æœ‰ç´¢å¼•</td></tr></tbody></table><h2 id="ç”Ÿæˆç´¢å¼•æ–‡ä»¶"><a href="#ç”Ÿæˆç´¢å¼•æ–‡ä»¶" class="headerlink" title="ç”Ÿæˆç´¢å¼•æ–‡ä»¶"></a>ç”Ÿæˆç´¢å¼•æ–‡ä»¶</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo algolia</span><br></pre></td></tr></table></figure><h1 id="æœ¬åœ°æœç´¢"><a href="#æœ¬åœ°æœç´¢" class="headerlink" title="æœ¬åœ°æœç´¢"></a>æœ¬åœ°æœç´¢</h1><h2 id="å®‰è£…-1"><a href="#å®‰è£…-1" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>ä½ éœ€è¦å®‰è£ <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener">hexo-generator-search</a>. æ ¹æ“šå®ƒçš„æ–‡æª”å»åšç›¸æ‡‰é…ç½®ã€‚æ³¨æ„æ ¼å¼åªæ”¯æŒ xmlã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-search --save</span><br></pre></td></tr></table></figure><h2 id="é…ç½®-1"><a href="#é…ç½®-1" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><p>ä¿®æ”¹ç«™ç‚¹é…ç½®æ–‡ä»¶ <code>_config.yml</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">search:</span><br><span class="line">  path: search.xml</span><br><span class="line">  field: post</span><br><span class="line">  content: true</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹é…ç½®æ–‡ä»¶ <code>butterfly.yml</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">local_search:</span><br><span class="line">  enable: true</span><br><span class="line">  labels:</span><br><span class="line">    input_placeholder: Search for Posts</span><br><span class="line">    hits_empty: &quot;We didn&#39;t find any results for the search: $&#123;query&#125;&quot; # if there are no result</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="Hexoæ•™ç¨‹" scheme="http://linuxwf.com/categories/Hexo%E6%95%99%E7%A8%8B/"/>
    
    
      <category term="hexo" scheme="http://linuxwf.com/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>Hexo-Douban æ’ä»¶</title>
    <link href="http://linuxwf.com/2020/04/09/Hexo-Douban-%E6%8F%92%E4%BB%B6/"/>
    <id>http://linuxwf.com/2020/04/09/Hexo-Douban-%E6%8F%92%E4%BB%B6/</id>
    <published>2020-04-09T06:52:00.000Z</published>
    <updated>2020-04-09T06:53:37.928Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p><strong><a href="https://github.com/mythsman/hexo-douban" target="_blank" rel="noopener">Hexo-Douban</a> â€”â€” ä¸€ä¸ªåœ¨ Hexo é¡µé¢ä¸­åµŒå…¥è±†ç“£ä¸ªäººä¸»é¡µçš„å°æ’ä»¶ï¼Œèƒ½å¤Ÿåœ¨BlogåŒæ­¥è±†ç“£ä¸ªäººä¸»é¡µä¿¡æ¯ã€‚</strong></p><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-douban --save</span><br></pre></td></tr></table></figure><h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><p>å°†ä¸‹é¢çš„é…ç½®å†™å…¥ç«™ç‚¹çš„é…ç½®æ–‡ä»¶ <code>_config.yml</code> é‡Œ(ä¸æ˜¯ä¸»é¢˜çš„é…ç½®æ–‡ä»¶).</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#è±†ç“£æ’ä»¶</span><br><span class="line">douban:</span><br><span class="line">  user: 150594772  #è‡ªå·±çš„ID</span><br><span class="line">  builtin: true</span><br><span class="line">  book:</span><br><span class="line">    title: &#39;é‚£äº›å¹´ï¼Œçœ‹è¿‡çš„ä¹¦&#39;</span><br><span class="line">    quote: &#39;è¿‡å»ã€ç°åœ¨ã€æœªæ¥&#39;</span><br><span class="line">  movie:</span><br><span class="line">    title: &#39;é‚£äº›å¹´ï¼Œçœ‹è¿‡çš„ç”µå½±&#39;</span><br><span class="line">    quote: &#39;è¿‡å»ã€ç°åœ¨ã€æœªæ¥&#39;</span><br><span class="line">  game:</span><br><span class="line">    title: &#39;é‚£äº›å¹´ï¼Œç©è¿‡çš„æ¸¸æˆ&#39;</span><br><span class="line">    quote: &#39;è¿‡å»ã€ç°åœ¨ã€æœªæ¥&#39;</span><br><span class="line">  timeout: 10000</span><br></pre></td></tr></table></figure><ul><li><strong>user</strong>: ä½ çš„è±†ç“£ID.æ‰“å¼€è±†ç“£ï¼Œç™»å…¥è´¦æˆ·ï¼Œç„¶ååœ¨å³ä¸Šè§’ç‚¹å‡» â€œä¸ªäººä¸»é¡µâ€ ï¼Œè¿™æ—¶å€™åœ°å€æ çš„URLå¤§æ¦‚æ˜¯è¿™æ ·ï¼šâ€<a href="https://www.douban.com/people/xxxxxx/&quot;" target="_blank" rel="noopener">https://www.douban.com/people/xxxxxx/&quot;</a> ï¼Œå…¶ä¸­çš„â€xxxxxxâ€å°±æ˜¯ä½ çš„ä¸ªäººIDäº†ã€‚</li><li><strong>builtin</strong>: æ˜¯å¦å°†ç”Ÿæˆé¡µé¢çš„åŠŸèƒ½åµŒå…¥<code>hexo s</code>å’Œ<code>hexo g</code>ä¸­ï¼Œé»˜è®¤æ˜¯<code>false</code>,å¦ä¸€å¯é€‰é¡¹ä¸º<code>true</code>(1.x.xç‰ˆæœ¬æ–°å¢é…ç½®é¡¹)ã€‚</li><li><strong>title</strong>: è¯¥é¡µé¢çš„æ ‡é¢˜.</li><li><strong>quote</strong>: å†™åœ¨é¡µé¢å¼€å¤´çš„ä¸€æ®µè¯,æ”¯æŒhtmlè¯­æ³•.</li><li><strong>timeout</strong>: çˆ¬å–æ•°æ®çš„è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤æ˜¯ 10000ms ,å¦‚æœåœ¨ä½¿ç”¨æ—¶å‘ç°æŠ¥äº†è¶…æ—¶çš„é”™(ETIMEOUT)å¯ä»¥æŠŠè¿™ä¸ªæ•°æ®è®¾ç½®çš„å¤§ä¸€ç‚¹ã€‚</li></ul><p>å¦‚æœåªæƒ³æ˜¾ç¤ºæŸä¸€ä¸ªé¡µé¢(æ¯”å¦‚movie)ï¼Œé‚£å°±æŠŠå…¶ä»–çš„é…ç½®é¡¹æ³¨é‡Šæ‰å³å¯ã€‚</p><h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><h3 id="1-x-xç‰ˆæœ¬"><a href="#1-x-xç‰ˆæœ¬" class="headerlink" title="1.x.xç‰ˆæœ¬"></a>1.x.xç‰ˆæœ¬</h3><p>åœ¨0.x.xç‰ˆæœ¬ä¸­ï¼Œæ–‡ç« çš„æ›´æ–°å’Œè±†ç“£é¡µé¢çš„çˆ¬å–æ“ä½œæ˜¯ç»‘å®šåœ¨ä¸€èµ·çš„ï¼Œæ— æ³•æ”¯æŒå•ç‹¬æ›´æ–°æ–‡ç« æˆ–è€…å•ç‹¬çˆ¬å–æ–‡ç« ã€‚</p><p>åœ¨1.x.xç‰ˆæœ¬ä¸­ï¼Œä½¿ç”¨<code>hexo douban</code>å‘½ä»¤å³å¯ç”ŸæˆæŒ‡å®šé¡µé¢ï¼Œå¦‚æœä¸åŠ å‚æ•°ï¼Œé‚£ä¹ˆé»˜è®¤å‚æ•°ä¸º<code>-bgm</code>ã€‚</p><p><strong>éœ€è¦æ³¨æ„çš„æ˜¯</strong>ï¼Œé€šå¸¸å¤§å®¶éƒ½å–œæ¬¢ç”¨<code>hexo d</code>æ¥ä½œä¸º<code>hexo deploy</code>å‘½ä»¤çš„ç®€åŒ–ï¼Œä½†æ˜¯å½“å®‰è£…äº†<code>hexo douban</code>ä¹‹åï¼Œå°±ä¸èƒ½ç”¨<code>hexo d</code>äº†ï¼Œå› ä¸º<code>hexo douban</code>è·Ÿ<code>hexo deploy</code>çš„å‰ç¼€éƒ½æ˜¯<code>hexo</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ hexo douban -h</span><br><span class="line">Usage: hexo douban</span><br><span class="line"></span><br><span class="line">Description:</span><br><span class="line">Generate pages from douban</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line">  -b, --books   Generate douban books only</span><br><span class="line">  -g, --games   Generate douban games only</span><br><span class="line">  -m, --movies  Generate douban movies only</span><br></pre></td></tr></table></figure><p>å¦‚æœé…ç½®äº†<code>builtin</code>å‚æ•°ä¸º<code>true</code>ï¼Œé‚£ä¹ˆé™¤äº†å¯ä»¥ä½¿ç”¨<code>hexo douban</code>å‘½ä»¤ä¹‹å¤–ï¼Œ<code>hexo g</code>æˆ–<code>hexo s</code>ä¹Ÿå†…åµŒäº†ç”Ÿæˆé¡µé¢çš„åŠŸèƒ½ã€‚</p><h3 id="0-x-xç‰ˆæœ¬"><a href="#0-x-xç‰ˆæœ¬" class="headerlink" title="0.x.xç‰ˆæœ¬"></a>0.x.xç‰ˆæœ¬</h3><p>ç›´æ¥ä½¿ç”¨å‘½ä»¤<code>hexo g</code>å³åœ¨ç”Ÿæˆé™æ€é¡µé¢å‰çˆ¬å–è±†ç“£æ•°æ®ï¼Œå¦‚æœä½¿ç”¨<code>hexo s</code>åˆ™ä¼šç›‘å¬æ–‡ä»¶å˜åŠ¨ï¼Œæ¯æœ‰ä¸€æ¬¡å˜åŠ¨å°±ä¼šé‡æ–°çˆ¬å–æ•°æ®ã€‚</p><h2 id="å‡çº§"><a href="#å‡çº§" class="headerlink" title="å‡çº§"></a>å‡çº§</h2><p>æˆ‘ä¼šä¸å®šæœŸæ›´æ–°ä¸€äº›åŠŸèƒ½æˆ–è€…ä¿®æ”¹ä¸€äº›Bugï¼Œæ‰€ä»¥å¦‚æœæƒ³ä½¿ç”¨æœ€æ–°çš„ç‰¹æ€§ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„æ–¹æ³•æ¥æ›´æ–°:</p><ol><li>ä¿®æ”¹package.jsonå†…hexo-doubançš„ç‰ˆæœ¬å·è‡³æœ€æ–°</li><li>é‡æ–°å®‰è£…æœ€æ–°ç‰ˆæœ¬<code>npm install hexo-douban --save</code></li></ol><p>æˆ–è€…ä½¿ç”¨<code>npm install hexo-douban --update --save</code>ç›´æ¥æ›´æ–°ã€‚</p><h2 id="æ˜¾ç¤º"><a href="#æ˜¾ç¤º" class="headerlink" title="æ˜¾ç¤º"></a>æ˜¾ç¤º</h2><p>å¦‚æœä¸Šé¢çš„é…ç½®å’Œæ“ä½œéƒ½æ²¡é—®é¢˜ï¼Œå°±å¯ä»¥åœ¨ç”Ÿæˆç«™ç‚¹ä¹‹åæ‰“å¼€ <code>//yourblog/books</code> å’Œ <code>//yourblog/movies</code>, <code>//yourblog/games</code>, æ¥æŸ¥çœ‹ç»“æœ.</p><h2 id="èœå•"><a href="#èœå•" class="headerlink" title="èœå•"></a>èœå•</h2><p>å¦‚æœä¸Šé¢çš„æ˜¾ç¤ºæ²¡æœ‰é—®é¢˜å°±å¯ä»¥åœ¨ä¸»é¢˜çš„é…ç½®æ–‡ä»¶ <code>_config.yml</code> é‡Œæ·»åŠ å¦‚ä¸‹é…ç½®æ¥ä¸ºè¿™äº›é¡µé¢æ·»åŠ èœå•é“¾æ¥.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  Home: &#x2F;</span><br><span class="line">  Archives: &#x2F;archives</span><br><span class="line">  Books: &#x2F;books     #This is your books page</span><br><span class="line">  Movies: &#x2F;movies   #This is your movies page</span><br><span class="line">  Games: &#x2F;games   #This is your games page</span><br></pre></td></tr></table></figure><h2 id="æˆªå›¾"><a href="#æˆªå›¾" class="headerlink" title="æˆªå›¾"></a>æˆªå›¾</h2><h3 id="ä½¿ç”¨æ•ˆæœ"><a href="#ä½¿ç”¨æ•ˆæœ" class="headerlink" title="ä½¿ç”¨æ•ˆæœ"></a><strong>ä½¿ç”¨æ•ˆæœ</strong></h3><h4 id="movie"><a href="#movie" class="headerlink" title="movie"></a><a href="https://www.linuxwf.com/movies/" target="_blank" rel="noopener">movie</a></h4><p><img src="/" class="lazyload" data-src="https://note.youdao.com/yws/public/resource/0a4c7f6e5952926d5443d353067af10b/CE984752A7D347629C96B0B4BF05C4DC?ynotemdtimestamp=1586414793214"  alt="image"></p><h4 id="book"><a href="#book" class="headerlink" title="book"></a><a href="https://www.linuxwf.com/books/" target="_blank" rel="noopener">book</a></h4><p><img src="/" class="lazyload" data-src="https://note.youdao.com/yws/public/resource/0a4c7f6e5952926d5443d353067af10b/1CE66E89BC704F0EAEBA61339157DF26?ynotemdtimestamp=1586414793214"  alt="image"></p><h4 id="game"><a href="#game" class="headerlink" title="game"></a><a href="https://www.linuxwf.com/games/" target="_blank" rel="noopener">game</a></h4><p><img src="/" class="lazyload" data-src="https://note.youdao.com/yws/public/resource/0a4c7f6e5952926d5443d353067af10b/0D30C0729F6C4EE0BAF3C984240EC6D0?ynotemdtimestamp=1586414793214"  alt="image"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="Hexoæ•™ç¨‹" scheme="http://linuxwf.com/categories/Hexo%E6%95%99%E7%A8%8B/"/>
    
    
      <category term="hexo" scheme="http://linuxwf.com/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>Hexoæ·»åŠ RSSè®¢é˜…</title>
    <link href="http://linuxwf.com/2020/04/09/Hexo%E6%B7%BB%E5%8A%A0RSS%E8%AE%A2%E9%98%85/"/>
    <id>http://linuxwf.com/2020/04/09/Hexo%E6%B7%BB%E5%8A%A0RSS%E8%AE%A2%E9%98%85/</id>
    <published>2020-04-09T05:26:00.000Z</published>
    <updated>2020-04-09T05:27:26.834Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="å®‰è£…feedæ’ä»¶"><a href="#å®‰è£…feedæ’ä»¶" class="headerlink" title="å®‰è£…feedæ’ä»¶"></a>å®‰è£…feedæ’ä»¶</h2><p><strong>hexoåšå®¢æœ‰ä¸€ä¸ªä¸“é—¨ç”ŸæˆRSS xmlæ–‡ä»¶çš„æ’ä»¶<code>hexo-generator-feed</code></strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-feed</span><br></pre></td></tr></table></figure><h2 id="å¯ç”¨æ’ä»¶"><a href="#å¯ç”¨æ’ä»¶" class="headerlink" title="å¯ç”¨æ’ä»¶"></a>å¯ç”¨æ’ä»¶</h2><p>åœ¨åšå®¢å·¥ç¨‹æ–‡ä»¶æ ¹ç›®å½•ä¸‹<code>_config.yml</code>æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹å†…å®¹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># Extensions</span><br><span class="line">plugins:</span><br><span class="line">    hexo-generator-feed</span><br><span class="line">#Feed Atom</span><br><span class="line">feed:</span><br><span class="line">    type: atom</span><br><span class="line">    path: atom.xml</span><br><span class="line">    limit: 20</span><br></pre></td></tr></table></figure><h2 id="ç”ŸæˆRSS"><a href="#ç”ŸæˆRSS" class="headerlink" title="ç”ŸæˆRSS"></a>ç”ŸæˆRSS</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br></pre></td></tr></table></figure><h2 id="è®¢é˜…"><a href="#è®¢é˜…" class="headerlink" title="è®¢é˜…"></a>è®¢é˜…</h2><h3 id="æ–°å»ºè®¢é˜…"><a href="#æ–°å»ºè®¢é˜…" class="headerlink" title="æ–°å»ºè®¢é˜…"></a>æ–°å»ºè®¢é˜…</h3><p><strong>è®¢é˜…åœ°å€ä¸ºï¼š <a href="https://www.linuxwf.com/atom.xml" target="_blank" rel="noopener">https://www.linuxwf.com/atom.xml</a> ï¼ˆPSï¼šè®¢é˜…åœ°å€æ”¹ä¸ºè‡ªå·±çš„åšå®¢ï¼‰</strong></p><p><img src="/" class="lazyload" data-src="https://note.youdao.com/yws/public/resource/0a4c7f6e5952926d5443d353067af10b/FFF4606B38824B69BDB9DE37C7FB1EAB?ynotemdtimestamp=1586409584945"  alt="image"></p><h3 id="è®¢é˜…æˆåŠŸ"><a href="#è®¢é˜…æˆåŠŸ" class="headerlink" title="è®¢é˜…æˆåŠŸ"></a>è®¢é˜…æˆåŠŸ</h3><p><img src="/" class="lazyload" data-src="https://note.youdao.com/yws/public/resource/0a4c7f6e5952926d5443d353067af10b/7829F79D72084FF5BABA1C8FDE298975?ynotemdtimestamp=1586409584945"  alt="image"></p><h3 id="æŸ¥çœ‹é‚®ç®±ä¸­çš„åšæ–‡"><a href="#æŸ¥çœ‹é‚®ç®±ä¸­çš„åšæ–‡" class="headerlink" title="æŸ¥çœ‹é‚®ç®±ä¸­çš„åšæ–‡"></a>æŸ¥çœ‹é‚®ç®±ä¸­çš„åšæ–‡</h3><p><img src="/" class="lazyload" data-src="https://note.youdao.com/yws/public/resource/0a4c7f6e5952926d5443d353067af10b/57D60F88CBA44799B3A2EEC1947299CB?ynotemdtimestamp=1586409584945"  alt="image"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="Hexoæ•™ç¨‹" scheme="http://linuxwf.com/categories/Hexo%E6%95%99%E7%A8%8B/"/>
    
    
      <category term="hexo" scheme="http://linuxwf.com/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>Hexo-Aplayeræ’­æ”¾å™¨</title>
    <link href="http://linuxwf.com/2020/04/09/Hexo-Aplayer%E6%92%AD%E6%94%BE%E5%99%A8/"/>
    <id>http://linuxwf.com/2020/04/09/Hexo-Aplayer%E6%92%AD%E6%94%BE%E5%99%A8/</id>
    <published>2020-04-09T04:58:00.000Z</published>
    <updated>2020-04-09T04:59:23.384Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="åˆ›å»ºæ­Œå•é¡µé¢"><a href="#åˆ›å»ºæ­Œå•é¡µé¢" class="headerlink" title="åˆ›å»ºæ­Œå•é¡µé¢"></a>åˆ›å»ºæ­Œå•é¡µé¢</h2><p><strong>æ–°å»ºé¡µé¢ï¼Œå‘½åä¸ºmusicï¼š</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page music</span><br></pre></td></tr></table></figure><p><strong>åœ¨ /Hexo/source æ–‡ä»¶å¤¹ä¸‹ä¼šç”Ÿæˆä¸€ä¸ªmusicæ–‡ä»¶å¤¹ï¼Œæ‰“å¼€é‡Œé¢çš„index.mdï¼Œä¿®æ”¹ï¼š</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: é‚£äº›å¹´ï¼Œå¬è¿‡çš„éŸ³ä¹</span><br><span class="line">date: 2019-10-06 15:42:18</span><br><span class="line">type: &quot;music&quot;</span><br><span class="line">top_img: https:&#x2F;&#x2F;p.pstatp.com&#x2F;origin&#x2F;fe8c0000ded87ed2cd73</span><br><span class="line">comments: false</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p><strong>æ‰“å¼€ä¸»é¢˜çš„ _config.ymlæ–‡ä»¶ï¼Œåœ¨menuä¸‹æ–°å»ºä¸€ä¸ªåä¸ºplaylistçš„ç±»ï¼ˆæ³¨æ„è¿™é‡Œä½¿ç”¨çš„å›¾æ ‡æ˜¯å›¾æ ‡åº“ä¸­çš„<a href="http://www.fontawesome.com.cn/faicons/" target="_blank" rel="noopener">å›¾æ ‡</a>ã€‚å¯ä»¥é€‰æ‹©è‡ªå·±å–œæ¬¢çš„å›¾æ ‡ï¼Œæˆ‘è¿™é‡Œé€‰æ‹©çš„æ˜¯musicï¼‰ã€‚å®Œæˆåå¦‚ä¸‹æ‰€ç¤ºï¼š</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  é¦–é¡µ: &#x2F; || fa fa-home</span><br><span class="line">  æ—¶é—´è½´: &#x2F;archives&#x2F; || fa fa-archive</span><br><span class="line">  æ ‡ç­¾: &#x2F;tags&#x2F; || fa fa-tags</span><br><span class="line">  åˆ†ç±»: &#x2F;categories&#x2F; || fa fa-folder-open</span><br><span class="line">  æ¸…å•||fa-fw fa fa-heartbeat:</span><br><span class="line">    - éŸ³ä¹ || &#x2F;music&#x2F; || fa fa-music</span><br><span class="line">    - ç”µå½± || &#x2F;movies&#x2F; || fa fa-film</span><br><span class="line">    - ä¹¦ç± || &#x2F;books&#x2F; || fa fa-book</span><br><span class="line">    - Game || &#x2F;games&#x2F; || fa fa-gamepad</span><br><span class="line">  å‹é“¾: &#x2F;link&#x2F; || fa fa-link</span><br><span class="line">  ç•™è¨€æ¿: &#x2F;messageboard&#x2F; || fa-fw fa fa-coffee</span><br><span class="line">  å…³äº: &#x2F;about&#x2F; || fa fa-heart</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨-hexo-tag-aplayer-æ’ä»¶"><a href="#ä½¿ç”¨-hexo-tag-aplayer-æ’ä»¶" class="headerlink" title="ä½¿ç”¨ hexo-tag-aplayer æ’ä»¶"></a>ä½¿ç”¨ hexo-tag-aplayer æ’ä»¶</h2><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-tag-aplayer</span><br></pre></td></tr></table></figure><h2 id="ä¾èµ–"><a href="#ä¾èµ–" class="headerlink" title="ä¾èµ–"></a>ä¾èµ–</h2><ul><li>APlayer.js &gt; 1.8.0</li><li>Meting.js &gt; 1.1.1</li></ul><h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><p>æœ€æ–°ç‰ˆçš„ hexo-tag-aplayer å·²ç»æ”¯æŒäº†MetingJSçš„ä½¿ç”¨ï¼Œå¯ä»¥ç›´æ¥è§£æç½‘ç»œå¹³å°çš„æ­Œæ›²ï¼Œé¦–å…ˆè¦åœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶ä¸­å¼€å¯metingæ¨¡å¼ï¼Œæ·»åŠ ä»¥ä¸‹ä»£ç åœ¨é…ç½®æ–‡ä»¶çš„æœ€åï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">aplayer:</span><br><span class="line">  meting: true</span><br></pre></td></tr></table></figure><p>å¤åˆ¶æ­Œå•çš„é“¾æ¥ï¼Œç„¶åå¤åˆ¶æ­Œå•çš„idï¼Œä¾‹å¦‚ <code>http://music.163.com/playlist/967120942/624741809/?userid=624741809</code>è¿™ä¸ªæ­Œå•çš„idå°±æ˜¯967120942ï¼Œå…¬å¸åå¯ä»¥æ˜¯tencentã€neteaseæˆ–æ˜¯å…¶ä»–å…¬å¸ï¼Œä¸‹é¢ç»™å‡ºä¸€ä¸ªä¾‹å­ï¼Œæ‰“å¼€source/music/index.mdæ–‡ä»¶ï¼Œè¾“å…¥ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% meting &quot;967120942&quot; &quot;netease&quot; &quot;playlist&quot; &quot;theme:#FF4081&quot; &quot;mode:circulation&quot; &quot;mutex:true&quot; &quot;listmaxheight:340px&quot; &quot;preload:auto&quot; %&#125;</span><br></pre></td></tr></table></figure><h3 id="æ¼”ç¤º"><a href="#æ¼”ç¤º" class="headerlink" title="æ¼”ç¤º"></a><a href="https://www.gz1903.club/music/" target="_blank" rel="noopener">æ¼”ç¤º</a></h3><p><a href="https://ae01.alicdn.com/kf/Hcdef1c4c28324e1c8a8f9a68478628c7z.png" target="_blank" rel="noopener"><img src="/" class="lazyload" data-src="https://ae01.alicdn.com/kf/Hcdef1c4c28324e1c8a8f9a68478628c7z.png"  alt="img"></a></p><h2 id="æ‰©å±•"><a href="#æ‰©å±•" class="headerlink" title="æ‰©å±•"></a>æ‰©å±•</h2><p>code</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% aplayer title author url [picture_url, narrow, autoplay, width:xxx, lrc:xxx] %&#125;</span><br></pre></td></tr></table></figure><h2 id="æ ‡ç­¾å‚æ•°"><a href="#æ ‡ç­¾å‚æ•°" class="headerlink" title="æ ‡ç­¾å‚æ•°"></a>æ ‡ç­¾å‚æ•°</h2><ul><li><code>title</code> : æ›²ç›®æ ‡é¢˜</li><li><code>author</code>: æ›²ç›®ä½œè€…</li><li><code>url</code>: éŸ³ä¹æ–‡ä»¶ URL åœ°å€</li><li><code>picture_url</code>: (å¯é€‰) éŸ³ä¹å¯¹åº”çš„å›¾ç‰‡åœ°å€</li><li><code>narrow</code>: ï¼ˆå¯é€‰ï¼‰æ’­æ”¾å™¨è¢–çé£æ ¼</li><li><code>autoplay</code>: (å¯é€‰) è‡ªåŠ¨æ’­æ”¾ï¼Œç§»åŠ¨ç«¯æµè§ˆå™¨æš‚æ—¶ä¸æ”¯æŒæ­¤åŠŸèƒ½</li><li><code>width:xxx</code>: (å¯é€‰) æ’­æ”¾å™¨å®½åº¦ (é»˜è®¤: 100%)</li><li><code>lrc:xxx</code>: ï¼ˆå¯é€‰ï¼‰æ­Œè¯æ–‡ä»¶ URL åœ°å€</li></ul><p>å½“å¼€å¯ Hexo çš„ <a href="https://hexo.io/zh-cn/docs/asset-folders.html#æ–‡ç« èµ„æºæ–‡ä»¶å¤¹" target="_blank" rel="noopener">æ–‡ç« èµ„æºæ–‡ä»¶å¤¹</a> åŠŸèƒ½æ—¶ï¼Œå¯ä»¥å°†å›¾ç‰‡ã€éŸ³ä¹æ–‡ä»¶ã€æ­Œè¯æ–‡ä»¶æ”¾å…¥ä¸æ–‡ç« å¯¹åº”çš„èµ„æºæ–‡ä»¶å¤¹ä¸­ï¼Œç„¶åç›´æ¥å¼•ç”¨ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% aplayer &quot;Caffeine&quot; &quot;Jeff Williams&quot; &quot;caffeine.mp3&quot; &quot;picture.jpg&quot; &quot;lrc:caffeine.txt&quot; %&#125;</span><br></pre></td></tr></table></figure><h2 id="æ­Œè¯æ ‡ç­¾"><a href="#æ­Œè¯æ ‡ç­¾" class="headerlink" title="æ­Œè¯æ ‡ç­¾"></a>æ­Œè¯æ ‡ç­¾</h2><p>é™¤äº†ä½¿ç”¨æ ‡ç­¾ <code>lrc</code> é€‰é¡¹æ¥è®¾å®šæ­Œè¯ï¼Œä½ ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ <code>aplayerlrc</code> æ ‡ç­¾æ¥ç›´æ¥æ’å…¥æ­Œè¯æ–‡æœ¬åœ¨åšå®¢ä¸­ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% aplayerlrc &quot;title&quot; &quot;author&quot; &quot;url&quot; &quot;autoplay&quot; %&#125;</span><br><span class="line">[00:00.00]lrc here</span><br><span class="line">&#123;% endaplayerlrc %&#125;</span><br></pre></td></tr></table></figure><h2 id="æ’­æ”¾åˆ—è¡¨"><a href="#æ’­æ”¾åˆ—è¡¨" class="headerlink" title="æ’­æ”¾åˆ—è¡¨"></a>æ’­æ”¾åˆ—è¡¨</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&#123;% aplayerlist %&#125;</span><br><span class="line">&#123;</span><br><span class="line">    &quot;narrow&quot;: false,                          &#x2F;&#x2F; ï¼ˆå¯é€‰ï¼‰æ’­æ”¾å™¨è¢–çé£æ ¼</span><br><span class="line">    &quot;autoplay&quot;: true,                         &#x2F;&#x2F; ï¼ˆå¯é€‰) è‡ªåŠ¨æ’­æ”¾ï¼Œç§»åŠ¨ç«¯æµè§ˆå™¨æš‚æ—¶ä¸æ”¯æŒæ­¤åŠŸèƒ½</span><br><span class="line">    &quot;mode&quot;: &quot;random&quot;,                         &#x2F;&#x2F; ï¼ˆå¯é€‰ï¼‰æ›²ç›®å¾ªç¯ç±»å‹ï¼Œæœ‰ &#39;random&#39;ï¼ˆéšæœºæ’­æ”¾ï¼‰, &#39;single&#39; (å•æ›²æ’­æ”¾), &#39;circulation&#39; (å¾ªç¯æ’­æ”¾), &#39;order&#39; (åˆ—è¡¨æ’­æ”¾)ï¼Œ é»˜è®¤ï¼š&#39;circulation&#39; </span><br><span class="line">    &quot;showlrc&quot;: 3,                             &#x2F;&#x2F; ï¼ˆå¯é€‰ï¼‰æ­Œè¯æ˜¾ç¤ºé…ç½®é¡¹ï¼Œå¯é€‰é¡¹æœ‰ï¼š1,2,3</span><br><span class="line">    &quot;mutex&quot;: true,                            &#x2F;&#x2F; ï¼ˆå¯é€‰ï¼‰è¯¥é€‰é¡¹å¼€å¯æ—¶ï¼Œå¦‚æœåŒé¡µé¢æœ‰å…¶ä»– aplayer æ’­æ”¾ï¼Œè¯¥æ’­æ”¾å™¨ä¼šæš‚åœ</span><br><span class="line">    &quot;theme&quot;: &quot;#e6d0b2&quot;,                      &#x2F;&#x2F; ï¼ˆå¯é€‰ï¼‰æ’­æ”¾å™¨é£æ ¼è‰²å½©è®¾ç½®ï¼Œé»˜è®¤ï¼š#b7daff</span><br><span class="line">    &quot;preload&quot;: &quot;metadata&quot;,                    &#x2F;&#x2F; ï¼ˆå¯é€‰ï¼‰éŸ³ä¹æ–‡ä»¶é¢„è½½å…¥æ¨¡å¼ï¼Œå¯é€‰é¡¹ï¼š &#39;none&#39; &#39;metadata&#39; &#39;auto&#39;, é»˜è®¤: &#39;auto&#39;</span><br><span class="line">    &quot;listmaxheight&quot;: &quot;513px&quot;,                 &#x2F;&#x2F; (å¯é€‰) è¯¥æ’­æ”¾åˆ—è¡¨çš„æœ€å¤§é•¿åº¦</span><br><span class="line">    &quot;music&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;title&quot;: &quot;CoCo&quot;,</span><br><span class="line">            &quot;author&quot;: &quot;Jeff Williams&quot;,</span><br><span class="line">            &quot;url&quot;: &quot;caffeine.mp3&quot;,</span><br><span class="line">            &quot;pic&quot;: &quot;caffeine.jpeg&quot;,</span><br><span class="line">            &quot;lrc&quot;: &quot;caffeine.txt&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;title&quot;: &quot;ã‚¢ã‚¤ãƒ­ãƒ‹&quot;,</span><br><span class="line">            &quot;author&quot;: &quot;é¹¿ä¹ƒ&quot;,</span><br><span class="line">            &quot;url&quot;: &quot;irony.mp3&quot;,</span><br><span class="line">            &quot;pic&quot;: &quot;irony.jpg&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line">&#123;% endaplayerlist %&#125;</span><br></pre></td></tr></table></figure><h2 id="MeingJS-æ”¯æŒ-3-0-æ–°åŠŸèƒ½"><a href="#MeingJS-æ”¯æŒ-3-0-æ–°åŠŸèƒ½" class="headerlink" title="MeingJS æ”¯æŒ (3.0 æ–°åŠŸèƒ½)"></a>MeingJS æ”¯æŒ (3.0 æ–°åŠŸèƒ½)</h2><p><a href="https://github.com/metowolf/MetingJS" target="_blank" rel="noopener">MetingJS</a> æ˜¯åŸºäº<a href="https://github.com/metowolf/Meting" target="_blank" rel="noopener">Meting API</a> çš„ APlayer è¡ç”Ÿæ’­æ”¾å™¨ï¼Œå¼•å…¥ MetingJS åï¼Œæ’­æ”¾å™¨å°†æ”¯æŒå¯¹äº QQéŸ³ä¹ã€ç½‘æ˜“äº‘éŸ³ä¹ã€è™¾ç±³ã€é…·ç‹—ã€ç™¾åº¦ç­‰å¹³å°çš„éŸ³ä¹æ’­æ”¾ã€‚</p><p>å¦‚æœæƒ³åœ¨æœ¬æ’ä»¶ä¸­ä½¿ç”¨ MetingJSï¼Œè¯·åœ¨ Hexo é…ç½®æ–‡ä»¶ <code>_config.yml</code> ä¸­è®¾ç½®ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">aplayer:</span><br><span class="line">  meting: true</span><br></pre></td></tr></table></figure><p>æ¥ç€å°±å¯ä»¥é€šè¿‡``</p><p>åœ¨æ–‡ç« ä¸­ä½¿ç”¨ MetingJS æ’­æ”¾å™¨äº†ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- ç®€å•ç¤ºä¾‹ (id, server, type)  --&gt;</span><br><span class="line">&#123;% meting &quot;60198&quot; &quot;netease&quot; &quot;playlist&quot; %&#125;</span><br><span class="line"></span><br><span class="line">&lt;!-- è¿›é˜¶ç¤ºä¾‹ --&gt;</span><br><span class="line">&#123;% meting &quot;60198&quot; &quot;netease&quot; &quot;playlist&quot; &quot;autoplay&quot; &quot;mutex:false&quot; &quot;listmaxheight:340px&quot; &quot;preload:none&quot; &quot;theme:#ad7a86&quot;%&#125;</span><br></pre></td></tr></table></figure><p>æœ‰å…³``</p><p>çš„é€‰é¡¹åˆ—è¡¨å¦‚ä¸‹:</p><table><thead><tr><th>é€‰é¡¹</th><th>é»˜è®¤å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td>id</td><td><strong>å¿…é¡»å€¼</strong></td><td>æ­Œæ›² id / æ’­æ”¾åˆ—è¡¨ id / ç›¸å†Œ id / æœç´¢å…³é”®å­—</td></tr><tr><td>server</td><td><strong>å¿…é¡»å€¼</strong></td><td>éŸ³ä¹å¹³å°: <code>netease</code>, <code>tencent</code>, <code>kugou</code>, <code>xiami</code>, <code>baidu</code></td></tr><tr><td>type</td><td><strong>å¿…é¡»å€¼</strong></td><td><code>song</code>, <code>playlist</code>, <code>album</code>, <code>search</code>, <code>artist</code></td></tr><tr><td>fixed</td><td><code>false</code></td><td>å¼€å¯å›ºå®šæ¨¡å¼</td></tr><tr><td>mini</td><td><code>false</code></td><td>å¼€å¯è¿·ä½ æ¨¡å¼</td></tr><tr><td>loop</td><td><code>all</code></td><td>åˆ—è¡¨å¾ªç¯æ¨¡å¼ï¼š<code>all</code>, <code>one</code>,<code>none</code></td></tr><tr><td>order</td><td><code>list</code></td><td>åˆ—è¡¨æ’­æ”¾æ¨¡å¼ï¼š <code>list</code>, <code>random</code></td></tr><tr><td>volume</td><td>0.7</td><td>æ’­æ”¾å™¨éŸ³é‡</td></tr><tr><td>lrctype</td><td>0</td><td>æ­Œè¯æ ¼å¼ç±»å‹</td></tr><tr><td>listfolded</td><td><code>false</code></td><td>æŒ‡å®šéŸ³ä¹æ’­æ”¾åˆ—è¡¨æ˜¯å¦æŠ˜å </td></tr><tr><td>storagename</td><td><code>metingjs</code></td><td>LocalStorage ä¸­å­˜å‚¨æ’­æ”¾å™¨è®¾å®šçš„é”®å</td></tr><tr><td>autoplay</td><td><code>true</code></td><td>è‡ªåŠ¨æ’­æ”¾ï¼Œç§»åŠ¨ç«¯æµè§ˆå™¨æš‚æ—¶ä¸æ”¯æŒæ­¤åŠŸèƒ½</td></tr><tr><td>mutex</td><td><code>true</code></td><td>è¯¥é€‰é¡¹å¼€å¯æ—¶ï¼Œå¦‚æœåŒé¡µé¢æœ‰å…¶ä»– aplayer æ’­æ”¾ï¼Œè¯¥æ’­æ”¾å™¨ä¼šæš‚åœ</td></tr><tr><td>listmaxheight</td><td><code>340px</code></td><td>æ’­æ”¾åˆ—è¡¨çš„æœ€å¤§é•¿åº¦</td></tr><tr><td>preload</td><td><code>auto</code></td><td>éŸ³ä¹æ–‡ä»¶é¢„è½½å…¥æ¨¡å¼ï¼Œå¯é€‰é¡¹ï¼š <code>none</code>, <code>metadata</code>, <code>auto</code></td></tr><tr><td>theme</td><td><code>#ad7a86</code></td><td>æ’­æ”¾å™¨é£æ ¼è‰²å½©è®¾ç½®</td></tr></tbody></table><p>å…³äºå¦‚ä½•è®¾ç½®è‡ªå»ºçš„ Meting API æœåŠ¡å™¨åœ°å€ï¼Œä»¥åŠå…¶ä»– MetingJS é…ç½®ï¼Œè¯·å‚è€ƒç« èŠ‚<a href="https://github.com/MoePlayer/hexo-tag-aplayer/blob/master/docs/README-zh_cn.md#è‡ªå®šä¹‰é…ç½®30-æ–°åŠŸèƒ½" target="_blank" rel="noopener">è‡ªå®šä¹‰é…ç½®</a></p><h3 id="PJAX-å…¼å®¹"><a href="#PJAX-å…¼å®¹" class="headerlink" title="PJAX å…¼å®¹"></a>PJAX å…¼å®¹</h3><p>è‹¥åœ¨ Hexo ä¸­ä½¿ç”¨äº† PJAXï¼Œå¯èƒ½éœ€è¦è‡ªå·±æ‰‹åŠ¨æ¸…ç† APlayer å…¨å±€å®ä¾‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$(document).on(&#39;pjax:start&#39;, function () &#123;</span><br><span class="line">    if (window.aplayers) &#123;</span><br><span class="line">        for (let i &#x3D; 0; i &lt; window.aplayers.length; i++) &#123;</span><br><span class="line">            window.aplayers[i].destroy();</span><br><span class="line">        &#125;</span><br><span class="line">        window.aplayers &#x3D; [];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="è‡ªå®šä¹‰é…ç½®ï¼ˆ3-0-æ–°åŠŸèƒ½ï¼‰"><a href="#è‡ªå®šä¹‰é…ç½®ï¼ˆ3-0-æ–°åŠŸèƒ½ï¼‰" class="headerlink" title="è‡ªå®šä¹‰é…ç½®ï¼ˆ3.0 æ–°åŠŸèƒ½ï¼‰"></a>è‡ªå®šä¹‰é…ç½®ï¼ˆ3.0 æ–°åŠŸèƒ½ï¼‰</h2><p>ç°åœ¨ä½ å¯ä»¥åœ¨ Hexo é…ç½®æ–‡ä»¶ <code>_config.yml</code> ä¸­é…ç½®æœ¬æ’ä»¶ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">aplayer:</span><br><span class="line">  script_dir: some&#x2F;place                        # Public ç›®å½•ä¸‹è„šæœ¬ç›®å½•è·¯å¾„ï¼Œé»˜è®¤: &#39;assets&#x2F;js&#39;</span><br><span class="line">  style_dir: some&#x2F;place                         # Public ç›®å½•ä¸‹æ ·å¼ç›®å½•è·¯å¾„ï¼Œé»˜è®¤: &#39;assets&#x2F;css&#39;</span><br><span class="line">  cdn: http:&#x2F;&#x2F;xxx&#x2F;aplayer.min.js                # å¼•ç”¨ APlayer.js å¤–éƒ¨ CDN åœ°å€ (é»˜è®¤ä¸å¼€å¯)</span><br><span class="line">  style_cdn: http:&#x2F;&#x2F;xxx&#x2F;aplayer.min.css         # å¼•ç”¨ APlayer.css å¤–éƒ¨ CDN åœ°å€ (é»˜è®¤ä¸å¼€å¯)</span><br><span class="line">  meting: true                                  # MetingJS æ”¯æŒ</span><br><span class="line">  meting_api: http:&#x2F;&#x2F;xxx&#x2F;api.php                # è‡ªå®šä¹‰ Meting API åœ°å€</span><br><span class="line">  meting_cdn: http:&#x2F;&#x2F;xxx&#x2F;Meing.min.js           # å¼•ç”¨ Meting.js å¤–éƒ¨ CDN åœ°å€ (é»˜è®¤ä¸å¼€å¯)</span><br><span class="line">  asset_inject: true                            # è‡ªåŠ¨æ’å…¥ Aplayer.js ä¸ Meting.js èµ„æºè„šæœ¬, é»˜è®¤å¼€å¯</span><br><span class="line">  externalLink: http:&#x2F;&#x2F;xxx&#x2F;aplayer.min.js       # è€ç‰ˆæœ¬å‚æ•°ï¼ŒåŠŸèƒ½ä¸å‚æ•° cdn ç›¸åŒ</span><br></pre></td></tr></table></figure><h2 id="æ•…éšœæ’é™¤"><a href="#æ•…éšœæ’é™¤" class="headerlink" title="æ•…éšœæ’é™¤"></a>æ•…éšœæ’é™¤</h2><h3 id="æ ‡ç­¾å‚æ•°ç©ºæ ¼é—®é¢˜"><a href="#æ ‡ç­¾å‚æ•°ç©ºæ ¼é—®é¢˜" class="headerlink" title="æ ‡ç­¾å‚æ•°ç©ºæ ¼é—®é¢˜"></a>æ ‡ç­¾å‚æ•°ç©ºæ ¼é—®é¢˜</h3><p>åœ¨ Hexo æ ‡ç­¾ä¸­ï¼Œç”¨æˆ·å¯èƒ½æ— æ³•ç›´æ¥åœ¨æ ‡ç­¾å‚æ•°ä¸­<a href="https://github.com/hexojs/hexo/issues/1455" target="_blank" rel="noopener">åŠ å…¥ç©ºæ ¼</a></p><p>å¦‚æœé‡åˆ°è¿™ç±»é—®é¢˜ï¼Œè¯·ç›´æ¥å°†å‚æ•°ç”¨åŒå¼•å·æ‹¬èµ·æ¥ä½¿ç”¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% aplayer &quot;Caffeine&quot; &quot;Jeff Williams&quot; &quot;caffeine.mp3&quot; &quot;autoplay&quot; &quot;width:70%&quot; &quot;lrc:caffeine.txt&quot; %&#125;</span><br></pre></td></tr></table></figure><h3 id="é‡å¤è½½å…¥-Aplayer-js-èµ„æºè„šæœ¬é—®é¢˜"><a href="#é‡å¤è½½å…¥-Aplayer-js-èµ„æºè„šæœ¬é—®é¢˜" class="headerlink" title="é‡å¤è½½å…¥ Aplayer.js èµ„æºè„šæœ¬é—®é¢˜"></a>é‡å¤è½½å…¥ Aplayer.js èµ„æºè„šæœ¬é—®é¢˜</h3><p>æœ¬æ’ä»¶é€šè¿‡ <code>after_render:html</code>è¿‡æ»¤å™¨ , å°† <code>APlayer.js</code> å’Œ <code>Meting.js</code> æ’å…¥åˆ°ä½¿ç”¨äº†æœ¬æ’ä»¶æ ‡ç­¾ çš„ HTML æ–‡ä»¶ä¸­:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    ...</span><br><span class="line">    &lt;script src&#x3D;&quot;assets&#x2F;js&#x2F;aplayer.min.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">    &lt;script src&#x3D;&quot;assets&#x2F;js&#x2F;meting.min.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">  &lt;&#x2F;head&gt;</span><br><span class="line">  ...</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯ <code>after_render:html</code> åœ¨ä¸€äº›æƒ…å½¢ä¸‹å¯èƒ½æ— æ³•è¢«æ­£å¸¸è§¦å‘:</p><ul><li><a href="https://github.com/hexojs/hexo-inject/issues/1" target="_blank" rel="noopener">Does not work with hexo-renderer-jade</a></li><li><code>after_render:html</code> ä¼¼ä¹åœ¨ Hexo æœåŠ¡å™¨æ¨¡å¼é»˜è®¤é…ç½®ä¸­æ— æ³•è¢«è°ƒç”¨ (<code>hexo server</code>), é‡åˆ°è¿™ç§æƒ…å†µç”¨æˆ·å¯èƒ½éœ€è¦ä½¿ç”¨ <code>hexo-server</code> çš„é™æ€æ–‡ä»¶è§£ææ¨¡å¼ ( <code>hexo server -s</code>) .</li></ul><p>å¦‚æœåœ¨åšå®¢ç”Ÿæˆè¿‡ç¨‹ä¸­ï¼Œæ’ä»¶å‘ç° <code>after_render:html</code> æ²¡æœ‰è¢«è°ƒç”¨ï¼Œé‚£ä¹ˆæ’ä»¶å°†ä¼šé€šè¿‡ <code>after_post_render</code> è¿‡æ»¤å™¨æ¥æ¤å…¥è„šæœ¬ã€‚ä½†æ˜¯ä½¿ç”¨ <code>after_post_render</code> ä¼šæœ‰é‡å¤è½½å…¥ <code>APlayer.js</code> çš„æƒ…å†µï¼ˆä¾‹å¦‚å½“ä¸€ä¸ªé¡µé¢ä¸­å­˜åœ¨å¤šç¯‡åšå®¢æ—¶ï¼‰ï¼Œä»¥åŠä¸€äº›éæ–‡ç« é¡µé¢å°†æ— æ³•ä½¿ç”¨æœ¬æ’ä»¶ã€‚</p><p>å¦‚æœæƒ³å®Œå…¨è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œç”¨æˆ·å¯èƒ½éœ€è¦è‡ªå·±åœ¨ä¸»é¢˜æ–‡ä»¶ä¸­æ‰‹åŠ¨åŠ å…¥ <code>Aplayer.js</code> ä¸ <code>Meting.js</code>ï¼ŒåŒæ—¶å…³é—­æ’ä»¶çš„è‡ªåŠ¨è„šæœ¬æ’å…¥åŠŸèƒ½ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">aplayer:</span><br><span class="line">  asset_inject: false</span><br></pre></td></tr></table></figure><h1 id="æˆ‘çš„é…ç½®"><a href="#æˆ‘çš„é…ç½®" class="headerlink" title="æˆ‘çš„é…ç½®"></a>æˆ‘çš„é…ç½®</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: é‚£äº›å¹´ï¼Œå¬è¿‡çš„éŸ³ä¹</span><br><span class="line">date: 2020-04-08 11:05:43</span><br><span class="line">type: &quot;music&quot;</span><br><span class="line">top_img: https:&#x2F;&#x2F;p.pstatp.com&#x2F;origin&#x2F;fe8c0000ded87ed2cd73</span><br><span class="line">comments: false</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line"># é‚£äº›å¹´ï¼Œå¬è¿‡çš„éŸ³ä¹</span><br><span class="line"></span><br><span class="line">ä¸€ä¹ æ¸…é£ä¸¤è¡Œæ³ªï¼Œ</span><br><span class="line"></span><br><span class="line">ä¸‰çº¿å››å¼¦ä¸æˆè¯—ï¼Œ</span><br><span class="line"></span><br><span class="line">å€Ÿé—®æ±Ÿæ¹–æ³£èŠ±è°ƒï¼Œ</span><br><span class="line"></span><br><span class="line">ä¸ºè°é£˜æµªä¸ºè°ç—´ï¼Ÿ</span><br><span class="line"></span><br><span class="line">&lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;aplayer@1.10&#x2F;dist&#x2F;APlayer.min.css&quot;&gt;</span><br><span class="line">&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;aplayer@1.10&#x2F;dist&#x2F;APlayer.min.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;meting@1.2&#x2F;dist&#x2F;Meting.min.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&#123;% meting &quot;405179499&quot; &quot;netease&quot; &quot;playlist&quot; &quot;theme:#555&quot; &quot;mutex:true&quot; &quot;listmaxheight:340px&quot; &quot;preload:auto&quot; %&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="Hexoæ•™ç¨‹" scheme="http://linuxwf.com/categories/Hexo%E6%95%99%E7%A8%8B/"/>
    
    
      <category term="hexo" scheme="http://linuxwf.com/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>Valine Admin ç•™è¨€æ¿</title>
    <link href="http://linuxwf.com/2020/04/09/Valine-Admin-%E7%95%99%E8%A8%80%E6%9D%BF/"/>
    <id>http://linuxwf.com/2020/04/09/Valine-Admin-%E7%95%99%E8%A8%80%E6%9D%BF/</id>
    <published>2020-04-09T04:49:00.000Z</published>
    <updated>2020-04-09T04:50:05.593Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>æ­¤é¡¹ç›®æ˜¯ä¸€ä¸ªå¯¹ <a href="https://valine.js.org/" target="_blank" rel="noopener">Valine</a> è¯„è®ºç³»ç»Ÿçš„æ‹“å±•åº”ç”¨ï¼Œå¯å¢å¼º <code>Valine</code> çš„é‚®ä»¶é€šçŸ¥åŠŸèƒ½ã€‚åŸºäº Leancloud çš„äº‘å¼•æ“ä¸äº‘å‡½æ•°ã€‚å¯ä»¥æä¾›é‚®ä»¶ <code>é€šçŸ¥ç«™é•¿</code> å’Œ <code>@ é€šçŸ¥</code> çš„åŠŸèƒ½ï¼Œè€Œä¸”è¿˜æ”¯æŒè‡ªå®šä¹‰é‚®ä»¶é€šçŸ¥æ¨¡æ¿ã€‚</p><p><a href="https://github.com/zhaojun1998/Valine-Admin/blob/master/é«˜çº§é…ç½®.md#é‚®ä»¶é€šçŸ¥å±•ç¤º" target="_blank" rel="noopener">ç‚¹å‡»æŸ¥çœ‹æ¼”ç¤º</a></p><h2 id="å¿«é€Ÿå¼€å§‹"><a href="#å¿«é€Ÿå¼€å§‹" class="headerlink" title="å¿«é€Ÿå¼€å§‹"></a>å¿«é€Ÿå¼€å§‹</h2><p>Valineå®˜æ–¹æä¾›çš„é‚®ä»¶æé†’åŠŸèƒ½æ˜¯åŸºäº<code>Leancloudçš„å¯†ç é‡ç½®é‚®ä»¶æé†’</code>ï¼Œæ“ä½œæ­¥éª¤å¦‚ä¸‹ï¼š</p><p>è¿›å…¥<code>Leancloud</code>&gt;é€‰æ‹©ä½ çš„è¯„è®ºæ‰€å­˜æ”¾çš„<code>åº”ç”¨</code>&gt;<code>è®¾ç½®</code>&gt;<code>é‚®ä»¶æ¨¡æ¿</code>ï¼ŒæŒ‰ä¸‹å›¾è®¾ç½®å¥½ç”¨äº<code>é‡ç½®å¯†ç </code>çš„é‚®ä»¶ä¸»é¢˜&gt;ç„¶åä¿å­˜:</p><p>ä¿®æ”¹é‚®ä»¶ä¸»é¢˜ï¼š<code>ä½ åœ¨ çš„è¯„è®ºæ”¶åˆ°äº†æ–°çš„è¯„è®º</code></p><p>ä¿®æ”¹å†…å®¹ï¼šå°†ä¸‹é¢çš„ä»£ç å¤åˆ¶åˆ°â€œå†…å®¹â€ä¸­ï¼Œå¹¶å°†å…¶ä¸­çš„<code>ä½ çš„ç½‘å€é¦–é¡µé“¾æ¥</code>æ”¹ä¸ºä½ çš„ç½‘å€é¦–é¡µé“¾æ¥ã€‚</p><p><a href="https://pic.superbed.cn/item/5da937ec451253d178246518.png" target="_blank" rel="noopener"><img src="/" class="lazyload" data-src="https://pic.superbed.cn/item/5da937ec451253d178246518.png"  alt="img"></a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt;Hi, &#123;&#123;username&#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">&lt;p&gt;</span><br><span class="line">ä½ åœ¨ &#123;&#123;appname&#125;&#125; çš„è¯„è®ºæ”¶åˆ°äº†æ–°çš„å›å¤ï¼Œè¯·ç‚¹å‡»æŸ¥çœ‹ï¼š</span><br><span class="line">&lt;&#x2F;p&gt;</span><br><span class="line">&lt;p&gt;&lt;a href&#x3D;&quot;ä½ çš„ç½‘å€é¦–é¡µé“¾æ¥&quot; style&#x3D;&quot;display: inline-block; padding: 10px 20px; border-radius: 4px; background-color: #3090e4; color: #fff; text-decoration: none;&quot;&gt;é©¬ä¸ŠæŸ¥çœ‹&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;</span><br></pre></td></tr></table></figure><p>ç‚¹å‡»â€œä¿å­˜â€æŒ‰é’®</p><p>ä¿®æ”¹<strong>ä¸»é¢˜é…ç½®æ–‡ä»¶</strong>æœç´¢<code>valine</code>ï¼ˆå¿«é€Ÿå®šä½ï¼‰ï¼Œå°†å…¶ä¸­çš„<code>false</code>æ”¹ä¸º<code>true</code>ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">valine:</span><br><span class="line">  enable: true # if you want use valine,please set this value is true</span><br><span class="line">  appId:    # leancloud application app id</span><br><span class="line">  appKey:    # leancloud application app key</span><br><span class="line">  notify: false # valine mail notify (true&#x2F;false) https:&#x2F;&#x2F;github.com&#x2F;xCss&#x2F;Valine&#x2F;wiki</span><br><span class="line">  verify: true # valine verify code (true&#x2F;false)</span><br><span class="line">  pageSize: 10 # comment list page size</span><br><span class="line">  avatar: monsterid # gravatar style https:&#x2F;&#x2F;valine.js.org&#x2F;#&#x2F;avatar</span><br><span class="line">  lang: zh-cn # i18n: zh-cn&#x2F;en</span><br><span class="line">  placeholder: Please leave your footprints # valine comment input placeholder(like: Please leave your footprints )</span><br><span class="line">  guest_info: nick,mail,link #valine comment header info</span><br><span class="line">  bg: &#x2F;img&#x2F;comment_bg.png  # valine background</span><br></pre></td></tr></table></figure><h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><ul><li>å‘é€æ¬¡æ•°è¿‡å¤šï¼Œå¯èƒ½ä¼šæš‚æ—¶è¢«Leancloud å±è”½é‚®ä»¶å‘é€åŠŸèƒ½</li><li>ç”±äº<code>é‚®ä»¶æé†’</code>åŠŸèƒ½ä½¿ç”¨çš„<code>Leancloudçš„å¯†ç é‡ç½®é‚®ä»¶æé†’</code>ï¼Œåªèƒ½ä¼ é€’<code>æ˜µç§°</code>ã€<code>é‚®ç®±</code>ä¸¤ä¸ªå±æ€§ï¼Œæ‰€ä»¥é‚®ä»¶æé†’é“¾æ¥<code>æ— æ³•ç›´è¾¾æŒ‡å®šæ–‡ç« é¡µ</code>ã€‚<strong>è¯·æ‚‰çŸ¥</strong>ã€‚</li><li>å¼€å¯<code>é‚®ä»¶æé†’</code>ä¼šé»˜è®¤å¼€å¯<code>éªŒè¯ç </code>é€‰é¡¹ã€‚</li><li>è¯¥åŠŸèƒ½ç›®å‰è¿˜åœ¨æµ‹è¯•é˜¶æ®µï¼Œè°¨æ…ä½¿ç”¨ã€‚</li><li>ç›®å‰<code>é‚®ä»¶æé†’</code>æ­£å¤„äºæµ‹è¯•é˜¶æ®µï¼Œä»…åœ¨<code>å­çº§</code>å¯¹å­˜åœ¨é‚®ä»¶åœ°å€çš„<code>çˆ¶çº§</code>å‘è¡¨è¯„è®ºæ—¶å‘é€é‚®ä»¶</li></ul><h2 id="ç¬¬ä¸‰æ–¹æ”¯æŒ"><a href="#ç¬¬ä¸‰æ–¹æ”¯æŒ" class="headerlink" title="ç¬¬ä¸‰æ–¹æ”¯æŒ"></a>ç¬¬ä¸‰æ–¹æ”¯æŒ</h2><p>è¿™é‡Œé‡ç‚¹è®²ä¸€ä¸‹ç¬¬ä¸‰æ–¹<code>é‚®ä»¶æé†’</code>ï¼š<a href="https://github.com/zhaojun1998/Valine-Admin" target="_blank" rel="noopener">Valine-Admin</a></p><p>è¿™ä¹Ÿå…ˆéœ€è¦å°†Valineçš„è¯„è®ºåŠŸèƒ½æˆåŠŸè·‘èµ·æ¥ã€‚</p><p>ç„¶åè¿›å…¥ <a href="https://leancloud.cn/dashboard/applist.html#/apps" target="_blank" rel="noopener">Leancloud</a> å¯¹åº”çš„ Valine åº”ç”¨ä¸­ã€‚</p><p>ç‚¹å‡» <code>äº‘å¼•æ“ -&gt; è®¾ç½®</code> å¡«å†™ä»£ç åº“å¹¶ä¿å­˜ï¼š<code>https://github.com/zhaojun1998/Valine-Admin</code></p><p><a href="https://p.pstatp.com/origin/ff4700010297073dbed1" target="_blank" rel="noopener"><img src="/" class="lazyload" data-src="https://p.pstatp.com/origin/ff4700010297073dbed1"  alt="img"></a></p><p>åˆ‡æ¢åˆ°éƒ¨ç½²æ ‡ç­¾é¡µï¼Œåˆ†æ”¯ä½¿ç”¨ masterï¼Œç‚¹å‡»éƒ¨ç½²å³å¯ï¼š</p><p><a href="https://p.pstatp.com/origin/fe8000017fb250d16a0f" target="_blank" rel="noopener"><img src="/" class="lazyload" data-src="https://p.pstatp.com/origin/fe8000017fb250d16a0f"  alt="img"></a></p><p><a href="https://p.pstatp.com/origin/ff6f00007bb410dac4c1" target="_blank" rel="noopener"><img src="/" class="lazyload" data-src="https://p.pstatp.com/origin/ff6f00007bb410dac4c1"  alt="img"></a></p><p>è®¾ç½®äº‘å¼•æ“çš„ç¯å¢ƒå˜é‡</p><p><a href="https://p.pstatp.com/origin/ff250000ea6543063008" target="_blank" rel="noopener"><img src="/" class="lazyload" data-src="https://p.pstatp.com/origin/ff250000ea6543063008"  alt="img"></a></p><p><strong>å¿…é€‰å‚æ•°</strong></p><ul><li><code>SITE_NAME</code> : ç½‘ç«™åç§°ã€‚</li><li><code>SITE_URL</code> : ç½‘ç«™åœ°å€, <strong>æœ€åä¸è¦åŠ  / ã€‚</strong></li><li><code>SMTP_USER</code> : SMTP æœåŠ¡ç”¨æˆ·åï¼Œä¸€èˆ¬ä¸ºé‚®ç®±åœ°å€ã€‚</li><li><code>SMTP_PASS</code> : SMTP å¯†ç ï¼Œä¸€èˆ¬ä¸ºæˆæƒç ï¼Œè€Œä¸æ˜¯é‚®ç®±çš„ç™»é™†å¯†ç ï¼Œè¯·è‡ªè¡ŒæŸ¥è¯¢å¯¹åº”é‚®ä»¶æœåŠ¡å•†çš„è·å–æ–¹å¼</li><li><code>SMTP_SERVICE</code> : é‚®ä»¶æœåŠ¡æä¾›å•†ï¼Œæ”¯æŒ <code>QQ</code>ã€<code>163</code>ã€<code>126</code>ã€<code>Gmail</code>ã€<code>&quot;Yahoo&quot;</code>ã€<code>......</code> ï¼Œå…¨éƒ¨æ”¯æŒè¯·å‚è€ƒ : <a href="https://nodemailer.com/smtp/well-known/#supported-services" target="_blank" rel="noopener">Nodemailer Supported services</a>ã€‚ â€” <em>å¦‚è¿™é‡Œæ²¡æœ‰ä½ ä½¿ç”¨çš„é‚®ä»¶æä¾›å•†ï¼Œè¯·æŸ¥çœ‹è‡ªå®šä¹‰é‚®ä»¶æœåŠ¡å™¨</em></li><li><code>SENDER_NAME</code> : å¯„ä»¶äººåç§°ã€‚</li></ul><p>ç”±äºæˆ‘ä½¿ç”¨çš„æ˜¯æˆ‘è‡ªå·±çš„ä¼ä¸šé‚®ç®±ï¼Œæ‰€ä»¥è¿™è¾¹çš„<code>SMTP_SERVICE</code>å°±ä¸é€‚ç”¨äº†ï¼Œéœ€è¦ç”¨è¿™ä¸‰ä¸ªå‚æ•°æ›¿æ¢ï¼š<code>SMTP_HOST</code>ã€<code>SMTP_PORT</code>ã€<code>SMTP_SECURE</code>ã€‚</p><p>è¯¦ç»†è¯´æ˜å¦‚ä¸‹ï¼š</p><ul><li><code>SMTP_HOST</code> : é‚®ä»¶æœåŠ¡æä¾›å•† SMTP åœ°å€ï¼Œå¦‚ qq : <code>smtp.qq.com</code>ï¼Œ<em>æ­¤é¡¹éœ€è¦è‡ªè¡ŒæŸ¥è¯¢æˆ–è¯¢é—®å…¶æœåŠ¡å•†</em>ã€‚</li><li><code>SMTP_PORT</code> : é‚®ä»¶æœåŠ¡æä¾›å•† SMTP ç«¯å£, <em>æ­¤é¡¹éœ€è¦è‡ªè¡ŒæŸ¥è¯¢æˆ–è¯¢é—®å…¶æœåŠ¡å•†</em>ã€‚</li><li><code>SMTP_SECURE</code> : æ˜¯å¦å¯ç”¨åŠ å¯†, é»˜è®¤ä¸º <code>true</code>ï¼Œä¸€èˆ¬ä¸éœ€è¦è®¾ç½®ï¼Œå¦‚æœ‰ç‰¹æ®Šè¯·è‡ªè¡Œé…ç½®ã€‚ <em>æ­¤é¡¹éœ€è¦è‡ªè¡ŒæŸ¥è¯¢æˆ–è¯¢é—®å…¶æœåŠ¡å•†</em>ã€‚</li></ul><p>å¦‚æœä¹ŸåŒæˆ‘ä¸€æ ·ä½¿ç”¨é˜¿é‡Œäº‘ä¼ä¸šé‚®ç®±ï¼Œ<code>SMTP_HOST</code>ã€<code>SMTP_PORT</code>ã€<code>SMTP_SECURE</code>å¯ä»¥ç…§æˆ‘çš„å†™ã€‚</p><p>å¯ä»¥çœ‹åˆ°ä¸Šå›¾ä¸­ï¼Œæˆ‘çš„è‡ªå®šä¹‰ç¯å¢ƒå˜é‡è¿˜å¤šäº†2ä¸ªï¼Œåˆ†åˆ«æ˜¯ï¼š</p><ul><li><code>TO_EMAIL</code>ï¼šè¿™ä¸ªæ˜¯å¡«æ”¶é‚®ä»¶æé†’çš„é‚®ç®±åœ°å€ï¼Œè‹¥æ²¡æœ‰è¿™ä¸ªå­—æ®µï¼Œåˆ™å°†é‚®ä»¶å‘åˆ°<code>SMTP_USER</code>ã€‚</li><li><code>TEMPLATE_NAME</code>ï¼šè®¾ç½®æé†’é‚®ä»¶çš„ä¸»é¢˜ï¼Œç›®å‰å†…ç½®äº†ä¸¤æ¬¾ä¸»é¢˜ï¼Œåˆ†åˆ«ä¸º <code>default</code> ä¸ <code>rainbow</code>ã€‚é»˜è®¤ä¸º <code>default</code> ã€‚</li></ul><h2 id="Web-è¯„è®ºç®¡ç†"><a href="#Web-è¯„è®ºç®¡ç†" class="headerlink" title="Web è¯„è®ºç®¡ç†"></a>Web è¯„è®ºç®¡ç†</h2><p>æ­¤é¡¹ç›®è¿˜ä¸º Valine æä¾›äº†æ›´æ–¹ä¾¿çš„è¯„è®ºç®¡ç†åŠŸèƒ½ï¼Œå¯ä»¥åœ¨ web ç«¯å¯¹è¯„è®ºè¿›è¡ŒæŸ¥çœ‹ä¸åˆ é™¤æ“ä½œã€‚é…ç½®æ–¹å¼å¦‚ä¸‹ã€‚</p><p><a href="https://p.pstatp.com/origin/fff900005d904ddf81b4" target="_blank" rel="noopener"><img src="/" class="lazyload" data-src="https://p.pstatp.com/origin/fff900005d904ddf81b4"  alt="img"></a></p><p>åå°ç™»å½•éœ€è¦è´¦å·å¯†ç ï¼Œéœ€è¦åœ¨è¿™é‡Œè®¾ç½®ï¼Œåªéœ€è¦å¡«å†™ <code>email</code>ã€<code>password</code>ã€<code>username</code>ï¼Œè¿™ä¸‰ä¸ªå­—æ®µå³å¯, ä½¿ç”¨ <code>email</code> ä½œä¸ºè´¦å·ç™»é™†å³å¯ã€‚ï¼ˆä¸ºäº†å®‰å…¨è€ƒè™‘ï¼Œæ­¤ <code>email</code> å¿…é¡»ä¸ºé…ç½®ä¸­çš„ <code>SMTP_USER</code> æˆ– <code>TO_EMAIL</code>ï¼Œ å¦åˆ™ä¸å…è®¸ç™»å½•ï¼‰</p><p><a href="https://p.pstatp.com/origin/fec100008805cbf4cedf" target="_blank" rel="noopener"><img src="/" class="lazyload" data-src="https://p.pstatp.com/origin/fec100008805cbf4cedf"  alt="img"></a></p><blockquote><p>Web åå°ç›®å‰ä»…æœ‰ <code>æŸ¥çœ‹</code> ä¸ <code>åˆ é™¤</code> åŠŸèƒ½</p></blockquote><h2 id="LeanCloud-ä¼‘çœ ç­–ç•¥"><a href="#LeanCloud-ä¼‘çœ ç­–ç•¥" class="headerlink" title="LeanCloud ä¼‘çœ ç­–ç•¥"></a>LeanCloud ä¼‘çœ ç­–ç•¥</h2><p>å…è´¹ç‰ˆçš„ LeanCloud å®¹å™¨ï¼Œæ˜¯æœ‰å¼ºåˆ¶æ€§ä¼‘çœ ç­–ç•¥çš„ï¼Œä¸èƒ½ 24 å°æ—¶è¿è¡Œï¼š</p><ul><li>æ¯å¤©å¿…é¡»ä¼‘çœ  6 ä¸ªå°æ—¶</li><li>30 åˆ†é’Ÿå†…æ²¡æœ‰å¤–éƒ¨è¯·æ±‚ï¼Œåˆ™ä¼‘çœ ã€‚</li><li>ä¼‘çœ åå¦‚æœæœ‰æ–°çš„å¤–éƒ¨è¯·æ±‚å®ä¾‹åˆ™é©¬ä¸Šå¯åŠ¨ï¼ˆä½†æ¿€æ´»æ—¶æ­¤æ¬¡å‘é€é‚®ä»¶ä¼šå¤±è´¥ï¼‰ã€‚</li></ul><p>åˆ†æäº†ä¸€ä¸‹ä¸Šæ–¹çš„ç­–ç•¥ï¼Œå¦‚æœä¸æƒ³ä»˜è´¹çš„è¯ï¼Œæœ€ä½³ä½¿ç”¨æ–¹æ¡ˆå°±è®¾ç½®å®šæ—¶å™¨ï¼Œæ¯å¤© 7 - 23 ç‚¹æ¯ 20 åˆ†é’Ÿè®¿é—®ä¸€æ¬¡ï¼Œè¿™æ ·å¯ä»¥ä¿æŒæ¯å¤©çš„ç»å¤§å¤šæ•°æ—¶é—´é‚®ä»¶æœåŠ¡æ˜¯æ­£å¸¸çš„ã€‚</p><p>é™„ <code>Linux crontab</code> å®šæ—¶å™¨ä»£ç ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*&#x2F;20 7-23 * * * curl https:&#x2F;&#x2F;ä½ é…ç½®çš„åŸŸåå‰ç¼€.leanapp.cn</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„, LeanCloud æœ€è¿‘æ›´æ–°äº†å®šæ—¶å™¨æ ¡éªŒè§„åˆ™, éœ€è¦å°† Cron è¡¨è¾¾å¼å†™ä¸º: <code>0 */20 7-23 * * ?</code> </p></blockquote><p><strong>æ›´æ–°æ–°ç‰ˆæœ¬ä¸æ›´æ”¹ç¯å¢ƒå˜é‡å‡éœ€è¦é‡å¯å®¹å™¨åç”Ÿæ•ˆã€‚</strong></p><h3 id="é‡å¯å®¹å™¨"><a href="#é‡å¯å®¹å™¨" class="headerlink" title="é‡å¯å®¹å™¨"></a>é‡å¯å®¹å™¨</h3><p><a href="https://p.pstatp.com/origin/fe6700008710c45106bb" target="_blank" rel="noopener"><img src="/" class="lazyload" data-src="https://p.pstatp.com/origin/fe6700008710c45106bb"  alt="img"></a></p><h2 id="é‚®ä»¶é€šçŸ¥å±•ç¤º"><a href="#é‚®ä»¶é€šçŸ¥å±•ç¤º" class="headerlink" title="é‚®ä»¶é€šçŸ¥å±•ç¤º"></a>é‚®ä»¶é€šçŸ¥å±•ç¤º</h2><p><strong>æ¸¸å®¢ A è¯„è®ºï¼Œç«™é•¿æ”¶åˆ°é‚®ä»¶ :</strong></p><p>( <code>rainbow</code> ä¸»é¢˜)</p><p><a href="https://p.pstatp.com/origin/ffef0000307de5ccb4ca" target="_blank" rel="noopener"><img src="/" class="lazyload" data-src="https://p.pstatp.com/origin/ffef0000307de5ccb4ca"  alt="img"></a></p><p><strong>æ¸¸å®¢è¢« @ æ”¶åˆ°çš„é‚®ä»¶ :</strong></p><p><a href="https://p.pstatp.com/origin/fe9a0000ed17a41e8325" target="_blank" rel="noopener"><img src="/" class="lazyload" data-src="https://p.pstatp.com/origin/fe9a0000ed17a41e8325"  alt="img"></a></p><blockquote><p><code>rainbow</code> å½©è™¹ä¸»é¢˜</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="Hexoæ•™ç¨‹" scheme="http://linuxwf.com/categories/Hexo%E6%95%99%E7%A8%8B/"/>
    
    
      <category term="hexo" scheme="http://linuxwf.com/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>Hexoæ·»åŠ Live2dçœ‹æ¿åŠ¨ç”»æ•ˆæœ</title>
    <link href="http://linuxwf.com/2020/04/09/Hexo%E6%B7%BB%E5%8A%A0Live2d%E7%9C%8B%E6%9D%BF%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/"/>
    <id>http://linuxwf.com/2020/04/09/Hexo%E6%B7%BB%E5%8A%A0Live2d%E7%9C%8B%E6%9D%BF%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/</id>
    <published>2020-04-09T04:41:00.000Z</published>
    <updated>2020-04-09T04:42:12.631Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h1><p>Hexoæ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„åšå®¢æ¡†æ¶ï¼Œèƒ½å¤Ÿå¿«é€Ÿç”Ÿæˆé™æ€é¡µé¢ï¼Œåªéœ€ä¸€æ¡æŒ‡ä»¤å³å¯éƒ¨ç½²åˆ° GitHub Pages, Heroku æˆ–å…¶ä»–ç½‘ç«™ï¼Œæ”¯æŒ GitHub Flavored Markdown çš„æ‰€æœ‰åŠŸèƒ½ï¼ŒåŒæ—¶è¿˜æ‹¥æœ‰å¼ºå¤§çš„æ’ä»¶ç³»ç»Ÿã€‚</p><p><a href="https://p.pstatp.com/origin/fe4a0000a08fd0c13898" target="_blank" rel="noopener"><img src="/" class="lazyload" data-src="https://p.pstatp.com/origin/fe4a0000a08fd0c13898"  alt="img"></a></p><p>ä¸ºå¢æ·»é¡µé¢è¶£å‘³æ€§ï¼Œè¿™æ¬¡ä¸»è¦ä»‹ç» <strong>Hexo</strong> æ·»åŠ Live2dçœ‹æ¿åŠ¨ç”»æ•ˆæœã€‚</p><h1 id="æ·»åŠ Live2dçœ‹æ¿åŠ¨ç”»"><a href="#æ·»åŠ Live2dçœ‹æ¿åŠ¨ç”»" class="headerlink" title="æ·»åŠ Live2dçœ‹æ¿åŠ¨ç”»"></a>æ·»åŠ Live2dçœ‹æ¿åŠ¨ç”»</h1><p><a href="https://github.com/xiazeyu/live2d-widget-models" target="_blank" rel="noopener">çœ‹æ¿åŠ¨ç”»</a></p><p>ç«™ç‚¹æ ¹ç›®å½•ä¸‹è½½æ’ä»¶ï¼Œå®‰è£…æˆåŠŸåï¼Œä½ å¯ä»¥åœ¨ä½ çš„ç«™ç‚¹æ ¹æ–‡ä»¶å¤¹<code>/node_modules/</code>åº•ä¸‹æ‰¾åˆ°<code>live2d-widget</code>è¿™ä¸ªæ–‡ä»¶å¤¹ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-helper-live2d</span><br></pre></td></tr></table></figure><p>å®‰è£…ä½ æƒ³è¦çš„live2dåŠ¨ç”»äººç‰©ï¼Œè¿™é‡Œé€‰æ‹© <code>live2d-widget-model-koharu</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install live2d-widget-model-koharu</span><br></pre></td></tr></table></figure><p>åœ¨ç«™ç‚¹æ ¹ç›®å½•ä¸‹<code>_config.yml</code>æ·»åŠ å¦‚ä¸‹ä»£ç </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">#live2dçœ‹æ¿åŠ¨ç”»</span><br><span class="line">live2d:</span><br><span class="line">  enable: true</span><br><span class="line">  scriptFrom: local</span><br><span class="line">  pluginRootPath: live2dw&#x2F;</span><br><span class="line">  pluginJsPath: lib&#x2F;</span><br><span class="line">  pluginModelPath: assets&#x2F;</span><br><span class="line">  tagMode: false</span><br><span class="line">  log: false</span><br><span class="line">  model:</span><br><span class="line">    use: live2d-widget-model-koharu</span><br><span class="line">  display:</span><br><span class="line">    superSample: 2</span><br><span class="line">    width: 150</span><br><span class="line">    height: 300</span><br><span class="line">    position: right</span><br><span class="line">    hOffset: 100</span><br><span class="line">    vOffset: -50</span><br><span class="line">  mobile:</span><br><span class="line">    show: true </span><br><span class="line">    scale: 0.5</span><br><span class="line">react:</span><br><span class="line">    opacityDefault: 0.7</span><br><span class="line">    opacityOnHover: 0.2</span><br></pre></td></tr></table></figure><h1 id="æœ¬åœ°é¢„è§ˆæ•ˆæœ"><a href="#æœ¬åœ°é¢„è§ˆæ•ˆæœ" class="headerlink" title="æœ¬åœ°é¢„è§ˆæ•ˆæœ"></a>æœ¬åœ°é¢„è§ˆæ•ˆæœ</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</span><br></pre></td></tr></table></figure><h1 id="Live2då„ä¸ªæ¨¡å‹ï¼š"><a href="#Live2då„ä¸ªæ¨¡å‹ï¼š" class="headerlink" title="Live2då„ä¸ªæ¨¡å‹ï¼š"></a>Live2då„ä¸ªæ¨¡å‹ï¼š</h1><h2 id="live2d-widget-model-chitose"><a href="#live2d-widget-model-chitose" class="headerlink" title="live2d-widget-model-chitose"></a>live2d-widget-model-chitose</h2><p><img src="/" class="lazyload" data-src="https://p.pstatp.com/origin/fe4a0000a08d891a1549"  alt="img"></p><h2 id="live2d-widget-model-epsilon2-1"><a href="#live2d-widget-model-epsilon2-1" class="headerlink" title="live2d-widget-model-epsilon2_1"></a>live2d-widget-model-epsilon2_1</h2><p><a href="https://p.pstatp.com/origin/fed40000cc5a743e5149" target="_blank" rel="noopener"><img src="/" class="lazyload" data-src="https://p.pstatp.com/origin/fed40000cc5a743e5149"  alt="img"></a></p><h2 id="live2d-widget-model-haru-01"><a href="#live2d-widget-model-haru-01" class="headerlink" title="live2d-widget-model-haru_01"></a>live2d-widget-model-haru_01</h2><p><a href="https://p.pstatp.com/origin/ff710000a431bce325bb" target="_blank" rel="noopener"><img src="/" class="lazyload" data-src="https://p.pstatp.com/origin/ff710000a431bce325bb"  alt="img"></a></p><h2 id="live2d-widget-model-haru-02"><a href="#live2d-widget-model-haru-02" class="headerlink" title="live2d-widget-model-haru_02"></a>live2d-widget-model-haru_02</h2><p><a href="https://p.pstatp.com/origin/ffd400009132cc544f22" target="_blank" rel="noopener"><img src="/" class="lazyload" data-src="https://p.pstatp.com/origin/ffd400009132cc544f22"  alt="img"></a></p><h2 id="live2d-widget-model-haruto"><a href="#live2d-widget-model-haruto" class="headerlink" title="live2d-widget-model-haruto"></a>live2d-widget-model-haruto</h2><p><a href="https://p.pstatp.com/origin/ff7c00005b37bf013a3c" target="_blank" rel="noopener"><img src="/" class="lazyload" data-src="https://p.pstatp.com/origin/ff7c00005b37bf013a3c"  alt="img"></a></p><h2 id="live2d-widget-model-koharu"><a href="#live2d-widget-model-koharu" class="headerlink" title="live2d-widget-model-koharu"></a>live2d-widget-model-koharu</h2><p><a href="https://p.pstatp.com/origin/ffaf00008314d58db851" target="_blank" rel="noopener"><img src="/" class="lazyload" data-src="https://p.pstatp.com/origin/ffaf00008314d58db851"  alt="img"></a></p><h2 id="live2d-widget-model-hibiki"><a href="#live2d-widget-model-hibiki" class="headerlink" title="live2d-widget-model-hibiki"></a>live2d-widget-model-hibiki</h2><p><a href="https://p.pstatp.com/origin/ff3000005d80a386f62a" target="_blank" rel="noopener"><img src="/" class="lazyload" data-src="https://p.pstatp.com/origin/ff3000005d80a386f62a"  alt="img"></a></p><h2 id="live2d-widget-model-miku"><a href="#live2d-widget-model-miku" class="headerlink" title="live2d-widget-model-miku"></a>live2d-widget-model-miku</h2><p><a href="https://p.pstatp.com/origin/ff3d000080e58996f61a" target="_blank" rel="noopener"><img src="/" class="lazyload" data-src="https://p.pstatp.com/origin/ff3d000080e58996f61a"  alt="img"></a></p><h2 id="live2d-widget-model-hijiki"><a href="#live2d-widget-model-hijiki" class="headerlink" title="live2d-widget-model-hijiki"></a>live2d-widget-model-hijiki</h2><p><a href="https://p.pstatp.com/origin/fe73000080c3e97be163" target="_blank" rel="noopener"><img src="/" class="lazyload" data-src="https://p.pstatp.com/origin/fe73000080c3e97be163"  alt="img"></a></p><h2 id="live2d-widget-model-tororo"><a href="#live2d-widget-model-tororo" class="headerlink" title="live2d-widget-model-tororo"></a>live2d-widget-model-tororo</h2><p><a href="https://p.pstatp.com/origin/fff700008b02b33ba68f" target="_blank" rel="noopener"><img src="/" class="lazyload" data-src="https://p.pstatp.com/origin/fff700008b02b33ba68f"  alt="img"></a></p><h2 id="live2d-widget-model-izumi"><a href="#live2d-widget-model-izumi" class="headerlink" title="live2d-widget-model-izumi"></a>live2d-widget-model-izumi</h2><p><a href="https://p.pstatp.com/origin/fe9500010f2eb3e81fce" target="_blank" rel="noopener"><img src="/" class="lazyload" data-src="https://p.pstatp.com/origin/fe9500010f2eb3e81fce"  alt="img"></a></p><h2 id="live2d-widget-model-nico"><a href="#live2d-widget-model-nico" class="headerlink" title="live2d-widget-model-nico"></a>live2d-widget-model-nico</h2><p><a href="https://p.pstatp.com/origin/ff4300012a0d2fd26fe0" target="_blank" rel="noopener"><img src="/" class="lazyload" data-src="https://p.pstatp.com/origin/ff4300012a0d2fd26fe0"  alt="img"></a></p><h2 id="live2d-widget-model-nietzsche"><a href="#live2d-widget-model-nietzsche" class="headerlink" title="live2d-widget-model-nietzsche"></a>live2d-widget-model-nietzsche</h2><p><a href="https://p.pstatp.com/origin/dc0e0003fe591e30be22" target="_blank" rel="noopener"><img src="/" class="lazyload" data-src="https://p.pstatp.com/origin/dc0e0003fe591e30be22"  alt="img"></a></p><h2 id="live2d-widget-model-ni-j"><a href="#live2d-widget-model-ni-j" class="headerlink" title="live2d-widget-model-ni-j"></a>live2d-widget-model-ni-j</h2><p><a href="https://p.pstatp.com/origin/ff2a00009569ea4124da" target="_blank" rel="noopener"><img src="/" class="lazyload" data-src="https://p.pstatp.com/origin/ff2a00009569ea4124da"  alt="img"></a></p><h2 id="live2d-widget-model-nipsilon"><a href="#live2d-widget-model-nipsilon" class="headerlink" title="live2d-widget-model-nipsilon"></a>live2d-widget-model-nipsilon</h2><p><a href="https://p.pstatp.com/origin/ff9100008f839fa2b69f" target="_blank" rel="noopener"><img src="/" class="lazyload" data-src="https://p.pstatp.com/origin/ff9100008f839fa2b69f"  alt="img"></a></p><h2 id="live2d-widget-model-nito"><a href="#live2d-widget-model-nito" class="headerlink" title="live2d-widget-model-nito"></a>live2d-widget-model-nito</h2><p><a href="https://p.pstatp.com/origin/ff920000e23707f31859" target="_blank" rel="noopener"><img src="/" class="lazyload" data-src="https://p.pstatp.com/origin/ff920000e23707f31859"  alt="img"></a></p><h2 id="live2d-widget-model-shizuku"><a href="#live2d-widget-model-shizuku" class="headerlink" title="live2d-widget-model-shizuku"></a>live2d-widget-model-shizuku</h2><p><a href="https://p.pstatp.com/origin/ff2000007cf8512db0cb" target="_blank" rel="noopener"><img src="/" class="lazyload" data-src="https://p.pstatp.com/origin/ff2000007cf8512db0cb"  alt="img"></a></p><h2 id="live2d-widget-model-tsumiki"><a href="#live2d-widget-model-tsumiki" class="headerlink" title="live2d-widget-model-tsumiki"></a>live2d-widget-model-tsumiki</h2><p><a href="https://p.pstatp.com/origin/fffb00003b22de60ed66" target="_blank" rel="noopener"><img src="/" class="lazyload" data-src="https://p.pstatp.com/origin/fffb00003b22de60ed66"  alt="img"></a></p><h2 id="live2d-widget-model-unitychan"><a href="#live2d-widget-model-unitychan" class="headerlink" title="live2d-widget-model-unitychan"></a>live2d-widget-model-unitychan</h2><p><a href="https://p.pstatp.com/origin/dc10000289606c5ec97d" target="_blank" rel="noopener"><img src="/" class="lazyload" data-src="https://p.pstatp.com/origin/dc10000289606c5ec97d"  alt="img"></a></p><h2 id="live2d-widget-model-gf"><a href="#live2d-widget-model-gf" class="headerlink" title="live2d-widget-model-gf"></a>live2d-widget-model-gf</h2><p><a href="https://p.pstatp.com/origin/10000000039a141fd6695" target="_blank" rel="noopener"><img src="/" class="lazyload" data-src="https://p.pstatp.com/origin/10000000039a141fd6695"  alt="img"></a></p><h2 id="live2d-widget-model-wanko"><a href="#live2d-widget-model-wanko" class="headerlink" title="live2d-widget-model-wanko"></a>live2d-widget-model-wanko</h2><p><a href="https://p.pstatp.com/origin/fead00009151e943e78c" target="_blank" rel="noopener"><img src="/" class="lazyload" data-src="https://p.pstatp.com/origin/fead00009151e943e78c"  alt="img"></a></p><h2 id="live2d-widget-model-z16"><a href="#live2d-widget-model-z16" class="headerlink" title="live2d-widget-model-z16"></a>live2d-widget-model-z16</h2><p>[<img src="/" class="lazyload" data-src="https://p.pstatp.com/origin/fe3200011fc5d922916c"  alt="img"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="Hexoæ•™ç¨‹" scheme="http://linuxwf.com/categories/Hexo%E6%95%99%E7%A8%8B/"/>
    
    
      <category term="hexo" scheme="http://linuxwf.com/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>Hexoåšå®¢æ­å»º</title>
    <link href="http://linuxwf.com/2020/04/09/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
    <id>http://linuxwf.com/2020/04/09/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/</id>
    <published>2020-04-09T02:26:00.000Z</published>
    <updated>2020-04-09T02:51:34.345Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="ä»€ä¹ˆæ˜¯-Hexoï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯-Hexoï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ Hexoï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ Hexoï¼Ÿ</h1><p>Hexo æ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„åšå®¢æ¡†æ¶ã€‚Hexo ä½¿ç”¨Markdownï¼ˆæˆ–å…¶ä»–æ¸²æŸ“å¼•æ“ï¼‰è§£ææ–‡ç« ï¼Œåœ¨å‡ ç§’å†…ï¼Œå³å¯åˆ©ç”¨é“ä¸½çš„ä¸»é¢˜ç”Ÿæˆé™æ€ç½‘é¡µã€‚</p><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="noopener">https://hexo.io/zh-cn/docs/</a></p><h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><p>å®‰è£… Hexo ç›¸å½“ç®€å•ï¼Œåªéœ€è¦å…ˆå®‰è£…ä¸‹åˆ—åº”ç”¨ç¨‹åºå³å¯ï¼š</p><ul><li><p>Node.js (Node.js ç‰ˆæœ¬éœ€ä¸ä½äº 8.10ï¼Œå»ºè®®ä½¿ç”¨ Node.js 10.0 åŠä»¥ä¸Šç‰ˆæœ¬)</p></li><li><p>Git</p></li></ul><p>å¦‚æœæ‚¨çš„ç”µè„‘ä¸­å·²ç»å®‰è£…ä¸Šè¿°å¿…å¤‡ç¨‹åºï¼Œé‚£ä¹ˆæ­å–œæ‚¨ï¼ä½ å¯ä»¥ç›´æ¥å‰å¾€ å®‰è£… Hexo<br>æ­¥éª¤ã€‚å¦‚æœæ‚¨çš„ç”µè„‘ä¸­å°šæœªå®‰è£…æ‰€éœ€è¦çš„ç¨‹åºï¼Œè¯·æ ¹æ®ä»¥ä¸‹å®‰è£…æŒ‡ç¤ºå®Œæˆå®‰è£…ã€‚</p><h2 id="å®‰è£…-Git"><a href="#å®‰è£…-Git" class="headerlink" title="å®‰è£… Git"></a>å®‰è£… Git</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo yum -y install git </span><br><span class="line">git config --global user.name &quot;ä½ çš„è´¦å·&quot; </span><br><span class="line">git config --global user.email &quot;ä½ çš„é‚®ç®±&quot;</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…-Node-js"><a href="#å®‰è£…-Node-js" class="headerlink" title="å®‰è£… Node.js"></a>å®‰è£… Node.js</h2><p>#ä¸‹è½½åœ°å€ <a href="https://nodejs.org/en/download/" target="_blank" rel="noopener">https://nodejs.org/en/download/</a> </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">wget https:&#x2F;&#x2F;nodejs.org&#x2F;dist&#x2F;v12.16.1&#x2F;node-v12.16.1-linux-x64.tar.xz </span><br><span class="line"></span><br><span class="line">#è§£å‹ tar xf</span><br><span class="line">node-v12.16.1-linux-x64.tar.xz -C &#x2F;usr&#x2F;local&#x2F; </span><br><span class="line"></span><br><span class="line">#é…ç½®è½¯è¿æ¥ </span><br><span class="line">cd &#x2F;usr&#x2F;local&#x2F; </span><br><span class="line">ln -s node-v12.16.1-linux-x64 node </span><br><span class="line">echo &#39;export PATH&#x3D;&#x2F;usr&#x2F;local&#x2F;node&#x2F;bin:\$PATH&#39; &gt;&gt; &#x2F;etc&#x2F;profile </span><br><span class="line">source &#x2F;etc&#x2F;profile </span><br><span class="line"></span><br><span class="line">#æŸ¥çœ‹ç‰ˆæœ¬ </span><br><span class="line">node -v </span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…-Hexo"><a href="#å®‰è£…-Hexo" class="headerlink" title="å®‰è£… Hexo"></a>å®‰è£… Hexo</h2><p>æ‰€æœ‰å¿…å¤‡çš„åº”ç”¨ç¨‹åºå®‰è£…å®Œæˆåï¼Œå³å¯ä½¿ç”¨ npm å®‰è£… Hexo</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br><span class="line"></span><br><span class="line">hexo -v</span><br></pre></td></tr></table></figure><p><strong>è¿›é˜¶å®‰è£…å’Œä½¿ç”¨</strong></p><p>å¯¹äºç†Ÿæ‚‰ npm çš„è¿›é˜¶ç”¨æˆ·ï¼Œå¯ä»¥ä»…å±€éƒ¨å®‰è£… hexo åŒ…ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo</span><br></pre></td></tr></table></figure><p><strong>å®‰è£…ä»¥åï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä¸¤ç§æ–¹å¼æ‰§è¡Œ Hexoï¼š</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1.npx hexo &lt;command&gt;</span><br><span class="line"></span><br><span class="line">2.å°† Hexo æ‰€åœ¨çš„ç›®å½•ä¸‹çš„ node_modules æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¹‹ä¸­å³å¯ç›´æ¥ä½¿ç”¨ hexo &lt;command&gt;ï¼š</span><br><span class="line">echo &#39;PATH&#x3D;&quot;$PATH:.&#x2F;node_modules&#x2F;.bin&quot;&#39; &gt;&gt; ~&#x2F;.profile</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œhexoæ¡†æ¶ï¼Œå°±å¯ä»¥å¼€å§‹åˆå§‹åŒ–hexoäº†ï¼Œé€‰æ‹©ä¸€ä¸ªç›®å½•å­˜æ”¾ä½ çš„åšå®¢æ–‡ä»¶ï¼Œåˆ‡æ¢åˆ°ç›®å½•ã€‚æ¥ç€ï¼Œè¾“å…¥</p><p>hexo init blog  è¿›è¡Œåˆå§‹åŒ–hexo</p><h2 id="åˆå§‹åŒ–Hexo"><a href="#åˆå§‹åŒ–Hexo" class="headerlink" title="åˆå§‹åŒ–Hexo"></a>åˆå§‹åŒ–Hexo</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init my_blog</span><br></pre></td></tr></table></figure><p><img src="/" class="lazyload" data-src="https://note.youdao.com/yws/public/resource/0a4c7f6e5952926d5443d353067af10b/918E35C5FCE94037996AB964900E86DF?ynotemdtimestamp=1586399922554"  alt="clipboard.png"></p><h2 id="å»ºç«™"><a href="#å»ºç«™" class="headerlink" title="å»ºç«™"></a>å»ºç«™</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd &#x2F;data&#x2F;my_blog</span><br><span class="line"></span><br><span class="line">npm install</span><br></pre></td></tr></table></figure><p>æ–°å»ºå®Œæˆåï¼ŒæŒ‡å®šæ–‡ä»¶å¤¹çš„ç›®å½•å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ _config.yml</span><br><span class="line">â”œâ”€â”€ package.json</span><br><span class="line">â”œâ”€â”€ scaffolds </span><br><span class="line">â”œâ”€â”€ source</span><br><span class="line">|   â”œâ”€â”€ _drafts</span><br><span class="line">|   â””â”€â”€ _posts</span><br><span class="line">â””â”€â”€ themes</span><br></pre></td></tr></table></figure><table><thead><tr><th>æ–‡ä»¶/æ–‡ä»¶å¤¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>_config.yml</td><td>é…ç½®æ–‡ä»¶</td></tr><tr><td>public</td><td>ç”Ÿæˆçš„é™æ€æ–‡ä»¶ï¼Œè¿™ä¸ªç›®å½•æœ€ç»ˆä¼šå‘å¸ƒåˆ°æœåŠ¡å™¨</td></tr><tr><td>scaffolds</td><td>ä¸€äº›é€šç”¨çš„markdownæ¨¡æ¿</td></tr><tr><td>source</td><td>ç¼–å†™çš„markdownæ–‡ä»¶ï¼Œ_draftsè‰ç¨¿æ–‡ä»¶ï¼Œ_postså‘å¸ƒçš„æ–‡ç« </td></tr><tr><td>themes</td><td>ä¸»é¢˜æ–‡ä»¶å¤¹ã€‚Hexo ä¼šæ ¹æ®ä¸»é¢˜æ¥ç”Ÿæˆé™æ€é¡µé¢ã€‚</td></tr></tbody></table><p>Hexoä¼šæ ¹æ®ä¸»é¢˜æ¥ç”Ÿæˆé™æ€é¡µé¢ã€‚</p><p>æ¸…é™¤ç¼“å­˜</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br></pre></td></tr></table></figure><p>ç”Ÿæˆé™æ€æ–‡ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br></pre></td></tr></table></figure><p>åå°è¿è¡Œhexo</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">npm install -g pm2 </span><br><span class="line"></span><br><span class="line">vi run.js</span><br><span class="line">&#x2F;&#x2F;run.js</span><br><span class="line">const &#123; exec &#125; &#x3D; require(&#39;child_process&#39;)</span><br><span class="line">exec(&#39;hexo server&#39;,(error, stdout, stderr) &#x3D;&gt; &#123;</span><br><span class="line">  if(error)&#123;</span><br><span class="line">    console.log(&#96;exec error: $&#123;error&#125;&#96;)</span><br><span class="line">    return</span><br><span class="line">  &#125;</span><br><span class="line">  console.log(&#96;stdout: $&#123;stdout&#125;&#96;);</span><br><span class="line">  console.log(&#96;stderr: $&#123;stderr&#125;&#96;);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">#è¿›å…¥åšå®¢æ ¹ç›®å½•,è¿è¡Œè„šæœ¬</span><br><span class="line">pm2 start run.js</span><br></pre></td></tr></table></figure><h1 id="è®¿é—®hexo"><a href="#è®¿é—®hexo" class="headerlink" title="è®¿é—®hexo"></a>è®¿é—®hexo</h1><p><a href="http://localhost:4000/" target="_blank" rel="noopener">http://localhost:4000/</a></p><p><img src="/" class="lazyload" data-src="https://note.youdao.com/yws/public/resource/0a4c7f6e5952926d5443d353067af10b/27E3E612F4E2450884AF96DE903886B2?ynotemdtimestamp=1586399922554"  alt="clipboard.png"></p><h1 id="GitHubçš„é…ç½®ä¸è®¿é—®"><a href="#GitHubçš„é…ç½®ä¸è®¿é—®" class="headerlink" title="GitHubçš„é…ç½®ä¸è®¿é—®"></a>GitHubçš„é…ç½®ä¸è®¿é—®</h1><p>ä¸Šé¢å·²ç»æ­å»ºå®Œæˆäº†åŸºç¡€ç¯å¢ƒï¼Œä¸‹é¢æˆ‘ä»¬æƒ³è¦åœ¨äº’è”ç½‘ä¸Šå¯ä»¥éšæ„è®¿é—®ä¸ªäººçš„åšå®¢ï¼Œä½†æ˜¯æˆ‘ä»¬å½“ä¸‹æ²¡æœ‰è‡ªå·±çš„æœåŠ¡å™¨å’Œç›¸åº”çš„å¤–ç½‘IPåœ°å€ï¼Œå¯¹æ­¤ï¼Œè¿™é‡Œæˆ‘ä»¬é‡‡ç”¨GitHubçš„æ–¹å¼è¿›è¡Œå‘å¸ƒè‡ªå·±çš„ä¸ªäººåšå®¢ã€‚</p><p>å‰ææ¡ä»¶è‡ªå·±éœ€è¦å»<a href="https://github.com/å®˜ç½‘è¿›è¡Œæ³¨å†Œä¸€ä¸ªè´¦å·" target="_blank" rel="noopener">https://github.com/å®˜ç½‘è¿›è¡Œæ³¨å†Œä¸€ä¸ªè´¦å·</a></p><p>åœ¨è¯¥è´¦å·ä¸‹åˆ›å»ºä¸€ä¸ªé¡¹ç›®ï¼Œè¯¥é¡¹ç›®åç§°å‘½åæ–¹å¼è¦éµå¾ªä»¥ä¸‹æ ¼å¼ï¼š</p><p>hexoçš„ä¸ªäººåšå®¢åç§°ï¼ˆä¹Ÿæ˜¯è‡ªå·±ä»¥åè®¿é—®ä½¿ç”¨çš„åŸŸåï¼‰.github.io</p><p><img src="/" class="lazyload" data-src="https://note.youdao.com/yws/public/resource/0a4c7f6e5952926d5443d353067af10b/75D7472C2C9D4F678633E59CD843D1F7?ynotemdtimestamp=1586399922554"  alt="clipboard.png"></p><p>åˆ‡æ¢åˆ°è‡ªå·±çš„æœåŠ¡å™¨ä¸­ï¼Œåœ¨~ç›®å½•ä¸‹æ‰§è¡Œ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;ä½ çš„githubä¸­è®¾ç½®çš„é‚®ç®±&quot;</span><br></pre></td></tr></table></figure><p>å»ºè®®åœ¨è®¾ç½®sshçš„ç§˜é’¥æ—¶è®¾ç½®ä¸€ä¸ªè¯ä¹¦å¯†ç </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat .ssh&#x2F;id_rsa.pub</span><br></pre></td></tr></table></figure><p>å°†ä¸Šé¢æŸ¥çœ‹çš„æ‰€æœ‰ä¿¡æ¯å¤åˆ¶ä¸€ä»½æ”¾åˆ°GitHubä¸Šé¢</p><p><img src="/" class="lazyload" data-src="https://note.youdao.com/yws/public/resource/0a4c7f6e5952926d5443d353067af10b/EBE5D437E63D4D8DA789D9A84F46E4D1?ynotemdtimestamp=1586399922554"  alt="clipboard.png"></p><p>åœ¨æœåŠ¡å™¨ä¸­è¿›è¡Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œæµ‹è¯•sshç›´è¿æ˜¯å¦å¯ç”¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure><p>è¿™é‡Œåœ¨æ‰§è¡Œæ—¶ä¼šè®©è¾“å…¥ä¸€ä¸ªå¯†ç ï¼Œè¿™ä¸ªå¯†ç å°±æ˜¯ä¸Šé¢è¯ä¹¦è®¾ç½®çš„å¯†ç ï¼Œå¦‚æœä¸Šé¢æ²¡æœ‰è®¾ç½®å¯†ç ï¼Œåˆ™è¿™é‡Œç›´æ¥å…å¯†è¿æ¥ã€‚</p><p>è¿æ¥æˆåŠŸä¼šæ‰“å°ä¸€å¥è¯ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Hi cnHuaShao! You&#39;ve successfully authenticated, but GitHub does not provide</span><br><span class="line">shell access.</span><br></pre></td></tr></table></figure><h1 id="hexoçš„gitåŸºç¡€ç®¡ç†å·¥å…·"><a href="#hexoçš„gitåŸºç¡€ç®¡ç†å·¥å…·" class="headerlink" title="hexoçš„gitåŸºç¡€ç®¡ç†å·¥å…·"></a>hexoçš„gitåŸºç¡€ç®¡ç†å·¥å…·</h1><p>#å®‰è£…åŸºç¡€çš„ç®¡ç†è½¯ä»¶ </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd &#x2F;data&#x2F;my_blog </span><br><span class="line"></span><br><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><h1 id="è®¾ç½®hexoé¡¹ç›®æäº¤ä½ç½®"><a href="#è®¾ç½®hexoé¡¹ç›®æäº¤ä½ç½®" class="headerlink" title="è®¾ç½®hexoé¡¹ç›®æäº¤ä½ç½®"></a>è®¾ç½®hexoé¡¹ç›®æäº¤ä½ç½®</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">cd ~&#x2F;ä½ çš„hexoé¡¹ç›®å</span><br><span class="line">vim _config.yml</span><br><span class="line">#ç¿»åˆ°æœ€åº•éƒ¨ï¼Œè®¾ç½®ä»¥ä¸‹å†…å®¹,:wqä¿å­˜å¹¶é€€å‡º</span><br><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: https:&#x2F;&#x2F;github.com&#x2F;ä½ çš„GitHubçš„åç§°&#x2F;ä¸Šé¢è®¾ç½®çš„åç§°.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure><p><strong>æ³¨ï¼šåœ¨æäº¤çš„è¿‡ç¨‹ä¸­ä¼šè®©è¾“å…¥GitHubçš„è´¦å·å¯†ç ï¼Œå¦‚æœæƒ³ä¸è¾“å…¥è´¦å·å¯†ç ï¼Œåˆ™æŠŠrepoæ›´æ”¹ä¸ºsshåœ°å€</strong></p><h1 id="æ¸…ç†ç¼“å­˜ï¼Œé‡æ–°ç”Ÿæˆé™æ€æ–‡ä»¶å¹¶éƒ¨ç½²"><a href="#æ¸…ç†ç¼“å­˜ï¼Œé‡æ–°ç”Ÿæˆé™æ€æ–‡ä»¶å¹¶éƒ¨ç½²" class="headerlink" title="æ¸…ç†ç¼“å­˜ï¼Œé‡æ–°ç”Ÿæˆé™æ€æ–‡ä»¶å¹¶éƒ¨ç½²"></a>æ¸…ç†ç¼“å­˜ï¼Œé‡æ–°ç”Ÿæˆé™æ€æ–‡ä»¶å¹¶éƒ¨ç½²</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo generate</span><br><span class="line">hexo deploy</span><br></pre></td></tr></table></figure><h1 id="å®‰è£…hexo-adminåå°"><a href="#å®‰è£…hexo-adminåå°" class="headerlink" title="å®‰è£…hexo-adminåå°"></a>å®‰è£…hexo-adminåå°</h1><p>é¦–å…ˆè¿›å…¥hexoåˆ›å»ºçš„åšå®¢é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹ï¼Œæ‰§è¡Œ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-admin</span><br></pre></td></tr></table></figure><p>macå¯èƒ½éœ€è¦rootæƒé™ï¼Œå‰é¢åŠ ä¸ªsudoå°±å¯ä»¥äº†ã€‚å¦‚æœæŠ¥é”™ç¼ºå°‘ç»„ä»¶ï¼Œåˆ™ç¼ºå°‘ä»€ä¹ˆå®‰è£…ä»€ä¹ˆï¼Œnpm install åŠ ç¼ºå°‘çš„ç»„ä»¶ã€‚</p><p>è¿è¡Œä¸‹åˆ—å‘½ä»¤å¯åŠ¨hexo-admin ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo server -d</span><br></pre></td></tr></table></figure><p>æ‰“å¼€ <a href="http://localhost:4000/admin/" target="_blank" rel="noopener">http://localhost:4000/admin/</a> å°±å¯ä»¥è®¿é—®åˆ°hexo-adminç®¡ç†é¡µé¢äº†ã€‚</p><p>å¯†ç ä¿æŠ¤</p><p>æ‰“å¼€settingï¼Œç‚¹å‡»Setup authentification<br>hereè¾“å…¥ç”¨æˆ·åï¼Œå¯†ç ï¼Œå¯†é’¥ï¼Œä¸‹é¢ä¼šè‡ªåŠ¨ç”Ÿæˆé…ç½®æ–‡ä»¶ï¼Œå¤åˆ¶åŠ åœ¨hexoæ ¹ç›®å½•ä¸‹çš„_config.ymlä¸­ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">admin:</span><br><span class="line">  username: xxx</span><br><span class="line">  password_hash: xxx</span><br><span class="line">  secret: xxx</span><br><span class="line">  deployCommand: .&#x2F;admin_script&#x2F;hexo-d.sh</span><br></pre></td></tr></table></figure><p>é‡å¯hexoï¼Œå°±å¯ä»¥çœ‹åˆ°ç™»å½•é¡µé¢äº†</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="Hexoæ•™ç¨‹" scheme="http://linuxwf.com/categories/Hexo%E6%95%99%E7%A8%8B/"/>
    
    
      <category term="hexo" scheme="http://linuxwf.com/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>hexo-theme-butterfly å®‰è£æ–‡æª”ï¼ˆä¸‰ï¼‰ä¸»é¡Œé…ç½®</title>
    <link href="http://linuxwf.com/2020/04/08/exo-theme-butterfly-%E5%AE%89%E8%A3%9D%E6%96%87%E6%AA%94%EF%BC%88%E4%B8%89%EF%BC%89%E4%B8%BB%E9%A1%8C%E9%85%8D%E7%BD%AE/"/>
    <id>http://linuxwf.com/2020/04/08/exo-theme-butterfly-%E5%AE%89%E8%A3%9D%E6%96%87%E6%AA%94%EF%BC%88%E4%B8%89%EF%BC%89%E4%B8%BB%E9%A1%8C%E9%85%8D%E7%BD%AE/</id>
    <published>2020-04-08T09:00:00.000Z</published>
    <updated>2020-04-08T13:18:14.448Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>æœ¬æ–‡ç« è½¬è½½è‡ª<a href="https://jerryc.me/posts/4aa8abbe/#%E4%BB%A3%E7%A2%BC%E9%AB%98%E4%BA%AE%E4%B8%BB%E9%A1%8C" target="_blank" rel="noopener">https://jerryc.me/posts/4aa8abbe/#%E4%BB%A3%E7%A2%BC%E9%AB%98%E4%BA%AE%E4%B8%BB%E9%A1%8C</a></p><div id="article-container"><div class="note danger"><p>æœ¬æ•™ç¨‹æ›´æ–°æ–¼ 2020 å¹´ 03 æœˆ 28 æ—¥<br>Butterfly å·²ç¶“å‡ç´šåˆ° V2.2.5<br>ç‚ºäº†æ–¹ä¾¿æˆ‘å›å¾©å¤§å®¶çš„å•é¡Œå’Œé›†ä¸­ç®¡ç†ï¼Œæ­¤æ–‡ç« çš„è©•è«–é—œé–‰ã€‚<br>å¦‚æœ‰è·Ÿä¸»é¡Œç›¸é—œçš„å•é¡Œï¼Œå¯ä»¥åœ¨ <a href="https://github.com/jerryc127/hexo-theme-butterfly/issues" target="_blank" rel="external nofollow noreferrer noopener">Github Issues</a> æˆ–è€…<a href="https://jerryc.me/messageboard/" target="_blank" rel="noopener">ç•™è¨€æ¿</a>ä¸Šåé¥‹ / è©¢å•</p></div><div class="note info"><p>é—œæ–¼ä¸»é¡Œè‡ªå®šç¾©çš„å•é¡Œï¼Œå»ºè­°ä»”ç´°è§€å¯Ÿä¸»é¡Œä»£ç¢¼çš„å¯«æ³•ï¼Œè‡ªå·±å‹•æ‰‹æ“ä½œï¼Œä¸æ‡‚çš„å¯ä»¥ <a href="https://www.google.com/" target="_blank" rel="external nofollow noreferrer noopener">Google</a>ï¼Œæˆ‘ä¸ä¸€å®šæœƒå›ç­”ä½ çš„å•é¡Œï¼Œè«‹è¦‹è«’ã€‚</p><p>å¾ˆå¤šäººå¸Œæœ›èƒ½æœ‰äº¤æµå¹³å°å¯ä»¥é€²è¡Œè¨è«–ã€‚å› æ­¤ï¼Œæˆ‘é–‹é€šäº†ä¸€å€‹ QQ ç¾¤ï¼Œæœ‰èˆˆè¶£çš„å¯ä»¥åŠ å…¥ã€‚<br><a href="https://jq.qq.com/?_wv=1027&amp;k=5W4yhdT" target="_blank" rel="external nofollow noreferrer noopener">QQ ç¾¤é€£æ¥</a></p></div><div class="note primary"><p>æ–‡æª”ç›®éŒ„<br><a href="https://jerryc.me/posts/21cfbf15/" target="_blank" rel="noopener">å¿«é€Ÿé–‹å§‹</a><br><a href="https://jerryc.me/posts/dc584b87/" target="_blank" rel="noopener">ä¸»é¡Œé é¢</a><br><a href="https://jerryc.me/posts/4aa8abbe/" target="_blank" rel="noopener">ä¸»é¡Œé…ç½®</a><br><a href="https://jerryc.me/posts/98d20436/" target="_blank" rel="noopener">ä¸»é¡Œå•ç­”ã€æ‰“è³åå–®</a><br><a href="https://jerryc.me/posts/198a4240/" target="_blank" rel="noopener">ä¸»é¡Œæ›´æ–°æ—¥èªŒ</a></p></div><h2 id="é…ç½®æ–‡ä»¶èª¬æ˜"><a href="#é…ç½®æ–‡ä»¶èª¬æ˜" class="headerlink" title="é…ç½®æ–‡ä»¶èª¬æ˜"></a>é…ç½®æ–‡ä»¶èª¬æ˜</h2><ul><li>ç«™é»é…ç½®æ–‡ä»¶<code>_config.yml</code> æ˜¯ hexo å·¥ä½œç›®éŒ„ä¸‹çš„ä¸»é…ç½®æ–‡ä»¶ (é‚„ä¸çŸ¥é“æ˜¯å“ªè£çš„ï¼Œè‡ªå·± google)</li><li><code>butterfly.yml</code> æ˜¯ <code>Butterfly</code> çš„é…ç½®æ–‡ä»¶ã€‚å®ƒéœ€è¦ä½ æ‰‹å‹•å°‡ä¸»é¡Œç›®éŒ„ä¸‹çš„<code>_config.yml</code> æ–‡ä»¶è¤‡è£½åˆ° hexo å·¥ä½œç›®éŒ„çš„ <code>source/_data/butterfly.yml</code> ä¸­ã€‚å¦‚æœæ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¾ä¸å­˜åœ¨ï¼Œéœ€è¦æ‰‹å‹•å‰µå»ºã€‚</li></ul><h2 id="èªè¨€"><a href="#èªè¨€" class="headerlink" title="èªè¨€"></a>èªè¨€</h2><p>ä¿®æ”¹ç«™é»é…ç½®æ–‡ä»¶ <code>_config.yml</code></p><p>é»˜èªèªè¨€æ˜¯ en</p><p>ä¸»é¡Œæ”¯æŒä¸‰ç¨®èªè¨€</p><ul><li>default(en)</li><li>zh-CN (ç°¡é«”ä¸­æ–‡)</li><li>zh-TW (ç¹é«”ä¸­æ–‡)</li></ul><h2 id="ç¶²ç«™è³‡æ–™"><a href="#ç¶²ç«™è³‡æ–™" class="headerlink" title="ç¶²ç«™è³‡æ–™"></a>ç¶²ç«™è³‡æ–™</h2><p>ä¿®æ”¹ç¶²ç«™å„ç¨®è³‡æ–™ï¼Œä¾‹å¦‚æ¨™é¡Œã€å‰¯æ¨™é¡Œå’Œéƒµç®±ç­‰å€‹äººè³‡æ–™ï¼Œè«‹ä¿®æ”¹åšå®¢æ ¹ç›®éŒ„çš„<code>_config.yml</code></p><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/20191120000444.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/20191120000444.png" class=" lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/20191120000444.png" alt=""></a></p><h2 id="å°èˆªèœå–®"><a href="#å°èˆªèœå–®" class="headerlink" title="å°èˆªèœå–®"></a>å°èˆªèœå–®</h2><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">Home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-home</span></span><br><span class="line">  <span class="attr">Archives:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-archive</span></span><br><span class="line">  <span class="attr">Tags:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-tags</span></span><br><span class="line">  <span class="attr">Categories:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-folder-open</span></span><br><span class="line">  <span class="attr">Link:</span> <span class="string">/link/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-link</span></span><br><span class="line">  <span class="attr">About:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-heart</span></span><br><span class="line">  <span class="string">List||fa</span> <span class="attr">fa-list:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">Music</span> <span class="string">||</span> <span class="string">/music/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-music</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">Movie</span> <span class="string">||</span> <span class="string">/movies/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-film</span></span><br></pre></td></tr></tbody></table></figure></div><blockquote><p>å¿…é ˆæ˜¯ <code>/xxx/</code>ï¼Œå¾Œé¢ <code>||</code> åˆ†é–‹ï¼Œç„¶å¾Œå¯«åœ–æ¨™åã€‚èœå–®åç¨±å¯è‡ªå·±ä¿®æ”¹</p><p>æ ¼å¼ï¼š</p><p>é¡¯ç¤ºåç¨±:</p><p>è·¯å¾‘ ||icon</p><p>sub-menu æ ¼å¼</p><p>åç¨± ||icon:</p><ul><li>åç¨± || è·¯å¾‘ || icon</li></ul></blockquote><p><strong>æ³¨æ„ï¼š</strong> å°èˆªçš„æ–‡å­—å¯è‡ªè¡Œæ›´æ”¹</p><p>ä¾‹å¦‚ï¼š</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">markdown</div></div><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  é¦–é : / || fa fa-home</span><br><span class="line">  æ™‚é–“è»¸: /archives/ || fa fa-archive</span><br><span class="line">  æ¨™ç±¤: /tags/ || fa fa-tags</span><br><span class="line">  åˆ†é¡: /categories/ || fa fa-folder-open</span><br><span class="line">  æ¸…å–®||fa fa-heartbeat:</span><br><span class="line"><span class="bullet">    - </span>éŸ³æ¨‚ || /music/ || fa fa-music</span><br><span class="line"><span class="bullet">    - </span>ç…§ç‰‡ || /Gallery/ || fa fa-picture-o</span><br><span class="line"><span class="bullet">    - </span>é›»å½± || /movies/ || fa fa-film</span><br><span class="line">  å‹éˆ: /link/ || fa fa-link</span><br><span class="line">  é—œæ–¼: /about/ || fa fa-heart</span><br></pre></td></tr></tbody></table></figure></div><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-menu.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-menu.png" class=" ls-is-cached lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-menu.png" alt=""></a></p><h2 id="ä»£ç¢¼"><a href="#ä»£ç¢¼" class="headerlink" title="ä»£ç¢¼"></a>ä»£ç¢¼</h2><h3 id="ä»£ç¢¼é«˜äº®ä¸»é¡Œ"><a href="#ä»£ç¢¼é«˜äº®ä¸»é¡Œ" class="headerlink" title="ä»£ç¢¼é«˜äº®ä¸»é¡Œ"></a>ä»£ç¢¼é«˜äº®ä¸»é¡Œ</h3><p><code>Butterfly</code> æ”¯æŒäº† <a href="https://github.com/equinusocio/material-theme" target="_blank" rel="external nofollow noreferrer noopener">Material Theme</a> å…¨éƒ¨ 5 ç¨®ä»£ç¢¼é«˜äº®æ¨£å¼ï¼š</p><ul><li>default</li><li>darker</li><li>pale night</li><li>light</li><li>ocean</li></ul><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">highlight_theme:</span> <span class="string">light</span></span><br></pre></td></tr></tbody></table></figure></div><blockquote><p>default</p></blockquote><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-default.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-default.png" class=" ls-is-cached lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-default.png" alt=""></a></p><blockquote><p>darker</p></blockquote><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-darker.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-darker.png" class=" ls-is-cached lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-darker.png" alt=""></a></p><blockquote><p>pale night</p></blockquote><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-pale-night.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-pale-night.png" class=" lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-pale-night.png" alt=""></a></p><blockquote><p>light</p></blockquote><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-light.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-light.png" class=" ls-is-cached lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-light.png" alt=""></a></p><blockquote><p>ocean</p></blockquote><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-highlight-ocean.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-highlight-ocean.png" class=" ls-is-cached lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-highlight-ocean.png" alt=""></a></p><h3 id="ä»£ç¢¼è¤‡è£½"><a href="#ä»£ç¢¼è¤‡è£½" class="headerlink" title="ä»£ç¢¼è¤‡è£½"></a>ä»£ç¢¼è¤‡è£½</h3><p>ä¸»é¡Œæ”¯æŒä»£ç¢¼è¤‡è£½åŠŸèƒ½</p><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">highlight_copy:</span> <span class="literal">true</span></span><br></pre></td></tr></tbody></table></figure></div><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-copy.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-copy.png" class=" lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-copy.png" alt=""></a></p><h3 id="ä»£ç¢¼æ¡†å±•é–‹-é—œé–‰"><a href="#ä»£ç¢¼æ¡†å±•é–‹-é—œé–‰" class="headerlink" title="ä»£ç¢¼æ¡†å±•é–‹/é—œé–‰"></a>ä»£ç¢¼æ¡†å±•é–‹ / é—œé–‰</h3><p>åœ¨é»˜èªæƒ…æ³ä¸‹ï¼Œä»£ç¢¼æ¡†è‡ªå‹•å±•é–‹ï¼Œå¯è¨­ç½®æ˜¯å¦æ‰€æœ‰ä»£ç¢¼æ¡†éƒ½é—œé–‰ç‹€æ…‹ï¼Œé»æ“Š <code>&gt;</code> å¯å±•é–‹ä»£ç¢¼</p><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">highlight_shrink:</span> <span class="literal">true</span> <span class="comment">#ä»£ç¢¼æ¡†ä¸å±•é–‹ï¼Œéœ€é»æ“Š '&gt;' æ‰“é–‹</span></span><br></pre></td></tr></tbody></table></figure></div><p><code>highlight_shrink: true</code></p><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-highlight-shrink-true.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-highlight-shrink-true.png" class=" ls-is-cached lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-highlight-shrink-true.png" alt=""></a></p><p><code>highlight_shrink: false</code></p><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-highlight-shrink-false.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-highlight-shrink-false.png" class=" ls-is-cached lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-highlight-shrink-false.png" alt=""></a></p><p><code>highlight_shrink: none</code></p><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-highlight-shirk-none.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-highlight-shirk-none.png" class=" ls-is-cached lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-highlight-shirk-none.png" alt=""></a></p><h3 id="ä»£ç¢¼æ›è¡Œ"><a href="#ä»£ç¢¼æ›è¡Œ" class="headerlink" title="ä»£ç¢¼æ›è¡Œ"></a>ä»£ç¢¼æ›è¡Œ</h3><p>åœ¨é»˜èªæƒ…æ³ä¸‹ï¼Œ<code>hexo-highlight</code> åœ¨ç·¨è­¯çš„æ™‚å€™ä¸æœƒå¯¦ç¾ä»£ç¢¼è‡ªå‹•æ›è¡Œã€‚å¦‚æœä½ ä¸å¸Œæœ›åœ¨ä»£ç¢¼å¡Šçš„å€åŸŸè£æœ‰æ©«å‘æ»¾å‹•æ¢çš„è©±ï¼Œé‚£éº¼ä½ å¯ä»¥è€ƒæ…®é–‹å•Ÿé€™å€‹åŠŸèƒ½ã€‚</p><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">code_word_wrap:</span> <span class="literal">true</span></span><br></pre></td></tr></tbody></table></figure></div><p>ç„¶å¾Œæ‰¾åˆ°ä½ ç«™é»çš„ Hexo é…ç½®æ–‡ä»¶<code>_config.yml</code>ï¼Œå°‡ <code>line_number</code> æ”¹æˆ <code>false</code>:</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">highlight:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">line_number:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">auto_detect:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">tab_replace:</span></span><br></pre></td></tr></tbody></table></figure></div><blockquote><p>è¨­ç½® <code>code_word_wrap</code> ä¹‹å‰:</p></blockquote><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-word-wrap-before.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-word-wrap-before.png" class=" lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-word-wrap-before.png" alt=""></a></p><blockquote><p> è¨­ç½® <code>code_word_wrap</code> ä¹‹å¾Œ:</p></blockquote><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-word-wrap-after.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-word-wrap-after.png" class=" lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-word-wrap-after.png" alt=""></a></p><h2 id="ç¤¾äº¤åœ–æ¨™"><a href="#ç¤¾äº¤åœ–æ¨™" class="headerlink" title="ç¤¾äº¤åœ–æ¨™"></a>ç¤¾äº¤åœ–æ¨™</h2><p>Butterfly æ”¯æŒ <a href="https://fontawesome.com/v4.7.0/" target="_blank" rel="external nofollow noreferrer noopener">font-awesome v4</a> å’Œ <a href="https://fontawesome.com/icons?from=io" target="_blank" rel="external nofollow noreferrer noopener">font-awesome v5</a>. å¦‚éœ€é–‹å•Ÿ <a href="https://fontawesome.com/icons?from=io" target="_blank" rel="external nofollow noreferrer noopener">font-awesome v5</a>, éœ€è¦åœ¨ <code>Butterfly.yml</code> ä¸Šé–‹å•Ÿ</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># fontawesomeåœ–æ¨™</span></span><br><span class="line"><span class="comment"># é»˜èªä½¿ç”¨çš„æ˜¯ fontawesome v4ç‰ˆæœ¬çš„åœ–æ¨™</span></span><br><span class="line"><span class="attr">fontawesome_v5:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></tbody></table></figure></div><p>ç„¡è«– V4 é‚„æ˜¯ V5, æ›¸å¯«æ ¼å¼éƒ½æ˜¯ä¸€æ¨£çš„<code>åœ–æ¨™åï¼šurl || æè¿°æ€§æ–‡å­—</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">social:</span></span><br><span class="line">  <span class="attr">fa fa-github:</span> <span class="string">https://github.com/jerryc127</span> <span class="string">||</span> <span class="string">Github</span></span><br><span class="line">  <span class="attr">fa fa-rss:</span> <span class="string">/atom.xml</span> <span class="string">||</span> <span class="string">RSSéˆæ¥</span></span><br></pre></td></tr></tbody></table></figure></div><p>åœ–æ¨™åå¯åœ¨é€™å°‹æ‰¾</p><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-fontawesome.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-fontawesome.png" alt=""></a></p><p>PC:</p><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-social-icon-pc.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-social-icon-pc.png" alt=""></a></p><p>Mobile:</p><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-socila-icon-mobile.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="1560603353743" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-socila-icon-mobile.png" alt="1560603353743"></a></p><h2 id="ä¸»é æ–‡ç« ç¯€é¸-è‡ªå‹•ç¯€é¸å’Œæ–‡ç« é description"><a href="#ä¸»é æ–‡ç« ç¯€é¸-è‡ªå‹•ç¯€é¸å’Œæ–‡ç« é description" class="headerlink" title="ä¸»é æ–‡ç« ç¯€é¸(è‡ªå‹•ç¯€é¸å’Œæ–‡ç« é description)"></a>ä¸»é æ–‡ç« ç¯€é¸ (è‡ªå‹•ç¯€é¸å’Œæ–‡ç« é  description)</h2><p>å› ç‚ºä¸»é¡Œ UI çš„é—œä¿‚ï¼Œ<code>ä¸»é æ–‡ç« ç¯€é¸</code>åªæ”¯æŒ<code>è‡ªå‹•ç¯€é¸</code>å’Œ<code>æ–‡ç« é description</code>ã€‚å„ªå…ˆé¸æ“‡<code>è‡ªå‹•ç¯€é¸</code>ã€‚</p><p>åœ¨ <code>butterfly.yml</code> è£å¯ä»¥é–‹å•Ÿ <code>auto_excerpt</code> çš„é¸é …ï¼Œä½ çš„æ–‡ç« å°‡æœƒåœ¨è‡ªå‹•æˆªå–éƒ¨åˆ†é¡¯ç¤ºåœ¨ä¸»é ã€‚ï¼ˆé»˜èªé¡¯ç¤º 150 å€‹å­—ï¼‰ã€‚</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">auto_excerpt:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">length:</span> <span class="number">150</span></span><br></pre></td></tr></tbody></table></figure></div><p>å¦‚æœæ²’æœ‰é–‹å•Ÿ<code>è‡ªå‹•ç¯€é¸</code>ï¼Œå‰‡æœƒé¡¯ç¤ºæ–‡ç« é  front-matter è£é¢è¨­ç½®çš„ <code>description</code>ã€‚</p><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-description.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-description.png" class=" ls-is-cached lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-description.png" alt=""></a></p><blockquote><p>æ³¨æ„ï¼šå¦‚æœé–‹å•Ÿäº†è‡ªå‹•ç¯€é¸åŠŸèƒ½ï¼Œä»£ç¢¼å¡Šçš„é¡¯ç¤ºå°‡æœ‰å¯èƒ½ä¸æ­£å¸¸ã€‚</p></blockquote><h2 id="é ‚éƒ¨åœ–"><a href="#é ‚éƒ¨åœ–" class="headerlink" title="é ‚éƒ¨åœ–"></a>é ‚éƒ¨åœ–</h2><p><code>é ‚éƒ¨åœ–</code>æœ‰ 2 ç¨®é…ç½®ï¼šå…·é«” url å’Œï¼ˆç•™ç©ºï¼Œtrue å’Œ falseï¼Œä¸‰å€‹æ•ˆæœä¸€æ¨£ï¼‰</p><h3 id="pageé "><a href="#pageé " class="headerlink" title="pageé "></a>page é </h3><h4 id="ç•¶å…·é«”urlæ™‚"><a href="#ç•¶å…·é«”urlæ™‚" class="headerlink" title="ç•¶å…·é«”urlæ™‚"></a>ç•¶å…·é«” url æ™‚</h4><p>ä¸»é çš„é ‚éƒ¨åœ–å¯ä»¥åœ¨ <code>Butterfly.yml</code> è¨­ç½® <code>index_img</code></p><p>archives é çš„é ‚éƒ¨åœ–å¯ä»¥åœ¨ <code>Butterfly.yml</code> è¨­ç½® <code>archive_img</code></p><p>å…¶ä»– <code>page</code> é çš„é ‚éƒ¨åœ–å¯ä»¥åœ¨å„è‡ªçš„ md é é¢è¨­ç½® <code>front-matter</code> ä¸­çš„ <code>top_img</code></p><blockquote><p>é é¢å¦‚æœæ²’æœ‰è¨­ç½®å„è‡ªçš„ <code>top_img</code>ï¼Œå‰‡æœƒé¡¯ç¤º <code>default_top_img</code> åœ–ç‰‡</p></blockquote><h4 id="ç•¶é ‚éƒ¨åœ–ç•™ç©ºï¼Œtrueå’Œfalse"><a href="#ç•¶é ‚éƒ¨åœ–ç•™ç©ºï¼Œtrueå’Œfalse" class="headerlink" title="ç•¶é ‚éƒ¨åœ–ç•™ç©ºï¼Œtrueå’Œfalse"></a>ç•¶é ‚éƒ¨åœ–ç•™ç©ºï¼Œtrue å’Œ false</h4><p>ä¸»é æœƒé¡¯ç¤ºç´”é¡è‰²çš„é ‚éƒ¨åœ–</p><p>å…¶ä»– page çš„é ‚éƒ¨åœ–æ²’æœ‰è¨­ç½®æ™‚ï¼Œä¹Ÿæœƒé¡¯ç¤ºç´”é¡è‰²çš„é ‚éƒ¨åœ–</p><h3 id="posté "><a href="#posté " class="headerlink" title="posté "></a>post é </h3><p><code>post</code> é çš„é ‚éƒ¨åœ–æœƒå„ªå…ˆé¡¯ç¤ºå„è‡ª <code>front-matter</code> ä¸­çš„ <code>top_img</code>, å¦‚æœæ²’æœ‰è¨­ç½®ï¼Œå‰‡æœƒç¸®ç•¥åœ–ï¼ˆå³å„è‡ª <code>front-matter</code> ä¸­çš„ <code>cover</code>)ï¼Œå¦‚æœæ²’æœ‰å‰‡æœƒé¡¯ç¤ºé¡¯ç¤º <code>default_top_img</code> åœ–ç‰‡</p><h2 id="æ–‡ç« ç›¸é—œé …"><a href="#æ–‡ç« ç›¸é—œé …" class="headerlink" title="æ–‡ç« ç›¸é—œé …"></a>æ–‡ç« ç›¸é—œé …</h2><p>é€™å€‹é¸é …æ˜¯ç”¨ä¾†é¡¯ç¤ºæ–‡ç« çš„ç›¸é—œä¿¡æ¯çš„ã€‚</p><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">post_meta:</span></span><br><span class="line">  <span class="attr">page:</span></span><br><span class="line">    <span class="attr">date_type:</span> <span class="string">both</span> <span class="comment"># created or updated or both ä¸»é æ–‡ç« æ—¥æœŸæ˜¯å‰µå»ºæ—¥æˆ–è€…æ›´æ–°æ—¥æˆ–éƒ½é¡¯ç¤º</span></span><br><span class="line">    <span class="attr">categories:</span> <span class="literal">true</span> <span class="comment"># true or false ä¸»é æ˜¯å¦é¡¯ç¤ºåˆ†é¡</span></span><br><span class="line">    <span class="attr">tags:</span> <span class="literal">true</span> <span class="comment"># true or false ä¸»é æ˜¯å¦é¡¯ç¤ºæ¨™ç±¤</span></span><br><span class="line">  <span class="attr">post:</span></span><br><span class="line">    <span class="attr">date_type:</span> <span class="string">both</span> <span class="comment"># created or updated or both æ–‡ç« é æ—¥æœŸæ˜¯å‰µå»ºæ—¥æˆ–è€…æ›´æ–°æ—¥æˆ–éƒ½é¡¯ç¤º</span></span><br><span class="line">    <span class="attr">categories:</span> <span class="literal">true</span> <span class="comment"># true or false æ–‡ç« é æ˜¯å¦é¡¯ç¤ºåˆ†é¡</span></span><br><span class="line">    <span class="attr">tags:</span> <span class="literal">true</span> <span class="comment"># true or false æ–‡ç« é æ˜¯å¦é¡¯ç¤ºæ¨™ç±¤</span></span><br></pre></td></tr></tbody></table></figure></div><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-page-meta.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-page-meta.png" class=" ls-is-cached lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-page-meta.png" alt=""></a></p><p>åœ¨æ–‡ç« é ‚éƒ¨çš„è³‡æ–™ï¼Œ</p><p><code>date_type</code>: å¯è¨­ç½®æ–‡ç« æ—¥æœŸé¡¯ç¤ºå‰µå»ºæ—¥æœŸ (<code>created</code>) æˆ–è€…æ›´æ–°æ—¥æœŸ (<code>updated</code>) æˆ–è€…å…©ç¨®éƒ½é¡¯ç¤º (<code>both</code>)</p><p><code>categories</code> æ˜¯å¦é¡¯ç¤ºåˆ†é¡</p><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-info.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-info.png" class=" ls-is-cached lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-info.png" alt=""></a></p><p><code>tags</code> æ˜¯å¦é¡¯ç¤ºæ¨™ç±¤</p><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-tag.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-tag.png" class=" ls-is-cached lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-tag.png" alt=""></a></p><h2 id="æ–‡ç« ç‰ˆæ¬Š"><a href="#æ–‡ç« ç‰ˆæ¬Š" class="headerlink" title="æ–‡ç« ç‰ˆæ¬Š"></a>æ–‡ç« ç‰ˆæ¬Š</h2><p>ç‚ºä½ çš„åšå®¢æ–‡ç« å±•ç¤ºæ–‡ç« ç‰ˆæ¬Šå’Œè¨±å¯å”è­°ã€‚</p><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">post_copyright:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">decode:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">license:</span> <span class="string">CC</span> <span class="string">BY-NC-SA</span> <span class="number">4.0</span></span><br><span class="line">  <span class="attr">license_url:</span> <span class="string">https://creativecommons.org/licenses/by-nc-sa/4.0/</span></span><br></pre></td></tr></tbody></table></figure></div><p>ç”±æ–¼ Hexo 4.1 é–‹å§‹ï¼Œé»˜èªå°ç¶²å€é€²è¡Œè§£ç¢¼ï¼Œä»¥è‡³æ–¼å¦‚æœæ˜¯ä¸­æ–‡ç¶²å€ï¼Œæœƒè¢«è§£ç¢¼ï¼Œå¯è¨­ç½® <code>decode: true</code> ä¾†é¡¯ç¤ºä¸­æ–‡ç¶²å€ã€‚</p><p>å¦‚æœæœ‰æ–‡ç« ï¼ˆä¾‹å¦‚ï¼šè½‰è¼‰æ–‡ç« ï¼‰ä¸éœ€è¦é¡¯ç¤ºç‰ˆæ¬Šï¼Œå¯ä»¥åœ¨æ–‡ç«  Front-matter å–®ç¨è¨­ç½®</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">copyright:</span> <span class="literal">false</span></span><br></pre></td></tr></tbody></table></figure></div><p><strong>ç‰ˆæ¬Šé¡¯ç¤ºæˆªåœ–</strong></p><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-copyright.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-copyright.png" class=" ls-is-cached lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-copyright.png" alt=""></a></p><h2 id="æ–‡ç« æ‰“è³"><a href="#æ–‡ç« æ‰“è³" class="headerlink" title="æ–‡ç« æ‰“è³"></a>æ–‡ç« æ‰“è³</h2><p>åœ¨ä½ æ¯ç¯‡æ–‡ç« çš„çµå°¾ï¼Œå¯ä»¥æ·»åŠ æ‰“è³æŒ‰éˆ•ã€‚ç›¸é—œäºŒç¶­ç¢¼å¯ä»¥è‡ªè¡Œé…ç½®</p><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">reward:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">QR_code:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">itemlist:</span></span><br><span class="line">        <span class="attr">img:</span> <span class="string">/img/wechat.jpg</span></span><br><span class="line">        <span class="attr">text:</span> <span class="string">å¾®ä¿¡</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">itemlist:</span></span><br><span class="line">        <span class="attr">img:</span> <span class="string">/img/alipay.jpg</span></span><br><span class="line">        <span class="attr">text:</span> <span class="string">æ”¯ä»˜å¯¶</span></span><br></pre></td></tr></tbody></table></figure></div><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-donate.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-donate.png" class=" ls-is-cached lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-donate.png" alt=""></a></p><h2 id="æ–‡ç« å°é¢"><a href="#æ–‡ç« å°é¢" class="headerlink" title="æ–‡ç« å°é¢"></a>æ–‡ç« å°é¢</h2><p>æ–‡ç« çš„ markdown æ–‡æª”ä¸Šï¼Œåœ¨ <code>Front-matter</code> æ·»åŠ  <code>cover</code>, ä¸¦å¡«ä¸Šè¦é¡¯ç¤ºçš„åœ–ç‰‡åœ°å€ã€‚<br>å¦‚æœä¸é…ç½® <code>cover</code>, å¯ä»¥è¨­ç½®é¡¯ç¤ºé»˜èªçš„ cover.</p><p>å¦‚æœä¸æƒ³åœ¨é¦–é é¡¯ç¤º cover, å¯ä»¥è¨­ç½®ç‚º <code>false</code></p><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">cover:</span></span><br><span class="line">  <span class="comment"># æ˜¯å¦é¡¯ç¤ºæ–‡ç« å°é¢</span></span><br><span class="line">  <span class="attr">index_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">aside_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">archives_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># å°é¢é¡¯ç¤ºçš„ä½ç½®</span></span><br><span class="line">  <span class="comment"># ä¸‰å€‹å€¼å¯é…ç½® left , right , both</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">both</span></span><br><span class="line">  <span class="comment"># ç•¶æ²’æœ‰è¨­ç½®coveræ™‚ï¼Œé»˜èªçš„å°é¢é¡¯ç¤º</span></span><br><span class="line">  <span class="attr">default_cover:</span></span><br></pre></td></tr></tbody></table></figure></div><p>ç•¶é…ç½®å¤šå¼µåœ–ç‰‡æ™‚ï¼Œæœƒéš¨æ©Ÿé¸æ“‡ä¸€å¼µä½œç‚º cover. æ­¤æ™‚å¯«æ³•æ‡‰ç‚º</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">default_cover:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg2.png</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg3.png</span></span><br></pre></td></tr></tbody></table></figure></div><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-cover.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-cover.png" class=" ls-is-cached lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-cover.png" alt=""></a><br><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-cover-show.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-cover-show.png" class=" lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-cover-show.png" alt=""></a></p><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-cover-false.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-cover-false.png" class=" ls-is-cached lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-cover-false.png" alt=""></a></p><p><code>left</code></p><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-cover-left.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-cover-left.png" class=" ls-is-cached lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-cover-left.png" alt=""></a></p><p><code>right</code></p><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-cover-right.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-cover-right.png" class=" ls-is-cached lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-cover-right.png" alt=""></a></p><p><code>both</code></p><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-cover-both.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-cover-both.png" class=" lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-cover-both.png" alt=""></a></p><h2 id="æ–‡ç« éš±è—"><a href="#æ–‡ç« éš±è—" class="headerlink" title="æ–‡ç« éš±è—"></a>æ–‡ç« éš±è—</h2><blockquote><p>2.1.0 ç‰ˆæœ¬ä»¥ä¸Šæ”¯æŒ</p></blockquote><p>åƒè€ƒ <em>printempw/hexo-hide-posts</em>ï¼Œå¦‚æœæƒ³è¦éš±è—æ–‡ç« ï¼Œå¯ä»¥åœ¨æ–‡ç« çš„ Front-matter æ·»åŠ </p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">Code</div></div><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hide: true</span><br></pre></td></tr></tbody></table></figure></div><h2 id="é ­åƒ"><a href="#é ­åƒ" class="headerlink" title="é ­åƒ"></a>é ­åƒ</h2><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">avatar:</span></span><br><span class="line">    <span class="attr">img:</span> <span class="string">/img/avatar.png</span></span><br><span class="line">    <span class="attr">effect:</span> <span class="literal">true</span> <span class="comment"># é ­åƒæœƒä¸€ç›´è½‰åœˆ</span></span><br></pre></td></tr></tbody></table></figure></div><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-avatar.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-avatar.png" class=" lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-avatar.png" alt=""></a></p><h2 id="TOC"><a href="#TOC" class="headerlink" title="TOC"></a>TOC</h2><p>åœ¨æ–‡ç« é ï¼Œæœƒæœ‰ä¸€å€‹ç›®éŒ„ï¼Œç”¨æ–¼é¡¯ç¤º TOCã€‚ æ‰‹æ©Ÿç«¯é»˜èªé¡¯ç¤ºæŒ‰éˆ•ã€‚</p><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">toc:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">number:</span> <span class="literal">true</span>   <span class="comment">#é¡¯ç¤ºç« ç¯€æ•¸å­—</span></span><br></pre></td></tr></tbody></table></figure></div><p><strong>PC</strong><br><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-toc-pc.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-toc-pc.png" class=" ls-is-cached lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-toc-pc.png" alt=""></a></p><p><strong>Mobile</strong><br><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-toc-mobile.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-toc-mobile.png" class=" ls-is-cached lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-toc-mobile.png" alt=""></a></p><h3 id="ç‚ºç‰¹å®šçš„æ–‡ç« é…ç½®æ˜¯å¦é¡¯ç¤ºTOCå’Œç‰¹å®šçš„ç›®éŒ„ç« ç¯€æ•¸å­—"><a href="#ç‚ºç‰¹å®šçš„æ–‡ç« é…ç½®æ˜¯å¦é¡¯ç¤ºTOCå’Œç‰¹å®šçš„ç›®éŒ„ç« ç¯€æ•¸å­—" class="headerlink" title="ç‚ºç‰¹å®šçš„æ–‡ç« é…ç½®æ˜¯å¦é¡¯ç¤ºTOCå’Œç‰¹å®šçš„ç›®éŒ„ç« ç¯€æ•¸å­—"></a>ç‚ºç‰¹å®šçš„æ–‡ç« é…ç½®æ˜¯å¦é¡¯ç¤º TOC å’Œç‰¹å®šçš„ç›®éŒ„ç« ç¯€æ•¸å­—</h3><p>åœ¨ä½ çš„æ–‡ç«  <code>md</code> æ–‡ä»¶çš„é ­éƒ¨ï¼ŒåŠ å…¥ <code>toc_number</code> å’Œ <code>toc</code> é …ï¼Œä¸¦é…ç½® <code>true</code> æˆ–è€… <code>false</code> å³å¯ã€‚</p><p><code>toc</code> æ˜¯å¦é¡¯ç¤ºæ–‡ç«  TOC</p><p><code>toc_number</code> æ˜¯å¦é¡¯ç¤ºç« ç¯€æ•¸</p><p>é…ç½®ä¹‹å¾Œä½ çš„ç‰¹å®šçš„æ–‡ç« å°‡æœƒæ“æœ‰å®ƒè‡ªå·±çš„ç›®éŒ„æ•¸å­—çš„é¡¯ç¤ºèˆ‡å¦ï¼Œè€Œä¸æœƒå—å…¨å±€çš„é…ç½®å½±éŸ¿ã€‚</p><blockquote><p><code>enable: true</code></p></blockquote><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-toc-true.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-toc-true.png" class=" ls-is-cached lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-toc-true.png" alt=""></a></p><blockquote><p><code>number: false</code></p></blockquote><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-toc-number-false.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-toc-number-false.png" class=" ls-is-cached lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-toc-number-false.png" alt=""></a></p><h3 id="è¨­ç½®æ˜¯å¦è‡ªå‹•æ‰“é–‹TOC"><a href="#è¨­ç½®æ˜¯å¦è‡ªå‹•æ‰“é–‹TOC" class="headerlink" title="è¨­ç½®æ˜¯å¦è‡ªå‹•æ‰“é–‹TOC"></a>è¨­ç½®æ˜¯å¦è‡ªå‹•æ‰“é–‹ TOC</h3><p>å¯é¸æ“‡é€²å…¥æ–‡ç« é é¢æ™‚ï¼Œæ˜¯å¦è‡ªå‹•æ‰“é–‹ sidebar é¡¯ç¤º TOC</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">auto_open_sidebar:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></tbody></table></figure></div><h2 id="ç›¸é—œæ–‡ç« "><a href="#ç›¸é—œæ–‡ç« " class="headerlink" title="ç›¸é—œæ–‡ç« "></a>ç›¸é—œæ–‡ç« </h2><p>ç›¸é—œæ–‡ç« æ¨è–¦çš„åŸç†æ˜¯æ ¹æ“šæ–‡ç«  tags çš„æ¯”é‡ä¾†æ¨è–¦</p><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">related_post:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">6</span> <span class="comment"># é¡¯ç¤ºæ¨è–¦æ–‡ç« æ•¸ç›®</span></span><br><span class="line">  <span class="attr">date_type:</span> <span class="string">created</span> <span class="comment"># or created or updated æ–‡ç« æ—¥æœŸé¡¯ç¤ºå‰µå»ºæ—¥æˆ–è€…æ›´æ–°æ—¥</span></span><br></pre></td></tr></tbody></table></figure></div><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-releatedpost.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-releatedpost.png" class=" ls-is-cached lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-releatedpost.png" alt=""></a></p><h2 id="åœ–ç‰‡æè¿°"><a href="#åœ–ç‰‡æè¿°" class="headerlink" title="åœ–ç‰‡æè¿°"></a>åœ–ç‰‡æè¿°</h2><p>å¯é–‹å•“åœ–ç‰‡ Figcaption æè¿°æ–‡å­—é¡¯ç¤º</p><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">photofigcaption:</span> <span class="literal">true</span></span><br></pre></td></tr></tbody></table></figure></div><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-photo-figcaption.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-photo-figcaption.png" class=" ls-is-cached lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-photo-figcaption.png" alt=""></a></p><h2 id="Footer-è¨­ç½®"><a href="#Footer-è¨­ç½®" class="headerlink" title="Footer è¨­ç½®"></a>Footer è¨­ç½®</h2><h3 id="åšå®¢å¹´ä»½"><a href="#åšå®¢å¹´ä»½" class="headerlink" title="åšå®¢å¹´ä»½"></a>åšå®¢å¹´ä»½</h3><p><code>since</code> æ˜¯ä¸€å€‹ä¾†å±•ç¤ºä½ ç«™é»èµ·å§‹æ™‚é–“çš„é¸é …ã€‚å®ƒä½æ–¼é é¢çš„æœ€åº•éƒ¨ã€‚</p><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">since:</span> <span class="number">2018</span></span><br></pre></td></tr></tbody></table></figure></div><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-since.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-since.png" class=" lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-since.png" alt=""></a></p><h3 id="é è…³è‡ªå®šç¾©æ–‡æœ¬"><a href="#é è…³è‡ªå®šç¾©æ–‡æœ¬" class="headerlink" title="é è…³è‡ªå®šç¾©æ–‡æœ¬"></a>é è…³è‡ªå®šç¾©æ–‡æœ¬</h3><p><code>footer_custom_text</code> æ˜¯ä¸€å€‹çµ¦ä½ ç”¨ä¾†åœ¨é è…³è‡ªå®šç¾©æ–‡æœ¬çš„é¸é …ã€‚é€šå¸¸ä½ å¯ä»¥åœ¨é€™è£å¯«è²æ˜æ–‡æœ¬ç­‰ã€‚æ”¯æŒ HTMLã€‚</p><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">footer_custom_text:</span> <span class="string">Hi,</span> <span class="string">welcome</span> <span class="string">to</span> <span class="string">my</span> <span class="string">&lt;a</span> <span class="string">href="https://jerryc.me/"&gt;blog&lt;/a&gt;!</span></span><br></pre></td></tr></tbody></table></figure></div><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-footer-text.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-footer-text.png" class=" ls-is-cached lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-footer-text.png" alt=""></a></p><h3 id="ICP"><a href="#ICP" class="headerlink" title="ICP"></a>ICP</h3><p>å°æ–¼éƒ¨åˆ†æœ‰å‚™æ¡ˆçš„åŸŸåï¼Œå¯ä»¥åœ¨ ICP é…ç½®é¡¯ç¤ºã€‚</p><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">ICP:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">url:</span> <span class="string">http://www.beian.miit.gov.cn/state/outPortal/loginPortal.action</span></span><br><span class="line">  <span class="attr">text:</span> <span class="string">ç²µICPå‚™xxxx</span></span><br><span class="line">  <span class="attr">icon:</span> <span class="string">/img/icp.png</span></span><br></pre></td></tr></tbody></table></figure></div><h2 id="å³ä¸‹è§’æŒ‰éˆ•"><a href="#å³ä¸‹è§’æŒ‰éˆ•" class="headerlink" title="å³ä¸‹è§’æŒ‰éˆ•"></a>å³ä¸‹è§’æŒ‰éˆ•</h2><h3 id="ç°¡ç¹è½‰æ›"><a href="#ç°¡ç¹è½‰æ›" class="headerlink" title="ç°¡ç¹è½‰æ›"></a>ç°¡ç¹è½‰æ›</h3><p>ç°¡é«”ç¹é«”äº’æ›</p><p>å³ä¸‹è§’æœƒæœ‰ç°¡ç¹è½‰æ›æŒ‰éˆ•ã€‚</p><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">translate:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># é»˜èªæŒ‰éˆ•é¡¯ç¤ºæ–‡å­—(ç¶²ç«™æ˜¯ç°¡é«”ï¼Œæ‡‰è¨­ç½®ç‚º'default: ç¹')</span></span><br><span class="line">  <span class="attr">default:</span> <span class="string">ç°¡</span></span><br><span class="line">  <span class="comment">#ç¶²ç«™é»˜èªèªè¨€ï¼Œ1: ç¹é«”ä¸­æ–‡, 2: ç°¡é«”ä¸­æ–‡</span></span><br><span class="line">  <span class="attr">defaultEncoding:</span> <span class="number">1</span></span><br><span class="line">  <span class="comment">#å»¶é²æ™‚é–“,è‹¥ä¸åœ¨å‰, è¦è¨­å®šå»¶é²ç¿»è­¯æ™‚é–“, å¦‚100è¡¨ç¤º100ms,é»˜èªç‚º0</span></span><br><span class="line">  <span class="attr">translateDelay:</span> <span class="number">0</span></span><br><span class="line">  <span class="comment">#åšå®¢ç¶²å€</span></span><br><span class="line">  <span class="attr">cookieDomain:</span> <span class="string">"https://jerryc.me/"</span></span><br><span class="line">  <span class="comment">#ç•¶æ–‡å­—æ˜¯ç°¡é«”æ™‚ï¼ŒæŒ‰éˆ•é¡¯ç¤ºçš„æ–‡å­—</span></span><br><span class="line">  <span class="attr">msgToTraditionalChinese:</span> <span class="string">"ç¹"</span></span><br><span class="line">  <span class="comment">#ç•¶æ–‡å­—æ˜¯ç¹é«”æ™‚ï¼ŒæŒ‰éˆ•é¡¯ç¤ºçš„æ–‡å­—</span></span><br><span class="line">  <span class="attr">msgToSimplifiedChinese:</span> <span class="string">"ç°¡"</span></span><br></pre></td></tr></tbody></table></figure></div><blockquote><p>ç°¡é«”</p></blockquote><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-simp.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-simp.png" class=" ls-is-cached lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-simp.png" alt=""></a></p><blockquote><p>ç¹é«”</p></blockquote><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-tranditional.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-tranditional.png" class=" ls-is-cached lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-tranditional.png" alt=""></a></p><h3 id="å¤œé–“æ¨¡å¼"><a href="#å¤œé–“æ¨¡å¼" class="headerlink" title="å¤œé–“æ¨¡å¼"></a>å¤œé–“æ¨¡å¼</h3><p>å³ä¸‹è§’æœƒæœ‰å¤œé–“æ¨¡å¼æŒ‰éˆ•</p><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># dark mode</span></span><br><span class="line"><span class="attr">darkmode:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># dark modeå’Œ light modeåˆ‡æ›æŒ‰éˆ•</span></span><br><span class="line">  <span class="attr">button:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># è‡ªå‹•åˆ‡æ› dark modeå’Œ light mode</span></span><br><span class="line">  <span class="comment"># autoChangeMode: 1  è·Ÿéš¨ç³»çµ±è€Œè®ŠåŒ–ï¼Œä¸æ”¯æŒçš„ç€è¦½å™¨/ç³»çµ±å°‡æŒ‰ç…§æ™‚é–“æ™šä¸Š6é»åˆ°æ—©ä¸Š6é»ä¹‹é–“åˆ‡æ›ç‚º dark mode</span></span><br><span class="line">  <span class="comment"># autoChangeMode: 2  åªæŒ‰ç…§æ™‚é–“æ™šä¸Š6é»åˆ°æ—©ä¸Š6é»ä¹‹é–“åˆ‡æ›ç‚º dark mode</span></span><br><span class="line">  <span class="comment"># autoChangeMode: false å–æ¶ˆè‡ªå‹•åˆ‡æ›</span></span><br><span class="line">  <span class="attr">autoChangeMode:</span> <span class="literal">false</span></span><br></pre></td></tr></tbody></table></figure></div><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-dark-mode.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-dark-mode.png" class=" ls-is-cached lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-dark-mode.png" alt=""></a></p><blockquote><p>V2.0.0 é–‹å§‹å¢åŠ ä¸€å€‹é¸é …ï¼Œå¯é–‹å•Ÿè‡ªå‹•åˆ‡æ› light mode å’Œ dark mode</p><p>autoChangeMode: 1 è·Ÿéš¨ç³»çµ±è€Œè®ŠåŒ–ï¼Œä¸æ”¯æŒçš„ç€è¦½å™¨ / ç³»çµ±å°‡æŒ‰ç…§æ™‚é–“æ™šä¸Š 6 é»åˆ°æ—©ä¸Š 6 é»ä¹‹é–“åˆ‡æ›ç‚º dark mode</p><p>autoChangeMode: 2 åªæŒ‰ç…§æ™‚é–“ æ™šä¸Š 6 é»åˆ°æ—©ä¸Š 6 é»ä¹‹é–“åˆ‡æ›ç‚º dark mode, å…¶é¤˜æ™‚é–“ç‚º light mode</p><p>autoChangeMode: false å–æ¶ˆè‡ªå‹•åˆ‡æ›</p></blockquote><h3 id="é–²è®€æ¨¡å¼"><a href="#é–²è®€æ¨¡å¼" class="headerlink" title="é–²è®€æ¨¡å¼"></a>é–²è®€æ¨¡å¼</h3><p>é–²è®€æ¨¡å¼ä¸‹æœƒå»æ‰é™¤æ–‡ç« å¤–çš„å…§å®¹ï¼Œé¿å…å¹²æ“¾é–²è®€ã€‚</p><p>åªæœƒå‡ºç¾åœ¨æ–‡ç« é é¢ï¼Œå³ä¸‹è§’æœƒæœ‰é–²è®€æ¨¡å¼æŒ‰éˆ•ã€‚</p><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">readmode:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></tbody></table></figure></div><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-read-mode.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-read-mode.png" class=" ls-is-cached lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-read-mode.png" alt=""></a></p><h2 id="å´é‚Šæ¬„è¨­ç½®"><a href="#å´é‚Šæ¬„è¨­ç½®" class="headerlink" title="å´é‚Šæ¬„è¨­ç½®"></a>å´é‚Šæ¬„è¨­ç½®</h2><h3 id="å´é‚Šæ’ç‰ˆ"><a href="#å´é‚Šæ’ç‰ˆ" class="headerlink" title="å´é‚Šæ’ç‰ˆ"></a>å´é‚Šæ’ç‰ˆ</h3><p>å¯è‡ªè¡Œæ±ºå®šå“ªå€‹é …ç›®éœ€è¦é¡¯ç¤ºï¼Œå¯æ±ºå®šä½ç½®ï¼Œä¹Ÿå¯ä»¥è¨­ç½®ä¸é¡¯ç¤ºå´é‚Šæ¬„ã€‚</p><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">aside:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">true</span> <span class="comment"># æ‰‹æ©Ÿé é¢ï¼ˆ é¡¯ç¤ºå¯¬åº¦ &lt; 768px ï¼‰æ˜¯å¦é¡¯ç¤ºasideå…§å®¹</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">right</span> <span class="comment"># left or right</span></span><br><span class="line">  <span class="attr">card_author:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">card_announcement:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">card_recent_post:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">card_categories:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">card_tags:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">card_archives:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">card_webinfo:</span> <span class="literal">true</span></span><br></pre></td></tr></tbody></table></figure></div><p><strong>left</strong><br><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-aside-left.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-aside-left.png" class=" ls-is-cached lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-aside-left.png" alt=""></a></p><p><strong>right</strong><br><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-aside-right.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-aside-right.png" class=" ls-is-cached lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-aside-right.png" alt=""></a></p><h3 id="è¨ªå•äººæ•¸-busuanzi-UV-å’Œ-PV"><a href="#è¨ªå•äººæ•¸-busuanzi-UV-å’Œ-PV" class="headerlink" title="è¨ªå•äººæ•¸ busuanzi (UV å’Œ PV)"></a>è¨ªå•äººæ•¸ busuanzi (UV å’Œ PV)</h3><p>è¨ªå• busuanzi çš„<a href="http://busuanzi.ibruce.info/" target="_blank" rel="external nofollow noreferrer noopener">å®˜æ–¹ç¶²ç«™</a>æŸ¥çœ‹æ›´å¤šçš„ä»‹ç´¹ã€‚</p><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">busuanzi:</span></span><br><span class="line">  <span class="attr">site_uv:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">site_pv:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">page_pv:</span> <span class="literal">true</span></span><br></pre></td></tr></tbody></table></figure></div><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-busuanzi-site-pv.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-busuanzi-site-pv.png" alt=""></a></p><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-pv.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-pv.png" alt=""></a></p><h3 id="é‹è¡Œæ™‚é–“"><a href="#é‹è¡Œæ™‚é–“" class="headerlink" title="é‹è¡Œæ™‚é–“"></a>é‹è¡Œæ™‚é–“</h3><p>ç¶²é å·²é‹è¡Œæ™‚é–“</p><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">runtimeshow:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">start_date:</span> <span class="number">6</span><span class="string">/7/2018</span> <span class="number">00</span><span class="string">:00:00</span>  </span><br><span class="line">  <span class="comment">##ç¶²é é–‹é€šæ™‚é–“</span></span><br><span class="line">  <span class="comment">#æ ¼å¼: æœˆ/æ—¥/å¹´ æ™‚é–“</span></span><br><span class="line">  <span class="comment">#ä¹Ÿå¯ä»¥å¯«æˆ å¹´/æœˆ/æ—¥ æ™‚é–“</span></span><br></pre></td></tr></tbody></table></figure></div><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-runtime.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-runtime.png" alt=""></a></p><h2 id="æ¨™ç±¤å¤–æ›ï¼ˆTag-Pluginsï¼‰"><a href="#æ¨™ç±¤å¤–æ›ï¼ˆTag-Pluginsï¼‰" class="headerlink" title="æ¨™ç±¤å¤–æ›ï¼ˆTag Pluginsï¼‰"></a>æ¨™ç±¤å¤–æ›ï¼ˆTag Pluginsï¼‰</h2><blockquote><p>æ¨™ç±¤å¤–æ›æ˜¯ Hexo ç¨æœ‰çš„åŠŸèƒ½ï¼Œä¸¦ä¸æ˜¯æ¨™æº–çš„ Markdown æ ¼å¼ã€‚</p><p>ä»¥ä¸‹çš„å¯«æ³•ï¼Œåªé©ç”¨æ–¼ Butterfly ä¸»é¡Œï¼Œç”¨åœ¨å…¶å®ƒä¸»é¡Œä¸Šä¸æœƒæœ‰æ•ˆæœï¼Œç”šè‡³å¯èƒ½æœƒå ±éŒ¯ã€‚ä½¿ç”¨å‰è«‹ç•™æ„</p></blockquote><h3 id="Note-Bootstrap-Callout"><a href="#Note-Bootstrap-Callout" class="headerlink" title="Note (Bootstrap Callout)"></a>Note (Bootstrap Callout)</h3><p>ç§»æ¤æ–¼ next ä¸»é¡Œ</p><h4 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h4><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">note:</span></span><br><span class="line">  <span class="comment"># Note tag style values:</span></span><br><span class="line">  <span class="comment">#  - simple    bs-callout old alert style. Default.</span></span><br><span class="line">  <span class="comment">#  - modern    bs-callout new (v2-v3) alert style.</span></span><br><span class="line">  <span class="comment">#  - flat      flat callout style with background, like on Mozilla or StackOverflow.</span></span><br><span class="line">  <span class="comment">#  - disabled  disable all CSS styles import of note tag.</span></span><br><span class="line">  <span class="attr">style:</span> <span class="string">simple</span></span><br><span class="line">  <span class="attr">icons:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">border_radius:</span> <span class="number">3</span></span><br><span class="line">  <span class="comment"># Offset lighter of background in % for modern and flat styles (modern: -12 | 12; flat: -18 | 6).</span></span><br><span class="line">  <span class="comment"># Offset also applied to label tag variables. This option can work with disabled note tag.</span></span><br><span class="line">  <span class="attr">light_bg_offset:</span> <span class="number">0</span></span><br></pre></td></tr></tbody></table></figure></div><h4 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h4><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">md</div></div><figure class="highlight md"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><div class="note [class] [no-icon]">            <p></span><br><span class="line">Any content (support inline tags too.io).</span><br><span class="line"></p>          </div></span><br><span class="line"></span><br><span class="line">[class]   : default | primary | success | info | warning | danger.</span><br><span class="line">[no-icon] : Disable icon in note.</span><br><span class="line"></span><br><span class="line">All parameters are optional.</span><br></pre></td></tr></tbody></table></figure></div><p>ä¾‹å¦‚ï¼š</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">markdown</div></div><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><div class="note default">            <p></span><br><span class="line">default æç¤ºå¡Šæ¨™ç±¤</span><br><span class="line"></p>          </div></span><br><span class="line"></span><br><span class="line"><div class="note primary no-icon">            <p></span><br><span class="line">primary æç¤ºå¡Šæ¨™ç±¤</span><br><span class="line"></p>          </div></span><br><span class="line"></span><br><span class="line"><div class="note success">            <p></span><br><span class="line">success æç¤ºå¡Šæ¨™ç±¤</span><br><span class="line"></p>          </div></span><br><span class="line"></span><br><span class="line"><div class="note info">            <p></span><br><span class="line">info æç¤ºå¡Šæ¨™ç±¤</span><br><span class="line"></p>          </div></span><br><span class="line"></span><br><span class="line"><div class="note warning">            <p></span><br><span class="line">warning æç¤ºå¡Šæ¨™ç±¤</span><br><span class="line"></p>          </div></span><br><span class="line"></span><br><span class="line"><div class="note danger">            <p></span><br><span class="line">danger æç¤ºå¡Šæ¨™ç±¤</span><br><span class="line"></p>          </div></span><br></pre></td></tr></tbody></table></figure></div><blockquote><p>style: simple</p></blockquote><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/20200105232825.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="20200105232825.png" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/20200105232825.png" alt="20200105232825.png"></a></p><blockquote><p>style: modern</p></blockquote><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/20200105233018.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="20200105233018.png" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/20200105233018.png" alt="20200105233018.png"></a></p><blockquote><p>style: flat</p></blockquote><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/20200105233145.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="20200105233145.png" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/20200105233145.png" alt="20200105233145.png"></a></p><blockquote><p>style: disabled</p></blockquote><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/20200105233310.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="20200105233310.png" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/20200105233310.png" alt="20200105233310.png"></a></p><h3 id="Galleryç›¸å†Šåœ–åº«"><a href="#Galleryç›¸å†Šåœ–åº«" class="headerlink" title="Galleryç›¸å†Šåœ–åº«"></a>Gallery ç›¸å†Šåœ–åº«</h3><blockquote><p>2.2.0 ä»¥ä¸Šæä¾›</p></blockquote><p>ä¸€å€‹åœ–åº«é›†åˆã€‚</p><p>å¯«æ³•</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">Code</div></div><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class="gallery-group-main"&gt;</span><br><span class="line">  <figure class="gallery-group">  <img class="gallery-group-img" src='/img-url'>  <figcaption>  <div class="gallery-group-name">name</div>  <p>description</p>  <a href='/link'></a>  </figcaption>  </figure>  </span><br><span class="line">  <figure class="gallery-group">  <img class="gallery-group-img" src='/img-url'>  <figcaption>  <div class="gallery-group-name">name</div>  <p>description</p>  <a href='/link'></a>  </figcaption>  </figure>  </span><br><span class="line">  <figure class="gallery-group">  <img class="gallery-group-img" src='/img-url'>  <figcaption>  <div class="gallery-group-name">name</div>  <p>description</p>  <a href='/link'></a>  </figcaption>  </figure>  </span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></tbody></table></figure></div><ul><li>nameï¼šåœ–åº«åå­—</li><li> descriptionï¼šåœ–åº«æè¿°</li><li> linkï¼šé€£æ¥åˆ°å°æ‡‰ç›¸å†Šçš„åœ°å€</li><li> img-urlï¼šåœ–åº«å°é¢çš„åœ°å€</li></ul><p>ä¾‹å¦‚ï¼š</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">Code</div></div><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class="gallery-group-main"&gt;</span><br><span class="line">  <figure class="gallery-group">  <img class="gallery-group-img" src='https://i.loli.net/2019/11/10/T7Mu8Aod3egmC4Q.png'>  <figcaption>  <div class="gallery-group-name">å£ç´™</div>  <p>æ”¶è—çš„ä¸€äº›å£ç´™</p>  <a href='/Gallery/wallpaper'></a>  </figcaption>  </figure>  </span><br><span class="line">  <figure class="gallery-group">  <img class="gallery-group-img" src='https://i.loli.net/2019/12/25/8t97aVlp4hgyBGu.jpg'>  <figcaption>  <div class="gallery-group-name">æ¼«å¨</div>  <p>é—œæ–¼æ¼«å¨çš„åœ–ç‰‡</p>  <a href='/Gallery/marvel'></a>  </figcaption>  </figure>  </span><br><span class="line">  <figure class="gallery-group">  <img class="gallery-group-img" src='https://i.loli.net/2019/12/25/hOqbQ3BIwa6KWpo.jpg'>  <figcaption>  <div class="gallery-group-name">OH MY GIRL</div>  <p>é—œæ–¼OH MY GIRLçš„åœ–ç‰‡</p>  <a href='/Gallery/ohmygirl'></a>  </figcaption>  </figure>  </span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></tbody></table></figure></div><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/20191226003414.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/20191226003414.png" alt=""></a></p><h3 id="Galleryç›¸å†Š"><a href="#Galleryç›¸å†Š" class="headerlink" title="Galleryç›¸å†Š"></a>Gallery ç›¸å†Š</h3><blockquote><p>2.0.0 ä»¥ä¸Šæä¾›</p></blockquote><p>å€åˆ¥æ–¼èˆŠç‰ˆçš„ Gallery ç›¸å†Šï¼Œæ–°çš„ Gallery ç›¸å†Šæœƒè‡ªå‹•æ ¹æ“šåœ–ç‰‡é•·åº¦é€²è¡Œæ’ç‰ˆï¼Œæ›¸å¯«ä¹Ÿæ›´åŠ æ–¹ä¾¿ï¼Œèˆ‡ markdown æ ¼å¼ä¸€æ¨£ã€‚å¯æ ¹æ“šéœ€è¦æ’å…¥åˆ°ç›¸æ‡‰çš„ mdã€‚</p><p>å¯«æ³•:</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">md</div></div><figure class="highlight md"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><div class="justified-gallery"><p></span><br><span class="line">markdown åœ–ç‰‡æ ¼å¼</span><br><span class="line"></p>          </div></span><br></pre></td></tr></tbody></table></figure></div><p>ä¾‹å¦‚</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">md</div></div><figure class="highlight md"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><div class="justified-gallery"><p></span><br><span class="line"><img src="/" class="lazyload" data-src="https://gratisography.com/wp-content/uploads/2019/10/gratisography-scary-pumpkin-hand-900x600.jpg"  alt=""></span><br><span class="line"><img src="/" class="lazyload" data-src="https://gratisography.com/wp-content/uploads/2019/10/gratisography-fresh-fish-dinner-900x600.jpg"  alt=""></span><br><span class="line"><img src="/" class="lazyload" data-src="https://gratisography.com/wp-content/uploads/2019/10/gratisography-mountain-cloud-landscape-900x600.jpg"  alt=""></span><br><span class="line"><img src="/" class="lazyload" data-src="https://picjumbo.com/wp-content/uploads/iphone-free-stock-photos-2210x3315.jpg"  alt=""></span><br><span class="line"><img src="/" class="lazyload" data-src="https://picjumbo.com/wp-content/uploads/young-millennial-girl-drinking-lemonade-and-overlooking-the-city-2210x1473.jpg"  alt=""></span><br><span class="line">![](<a href="https://picjumbo.com/wp-content/uploads/modern-graphic-designer-essentials" target="_blank" rel="noopener">https://picjumbo.com/wp-content/uploads/modern-graphic-designer-essentials</a><span class="emphasis"><em>free</em></span>stock<span class="emphasis"><em>photos</em></span>picjumbo_HNCK4919-2210x1474.jpg)</span><br><span class="line"></p>          </div></span><br></pre></td></tr></tbody></table></figure></div><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/20191101143214.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/20191101143214.png" alt=""></a></p><h3 id="tag-hide"><a href="#tag-hide" class="headerlink" title="tag-hide"></a>tag-hide</h3><blockquote><p>2.2.0 ä»¥ä¸Šæä¾›</p></blockquote><p>å¦‚æœä½ æƒ³æŠŠä¸€äº›æ–‡å­—ã€å…§å®¹éš±è—èµ·ä¾†ï¼Œä¸¦æä¾›æŒ‰éˆ•è®“ç”¨æˆ·é»æ“Šé¡¯ç¤ºã€‚å¯ä»¥ä½¿ç”¨é€™å€‹æ¨™ç±¤å¤–æ›ã€‚</p><p>å¯«æ³•ï¼š</p><p><code>inline</code> åœ¨æ–‡æœ¬é‡Œé¢æ·»åŠ æŒ‰éˆ•éš±è—å…§å®¹ï¼Œåªé™æ–‡å­—</p><p>( content ä¸èƒ½åŒ…å«ç•¶å¼•è™Ÿï¼Œå¯ç”¨ <code>&amp;apos;</code>)</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">markdown</div></div><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hide-inline"><a class="hide-button button--primary button--animated" style="color:color;background-color:bg">display    </a><span class="hide-content">content</span></span></span><br></pre></td></tr></tbody></table></figure></div><ul><li>content: æ–‡æœ¬å…§å®¹</li><li> display: æŒ‰éˆ•é¡¯ç¤ºçš„æ–‡å­— (å¯é¸)</li><li>bg: æŒ‰éˆ•çš„èƒŒæ™¯é¡è‰² (å¯é¸)</li><li>color: æŒ‰éˆ•æ–‡å­—çš„é¡è‰² (å¯é¸)</li></ul><p><code>block</code> ç¨ç«‹çš„ block éš±è—å…§å®¹ï¼Œå¯ä»¥éš±è—å¾ˆå¤šå…§å®¹ï¼ŒåŒ…æ‹¬åœ–ç‰‡ï¼Œä»£ç¢¼å¡Šç­‰ç­‰</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">markdown</div></div><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><div class="hide-block"><a class="hide-button button--primary button--animated" style="color:color;background-color:color">display    </a><span class="hide-content"><p></span><br><span class="line">content</span><br><span class="line"></p></span></div></span><br></pre></td></tr></tbody></table></figure></div><ul><li>content: æ–‡æœ¬å…§å®¹</li><li> display: æŒ‰éˆ•é¡¯ç¤ºçš„æ–‡å­— (å¯é¸)</li><li>bg: æŒ‰éˆ•çš„èƒŒæ™¯é¡è‰² (å¯é¸)</li><li>color: æŒ‰éˆ•æ–‡å­—çš„é¡è‰² (å¯é¸)</li></ul><p>ä¾‹å¦‚ï¼š</p><blockquote><p>inline</p></blockquote><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">markdown</div></div><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å“ªå€‹è‹±æ–‡å­—æ¯æœ€é…·ï¼Ÿ <span class="hide-inline"><a class="hide-button button--primary button--animated" style="color:#fff;background-color:#FF7242">æŸ¥çœ‹ç­”æ¡ˆ    </a><span class="hide-content">å› ç‚ºè¥¿è£è¤²(Cè£é…·)</span></span></span><br><span class="line"></span><br><span class="line">é–€è£ç«™ç€ä¸€å€‹äºº? <span class="hide-inline"><a class="hide-button button--primary button--animated" style="color:#fff;">Click    </a><span class="hide-content">é–ƒ</span></span></span><br></pre></td></tr></tbody></table></figure></div><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-tag-hide-inline.gif" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-tag-hide-inline.gif" alt=""></a></p><blockquote><p>block</p></blockquote><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">Code</div></div><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><div class="hide-block"><a class="hide-button button--primary button--animated" style="color:#fff;">æŸ¥çœ‹ç­”æ¡ˆ    </a><span class="hide-content"><p></span><br><span class="line"><div class="justified-gallery"><p></span><br><span class="line"><img src="/" class="lazyload" data-src="https://i.loli.net/2019/12/25/Fze9jchtnyJXMHN.jpg"  alt=""></span><br><span class="line"><img src="/" class="lazyload" data-src="https://i.loli.net/2019/12/25/ryLVePaqkYm4TEK.jpg"  alt=""></span><br><span class="line"><img src="/" class="lazyload" data-src="https://i.loli.net/2019/12/25/gEy5Zc1Ai6VuO4N.jpg"  alt=""></span><br><span class="line"><img src="/" class="lazyload" data-src="https://i.loli.net/2019/12/25/d6QHbytlSYO4FBG.jpg"  alt=""></span><br><span class="line"><img src="/" class="lazyload" data-src="https://i.loli.net/2019/12/25/6nepIJ1xTgufatZ.jpg"  alt=""></span><br><span class="line"><img src="/" class="lazyload" data-src="https://i.loli.net/2019/12/25/E7Jvr4eIPwUNmzq.jpg"  alt=""></span><br><span class="line"><img src="/" class="lazyload" data-src="https://i.loli.net/2019/12/25/mh19anwBSWIkGlH.jpg"  alt=""></span><br><span class="line"><img src="/" class="lazyload" data-src="https://i.loli.net/2019/12/25/2tu9JC8ewpBFagv.jpg"  alt=""></span><br><span class="line"></p><br>          </div></span><br><span class="line"></p></span></div></span><br></pre></td></tr></tbody></table></figure></div><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-tag-hide-block.gif" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-tag-hide-block.gif" alt=""></a></p><h2 id="mermaid"><a href="#mermaid" class="headerlink" title="mermaid"></a>mermaid</h2><p>ä½¿ç”¨ mermaid æ¨™ç±¤å¯ä»¥ç¹ªè£½ Flowchartï¼ˆæµç¨‹åœ–ï¼‰ã€Sequence diagramï¼ˆæ™‚åºåœ– ï¼‰ã€Class Diagramï¼ˆé¡åˆ¥åœ–ï¼‰ã€State Diagramï¼ˆç‹€æ…‹åœ–ï¼‰ã€Ganttï¼ˆç”˜ç‰¹åœ–ï¼‰å’Œ Pie Chartï¼ˆåœ“å½¢åœ–ï¼‰ï¼Œå…·é«”å¯ä»¥æŸ¥çœ‹ <a href="https://mermaid-js.github.io/mermaid/#/" target="_blank" rel="external nofollow noreferrer noopener">mermaid æ–‡æª”</a></p><p>å¯«æ³•ï¼š</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">markdown</div></div><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><div class="mermaid">          </span><br><span class="line">å…§å®¹</span><br><span class="line">          </div></span><br></pre></td></tr></tbody></table></figure></div><p>ä¾‹å¦‚ï¼š</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">markdown</div></div><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><div class="mermaid">          </span><br><span class="line">pie</span><br><span class="line"><span class="code">    title Key elements in Product X</span></span><br><span class="line"><span class="code">    "Calcium" : 42.96</span></span><br><span class="line"><span class="code">    "Potassium" : 50.05</span></span><br><span class="line"><span class="code">    "Magnesium" : 10.01</span></span><br><span class="line"><span class="code">    "Iron" :  5</span></span><br><span class="line">          </div></span><br></pre></td></tr></tbody></table></figure></div><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-mermaid.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-mermaid.png" alt=""></a></p><h2 id="è©•è«–"><a href="#è©•è«–" class="headerlink" title="è©•è«–"></a>è©•è«–</h2><blockquote><p>åªèƒ½é¸æ“‡ä¸€å€‹è©•è«–æœå‹™å•†</p></blockquote><h3 id="Disqus"><a href="#Disqus" class="headerlink" title="Disqus"></a>Disqus</h3><p>è¨»å†Š <a href="https://disqus.com/" target="_blank" rel="external nofollow noreferrer noopener">disqus</a>ï¼Œé…ç½®ä½ è‡ªå·±çš„ disqusï¼Œç„¶å¾Œåœ¨ <code>Butterfly</code> è£é–‹å•Ÿå®ƒã€‚</p><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">disqus:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">shortname:</span></span><br><span class="line">  <span class="attr">count:</span> <span class="literal">false</span> <span class="comment"># top_imgé¡¯ç¤ºè©•è«–æ•¸</span></span><br></pre></td></tr></tbody></table></figure></div><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-disqus.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-disqus.png" alt=""></a></p><h3 id="Disqusjs"><a href="#Disqusjs" class="headerlink" title="Disqusjs"></a>Disqusjs</h3><p>èˆ‡ Disqus ä¸€æ¨£ï¼Œä½†ç”±æ–¼ Disqus åœ¨ä¸­åœ‹å¤§é™¸ç„¡æ³•è¨ªå•ï¼Œ ä½¿ç”¨ Disqusjs å¯ä»¥åœ¨ç„¡æ³•è¨ªå• Disqus æ™‚é¡¯ç¤ºè©•è«–ã€‚å…·é«”å¯åƒè€ƒ <a href="https://github.com/SukkaW/DisqusJS" target="_blank" rel="external nofollow noreferrer noopener">Disqusjs</a>ã€‚</p><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">markdown</div></div><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">disqusjs:</span><br><span class="line">  enable: true #é–‹å•Ÿæ”¹ç‚º true</span><br><span class="line">  shortname: </span><br><span class="line">  siteName: </span><br><span class="line">  apikey: </span><br><span class="line">  api: https://disqus.skk.moe/disqus/ #ä¸€èˆ¬æƒ…æ³ä¸‹ç„¡éœ€ä¿®æ”¹ API åœ°å€</span><br><span class="line">  admin:</span><br><span class="line">  adminLabel:</span><br><span class="line">  count: true # top_imgé¡¯ç¤ºè©•è«–æ•¸</span><br></pre></td></tr></tbody></table></figure></div><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-disqusjs.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-disqusjs.png" alt=""></a></p><h3 id="Laibiliï¼ˆä¾†å¿…åŠ›ï¼‰"><a href="#Laibiliï¼ˆä¾†å¿…åŠ›ï¼‰" class="headerlink" title="Laibiliï¼ˆä¾†å¿…åŠ›ï¼‰"></a>Laibiliï¼ˆä¾†å¿…åŠ›ï¼‰</h3><p>è¨»å†Š<a href="http://www.laibili.com.cn/" target="_blank" rel="external nofollow noreferrer noopener">ä¾†å¿…åŠ›</a>ï¼Œé…ç½®ä½ è‡ªå·±çš„ä¾†å¿…åŠ›è¨­ç½®ï¼Œç„¶å¾Œåœ¨ <code>Butterfly</code> è£é–‹å•Ÿå®ƒã€‚</p><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">laibili:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">uid:</span></span><br></pre></td></tr></tbody></table></figure></div><p>laibili çš„ uid ä½ èƒ½åœ¨é€™è£æ‰¾åˆ°:</p><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-laibili.jpg" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-laibili.jpg" alt=""></a></p><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-laibili_2.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-laibili_2.png" alt=""></a></p><h3 id="Gitalk"><a href="#Gitalk" class="headerlink" title="Gitalk"></a>Gitalk</h3><p>éµå¾ª <a href="https://github.com/gitalk/gitalk" target="_blank" rel="external nofollow noreferrer noopener">gitalk</a> çš„æŒ‡ç¤ºå»ç²å–ä½ çš„ github Oauth æ‡‰ç”¨çš„ client id å’Œ secret å€¼ã€‚ä»¥åŠæŸ¥çœ‹å®ƒçš„ç›¸é—œé…ç½®èª¬æ˜ã€‚</p><p>ç„¶å¾Œé…ç½® <code>butterfly.yml</code>:</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">gitalk:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">client_id:</span> <span class="string">ä½ çš„client</span> <span class="string">id</span> </span><br><span class="line">  <span class="attr">client_secret:</span> <span class="string">ä½ çš„client</span> <span class="string">secret</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">ä½ çš„githubå€‰åº«</span></span><br><span class="line">  <span class="attr">owner:</span> <span class="string">ä½ çš„githubç”¨æˆ·å</span></span><br><span class="line">  <span class="attr">admin:</span> <span class="string">è©²å€‰åº«çš„æ“æœ‰è€…æˆ–å”ä½œè€…</span></span><br><span class="line">  <span class="attr">language:</span> <span class="string">zh-CN</span> <span class="comment"># en , zh-CN , zh-TW</span></span><br><span class="line">  <span class="attr">perPage:</span> <span class="number">10</span> <span class="comment"># Pagination size, with maximum 100.</span></span><br><span class="line">  <span class="attr">distractionFreeMode:</span> <span class="literal">false</span> <span class="comment"># Facebook-like distraction free mode.</span></span><br><span class="line">  <span class="attr">pagerDirection:</span> <span class="string">last</span> <span class="comment"># Comment sorting direction, available values are last and first.</span></span><br><span class="line">  <span class="attr">createIssueManually:</span> <span class="literal">false</span> <span class="comment"># Gitalk will create a corresponding github issue for your every single page automatically</span></span><br><span class="line">  <span class="attr">count:</span> <span class="literal">true</span> <span class="comment"># top_imgé¡¯ç¤ºè©•è«–æ•¸</span></span><br></pre></td></tr></tbody></table></figure></div><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-gitalk.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-gitalk.png" alt=""></a></p><h3 id="Valine"><a href="#Valine" class="headerlink" title="Valine"></a>Valine</h3><p>éµå¾ª <a href="https://github.com/xCss/Valine" target="_blank" rel="external nofollow noreferrer noopener">Valine</a> çš„æŒ‡ç¤ºå»é…ç½®ä½ çš„ LeanCloud æ‡‰ç”¨ã€‚ä»¥åŠæŸ¥çœ‹ç›¸æ‡‰çš„é…ç½®èª¬æ˜ã€‚</p><p>ç„¶å¾Œé…ç½® <code>butterfly.yml</code>:</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">valine:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span> <span class="comment"># if you want use valine,please set this value is true</span></span><br><span class="line">  <span class="attr">appId:</span> <span class="comment"># leancloud application app id</span></span><br><span class="line">  <span class="attr">appKey:</span> <span class="comment"># leancloud application app key</span></span><br><span class="line">  <span class="attr">notify:</span> <span class="literal">false</span> <span class="comment"># valine mail notify (true/false) https://github.com/xCss/Valine/wiki</span></span><br><span class="line">  <span class="attr">verify:</span> <span class="literal">false</span> <span class="comment"># valine verify code (true/false)</span></span><br><span class="line">  <span class="attr">pageSize:</span> <span class="number">10</span> <span class="comment"># comment list page size</span></span><br><span class="line">  <span class="attr">avatar:</span> <span class="string">monsterid</span> <span class="comment"># gravatar style https://valine.js.org/#/avatar</span></span><br><span class="line">  <span class="attr">lang:</span> <span class="string">en</span> <span class="comment"># i18n: zh-cn/en</span></span><br><span class="line">  <span class="attr">placeholder:</span> <span class="string">Please</span> <span class="string">leave</span> <span class="string">your</span> <span class="string">footprints</span> <span class="comment"># valine comment input placeholder(like: Please leave your footprints )</span></span><br><span class="line">  <span class="attr">guest_info:</span> <span class="string">nick,mail,link</span> <span class="comment">#valine comment header info</span></span><br><span class="line">  <span class="attr">recordIP:</span> <span class="literal">false</span> <span class="comment"># Record reviewer IP</span></span><br><span class="line">  <span class="attr">serverURLs:</span> <span class="comment"># This configuration is suitable for domestic custom domain name users, overseas version will be automatically detected (no need to manually fill in)</span></span><br><span class="line">  <span class="attr">bg:</span> <span class="string">/img/comment_bg.png</span> <span class="comment"># valine background</span></span><br><span class="line">  <span class="attr">count:</span> <span class="literal">true</span> <span class="comment"># top_imgé¡¯ç¤ºè©•è«–æ•¸</span></span><br></pre></td></tr></tbody></table></figure></div><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-valine.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-valine.png" alt=""></a></p><h3 id="Utterances"><a href="#Utterances" class="headerlink" title="Utterances"></a>Utterances</h3><p>èˆ‡ Gitalk ä¸€æ¨£ï¼ŒåŸºæ–¼ GitHub issues çš„è©•è«–å·¥å…·ã€‚ç›¸å°æ–¼ Gitalk, å…¶ç›¸å°éœ€è¦æ¬Šé™è¼ƒå°‘ã€‚å…·é«”é…ç½®å¯åƒè€ƒ <a href="https://utteranc.es/" target="_blank" rel="external nofollow noreferrer noopener">Utterances</a>ã€‚</p><p>é…ç½® <code>butterfly.yml</code>:</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">markdown</div></div><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">utterances:</span><br><span class="line">  enable: false</span><br><span class="line">  repo:</span><br><span class="line">  # å¯é¸ pathname/url/title/og:title</span><br><span class="line">  issue_term: pathname</span><br><span class="line">  # å¯é¸ github-light/github-dark/github-dark-orange/icy-dark/dark-blue/photon-dark</span><br><span class="line">  light_theme: github-light</span><br><span class="line">  dark_theme: photon-dark</span><br></pre></td></tr></tbody></table></figure></div><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-Utterances.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-Utterances.png" alt=""></a></p><h2 id="åˆ†äº«"><a href="#åˆ†äº«" class="headerlink" title="åˆ†äº«"></a>åˆ†äº«</h2><blockquote><p>åªèƒ½é¸æ“‡ä¸€å€‹åˆ†äº«æœå‹™å•†</p></blockquote><h3 id="AddThis"><a href="#AddThis" class="headerlink" title="AddThis"></a>AddThis</h3><blockquote><p>æ‰¾åˆ°ä½ çš„ pub-id</p></blockquote><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-addthis.jpg" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-addthis.jpg" alt=""></a></p><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">addThis:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># or false</span></span><br><span class="line">  <span class="attr">pubid:</span> <span class="string">ä½ çš„pub-id</span></span><br></pre></td></tr></tbody></table></figure></div><h3 id="Sharejs"><a href="#Sharejs" class="headerlink" title="Sharejs"></a>Sharejs</h3><p>å¦‚æœä½ ä¸çŸ¥é“ <a href="https://github.com/overtrue/share.js/" target="_blank" rel="external nofollow noreferrer noopener">sharejs</a>ï¼Œçœ‹çœ‹å®ƒçš„èª¬æ˜ã€‚</p><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">sharejs:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">sites:</span> <span class="string">facebook,twitter,wechat,weibo,qq</span>  <span class="comment">#æƒ³è¦é¡¯ç¤ºçš„å…§å®¹</span></span><br></pre></td></tr></tbody></table></figure></div><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-sharejs.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-sharejs.png" alt=""></a></p><h3 id="Addtoany"><a href="#Addtoany" class="headerlink" title="Addtoany"></a>Addtoany</h3><p>å¯ä»¥åˆ° <a href="https://www.addtoany.com/" target="_blank" rel="external nofollow noreferrer noopener">addtoany</a> æŸ¥çœ‹ä½¿ç”¨èª¬æ˜</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">addtoany:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">item:</span>   <span class="comment"># é¡¯ç¤ºçš„å…§å®¹</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">facebook</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">twitter</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">wechat</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">sina_weibo</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">facebook_messenger</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">email</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">copy_link</span></span><br></pre></td></tr></tbody></table></figure></div><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-addtoany.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-addtoany.png" class=" lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-addtoany.png" alt=""></a></p><h2 id="æœç´¢ç³»çµ±"><a href="#æœç´¢ç³»çµ±" class="headerlink" title="æœç´¢ç³»çµ±"></a>æœç´¢ç³»çµ±</h2><h3 id="Algolia"><a href="#Algolia" class="headerlink" title="Algolia"></a>Algolia</h3><ol><li><p>ä½ éœ€è¦å®‰è£ <a href="https://github.com/oncletom/hexo-algolia" target="_blank" rel="external nofollow noreferrer noopener">hexo-algolia</a> æˆ– <a href="https://github.com/LouisBarranqueiro/hexo-algoliasearch" target="_blank" rel="external nofollow noreferrer noopener">hexo-algoliasearch</a>. æ ¹æ“šå®ƒå€‘çš„èª¬æ˜æ–‡æª”å»åšç›¸æ‡‰çš„é…ç½®ã€‚</p></li><li><p>é…ç½® <code>butterfly.yml</code></p></li></ol><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">algolia_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">hits:</span></span><br><span class="line">    <span class="attr">per_page:</span> <span class="number">6</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">input_placeholder:</span> <span class="string">Search</span> <span class="string">for</span> <span class="string">Posts</span></span><br><span class="line">    <span class="attr">hits_empty:</span> <span class="string">"We didn't find any results for the search: ${query}"</span> <span class="comment"># if there are no result</span></span><br><span class="line">    <span class="attr">hits_stats:</span> <span class="string">"${hits} results found in ${time} ms"</span></span><br></pre></td></tr></tbody></table></figure></div><h3 id="æœ¬åœ°æœç´¢"><a href="#æœ¬åœ°æœç´¢" class="headerlink" title="æœ¬åœ°æœç´¢"></a>æœ¬åœ°æœç´¢</h3><ol><li><p>ä½ éœ€è¦å®‰è£ <a href="https://github.com/PaicHyperionDev/hexo-generator-search" target="_blank" rel="external nofollow noreferrer noopener">hexo-generator-search</a>. æ ¹æ“šå®ƒçš„æ–‡æª”å»åšç›¸æ‡‰é…ç½®ã€‚<strong>æ³¨æ„æ ¼å¼åªæ”¯æŒ xml</strong>ã€‚</p></li><li><p>é…ç½® <code>butterfly.yml</code></p></li></ol><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">input_placeholder:</span> <span class="string">Search</span> <span class="string">for</span> <span class="string">Posts</span></span><br><span class="line">    <span class="attr">hits_empty:</span> <span class="string">"We didn't find any results for the search: ${query}"</span> <span class="comment"># if there are no result</span></span><br></pre></td></tr></tbody></table></figure></div><h2 id="ç¶²ç«™é©—è­‰"><a href="#ç¶²ç«™é©—è­‰" class="headerlink" title="ç¶²ç«™é©—è­‰"></a>ç¶²ç«™é©—è­‰</h2><p>å¦‚æœéœ€è¦æœç´¢å¼•æ“æ”¶éŒ„ç¶²ç«™ï¼Œå¯èƒ½éœ€è¦ç™»éŒ„å°æ‡‰æœç´¢å¼•æ“çš„ç®¡ç†å¹³å°é€²è¡Œæäº¤ã€‚<br>å„è‡ªçš„é©—è­‰ç¢¼å¯å¾å„è‡ªç®¡ç†å¹³å°æ‹¿åˆ°</p><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Google Webmaster tools verification setting</span></span><br><span class="line"><span class="comment"># See: https://www.google.com/webmasters/</span></span><br><span class="line"><span class="attr">google_site_verification:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Bing Webmaster tools verification setting</span></span><br><span class="line"><span class="comment"># See: https://www.bing.com/webmaster/</span></span><br><span class="line"><span class="attr">bing_site_verification:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Yandex Webmaster tools verification setting</span></span><br><span class="line"><span class="comment"># See: https://webmaster.yandex.ru/</span></span><br><span class="line"><span class="attr">yandex_site_verification:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Baidu Webmaster tools verification setting</span></span><br><span class="line"><span class="comment"># See: https://ziyuan.baidu.com/site/</span></span><br><span class="line"><span class="attr">baidu_site_verification:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 360 Webmaster tools verification setting</span></span><br><span class="line"><span class="comment"># see http://zhanzhang.so.com/</span></span><br><span class="line"><span class="attr">qihu_site_verification:</span></span><br></pre></td></tr></tbody></table></figure></div><h2 id="åˆ†æçµ±è¨ˆ"><a href="#åˆ†æçµ±è¨ˆ" class="headerlink" title="åˆ†æçµ±è¨ˆ"></a>åˆ†æçµ±è¨ˆ</h2><h3 id="ç™¾åº¦çµ±è¨ˆ"><a href="#ç™¾åº¦çµ±è¨ˆ" class="headerlink" title="ç™¾åº¦çµ±è¨ˆ"></a>ç™¾åº¦çµ±è¨ˆ</h3><ol><li><p>ç™»éŒ„ç™¾åº¦çµ±è¨ˆçš„<a href="https://tongji.baidu.com/web/welcome/login" target="_blank" rel="external nofollow noreferrer noopener">å®˜æ–¹ç¶²ç«™</a></p></li><li><p>æ‰¾åˆ°ä½ ç™¾åº¦çµ±è¨ˆçš„çµ±è¨ˆä»£ç¢¼</p></li></ol><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-baidu-tongji.jpg" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-baidu-tongji.jpg" class=" lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-baidu-tongji.jpg" alt=""></a></p><ol start="3"><li>é…ç½® <code>butterfly.yml</code></li></ol><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">baidu_analytics:</span> <span class="string">ä½ çš„ä»£ç¢¼</span></span><br></pre></td></tr></tbody></table></figure></div><h3 id="è°·æ­Œåˆ†æ"><a href="#è°·æ­Œåˆ†æ" class="headerlink" title="è°·æ­Œåˆ†æ"></a>è°·æ­Œåˆ†æ</h3><ol><li><p>ç™»éŒ„è°·æ­Œåˆ†æçš„<a href="https://www.google.com/analytics/" target="_blank" rel="external nofollow noreferrer noopener">å®˜æ–¹ç¶²ç«™</a></p></li><li><p>æ‰¾åˆ°ä½ çš„è°·æ­Œåˆ†æçš„è·Ÿè¹¤ ID</p></li></ol><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-google-analytics.jpg" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-google-analytics.jpg" class=" lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-google-analytics.jpg" alt=""></a></p><ol start="3"><li> é…ç½® <code>butterfly.yml</code></li></ol><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">google_analytics:</span> <span class="string">ä½ çš„ä»£ç¢¼</span> <span class="comment"># é€šå¸¸ä»¥`UA-`æ‰“é ­</span></span><br></pre></td></tr></tbody></table></figure></div><h3 id="é¨°è¨Šåˆ†æ"><a href="#é¨°è¨Šåˆ†æ" class="headerlink" title="é¨°è¨Šåˆ†æ"></a>é¨°è¨Šåˆ†æ</h3><ol><li><p>ç™»éŒ„é¨°è¨Šåˆ†æçš„<a href="https://ta.qq.com/" target="_blank" rel="external nofollow noreferrer noopener">å®˜æ–¹ç¶²ç«™</a></p></li><li><p>æ‰¾åˆ°ä½ çš„ç«™é» ID</p><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-tengxun-analysic.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-tengxun-analysic.png" class=" ls-is-cached lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-tengxun-analysic.png" alt=""></a></p></li><li><p> é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">Code</div></div><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># Tencent_analytics ID</span><br><span class="line">tencent_analytics:</span><br></pre></td></tr></tbody></table></figure></div></li></ol><h2 id="å»£å‘Š"><a href="#å»£å‘Š" class="headerlink" title="å»£å‘Š"></a>å»£å‘Š</h2><h3 id="è°·æ­Œå»£å‘Š"><a href="#è°·æ­Œå»£å‘Š" class="headerlink" title="è°·æ­Œå»£å‘Š"></a>è°·æ­Œå»£å‘Š</h3><p>ä¸»é¡Œå·²é›†æˆè°·æ­Œå»£å‘Šï¼ˆè‡ªå‹•å»£å‘Šï¼‰</p><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">google_adsense:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">js:</span> <span class="string">https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js</span></span><br><span class="line">  <span class="attr">client:</span> <span class="comment"># å¡«å…¥å€‹äººè­˜åˆ¥ç¢¼</span></span><br><span class="line">  <span class="attr">enable_page_level_ads:</span> <span class="literal">true</span></span><br></pre></td></tr></tbody></table></figure></div><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-google-adsense.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-google-adsense.png" class=" lazyloaded" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-google-adsense.png" alt="" style="display: none !important;"></a></p><h3 id="æ‰‹å‹•å»£å‘Šé…ç½®"><a href="#æ‰‹å‹•å»£å‘Šé…ç½®" class="headerlink" title="æ‰‹å‹•å»£å‘Šé…ç½®"></a>æ‰‹å‹•å»£å‘Šé…ç½®</h3><p>ä¸»é¡Œé ç•™äº†ä¸‰å€‹ä½ç½®å¯ä¾›æ’å…¥å»£å‘Šï¼Œåˆ†åˆ¥çˆ²ä¸»é æ–‡ç«  (æ¯ä¸‰ç¯‡æ–‡ç« å‡ºç¾å»£å‘Š)/aside å…¬å‘Šä¹‹å¾Œ / æ–‡ç« é æ‰“è³ä¹‹å¾Œã€‚<br>æŠŠ html ä»£ç¢¼å¡«å¯«åˆ°å°æ‡‰çš„ä½ç½®</p><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">ad:</span></span><br><span class="line">  <span class="attr">index:</span></span><br><span class="line">  <span class="attr">aside:</span></span><br><span class="line">  <span class="attr">post:</span></span><br></pre></td></tr></tbody></table></figure></div><p>ä¾‹å¦‚:</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">index:</span> <span class="string">&lt;ins</span> <span class="string">class="adsbygoogle"</span> <span class="string">style="display:block"</span> <span class="string">data-ad-format="fluid"</span> <span class="string">data-ad-layout-key="xxxxxxxxxxxx"</span> <span class="string">data-ad-client="ca-pub-xxxxxxxxxx"</span> <span class="string">data-ad-slot="xxxxxxxxxx"&gt;&lt;/ins&gt;&lt;script&gt;(adsbygoogle=window.adsbygoogle||[]).push({})&lt;/script&gt;</span></span><br></pre></td></tr></tbody></table></figure></div><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-ad-post.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-ad-post.png" alt=""></a><br><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-ad-index.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-ad-index.png" alt=""></a></p><h2 id="MathJax"><a href="#MathJax" class="headerlink" title="MathJax"></a>MathJax</h2><blockquote><p>å»ºè­°ä½¿ç”¨ KaTex ç²å¾—æ›´å¥½çš„æ•ˆæœï¼Œä¸‹æ–‡æœ‰ä»‹ç´¹ï¼</p></blockquote><p>é…ç½® <code>butterfly.yml</code>:</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">mathjax:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># true è¡¨ç¤ºæ¯ä¸€é éƒ½åŠ è¼‰mathjax.js</span></span><br><span class="line">  <span class="comment"># false éœ€è¦æ™‚åŠ è¼‰ï¼Œé ˆåœ¨ä½¿ç”¨çš„Markdown Front-matter åŠ ä¸Š mathjax: true</span></span><br><span class="line">  <span class="attr">per_page:</span> <span class="literal">false</span></span><br></pre></td></tr></tbody></table></figure></div><blockquote><p>å¦‚æœ <code>per_page</code> è¨­ç‚º <code>true</code>, å‰‡æ¯ä¸€é éƒ½æœƒåŠ è¼‰ Mathjax æœå‹™ã€‚è¨­ç‚º <code>false</code>ï¼Œå‰‡éœ€è¦åœ¨æ–‡ç«  <code>Front-matter</code> æ·»åŠ  <code>mathjax: true</code>, å°æ‡‰çš„æ–‡ç« æ‰æœƒåŠ è¼‰ Mathjax æœå‹™ã€‚</p></blockquote><p>ç„¶å¾Œä½ éœ€è¦ä¿®æ”¹ä¸€ä¸‹é»˜èªçš„ <code>markdown</code> æ¸²æŸ“å¼•æ“ä¾†å¯¦ç¾ MathJax çš„æ•ˆæœã€‚</p><p>æŸ¥çœ‹: <a href="https://www.npmjs.com/package/hexo-renderer-kramed" target="_blank" rel="external nofollow noreferrer noopener">hexo-renderer-kramed</a></p><p>ä»¥ä¸‹æ“ä½œåœ¨ä½  hexo åšå®¢çš„ç›®éŒ„ä¸‹ (<strong>ä¸æ˜¯ Butterfly çš„ç›®éŒ„ï¼</strong>):</p><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-mathjax.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-mathjax.png" alt=""></a></p><p>æ•ˆæœï¼š</p><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-mathjax-2.jpg" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-mathjax-2.jpg" alt=""></a></p><h2 id="KaTeX"><a href="#KaTeX" class="headerlink" title="KaTeX"></a>KaTeX</h2><p>é¦–å…ˆç¦ç”¨ <code>MathJax</code>ï¼ˆå¦‚æœä½ é…ç½®é MathJax çš„è©±ï¼‰ï¼Œç„¶å¾Œä¿®æ”¹ä½ çš„ <code>butterfly.yml</code> ä»¥ä¾¿åŠ è¼‰ <code>katex.min.css</code>:</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">katex:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># true è¡¨ç¤ºæ¯ä¸€é éƒ½åŠ è¼‰katex.js</span></span><br><span class="line">  <span class="comment"># false éœ€è¦æ™‚åŠ è¼‰ï¼Œé ˆåœ¨ä½¿ç”¨çš„Markdown Front-matter åŠ ä¸Š katex: true</span></span><br><span class="line">  <span class="attr">per_page:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">hide_scrollbar:</span> <span class="literal">true</span></span><br></pre></td></tr></tbody></table></figure></div><p>ä½ ä¸éœ€è¦æ·»åŠ  <code>katex.min.js</code> ä¾†æ¸²æŸ“æ•¸å­¸æ–¹ç¨‹ã€‚ç›¸æ‡‰çš„ä½ éœ€è¦å¸è¼‰ä½ ä¹‹å‰çš„ hexo çš„ markdown æ¸²æŸ“å™¨ä»¥åŠ <code>hexo-math</code>ï¼Œç„¶å¾Œå®‰è£æ–°çš„ <code>hexo-renderer-markdown-it-plus</code>:</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ›¿æ› `hexo-renderer-kramed` æˆ–è€… `hexo-renderer-marked` ç­‰hexoçš„markdownæ¸²æŸ“å™¨</span></span><br><span class="line"><span class="comment"># ä½ å¯ä»¥åœ¨ä½ çš„package.jsonè£æ‰¾åˆ°hexoçš„markdwonæ¸²æŸ“å™¨ï¼Œä¸¦å°‡å…¶å¸è¼‰</span></span><br><span class="line"><span class="string">npm</span> <span class="string">un</span> <span class="string">hexo-renderer-marked</span> <span class="string">--save</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># or</span></span><br><span class="line"></span><br><span class="line"><span class="string">npm</span> <span class="string">un</span> <span class="string">hexo-renderer-kramed</span> <span class="string">--save</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¸è¼‰ `hexo-math`</span></span><br><span class="line"><span class="string">npm</span> <span class="string">un</span> <span class="string">hexo-math</span> <span class="string">--save</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç„¶å¾Œå®‰è£ `hexo-renderer-markdown-it-plus`</span></span><br><span class="line"><span class="string">npm</span> <span class="string">i</span> <span class="string">@upupming/hexo-renderer-markdown-it-plus</span> <span class="string">--save</span></span><br></pre></td></tr></tbody></table></figure></div><p>æ³¨æ„åˆ° <a href="https://github.com/CHENXCHEN/hexo-renderer-markdown-it-plus" target="_blank" rel="external nofollow noreferrer noopener"><code>hexo-renderer-markdown-it-plus</code></a>å·²ç¶“ç„¡äººæŒçºŒç¶­è­·ï¼Œæ‰€ä»¥æˆ‘å€‘ä½¿ç”¨ <a href="https://github.com/upupming/hexo-renderer-markdown-it-plus" target="_blank" rel="external nofollow noreferrer noopener"><code>@upupming/hexo-renderer-markdown-it-plus</code></a>ã€‚ é€™ä»½ fork çš„ä»£ç¢¼ä½¿ç”¨äº† <a href="https://github.com/yzhang-gh/markdown-it-katex" target="_blank" rel="external nofollow noreferrer noopener"><code>@neilsustc/markdown-it-katex</code></a>åŒæ™‚å®ƒä¹Ÿæ˜¯ VSCode çš„æ’ä»¶ <a href="https://github.com/yzhang-gh/vscode-markdown" target="_blank" rel="external nofollow noreferrer noopener">Markdown All in One</a> æ‰€ä½¿ç”¨çš„ï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥ç²å¾—æœ€æ–°çš„ KaTex åŠŸèƒ½ä¾‹å¦‚ <code>\tag{}</code>ã€‚</p><p>ä½ é‚„å¯ä»¥é€šé <a href="https://github.com/yzhang-gh/markdown-it-katex" target="_blank" rel="external nofollow noreferrer noopener"><code>@neilsustc/markdown-it-katex</code></a>æ§åˆ¶ KaTeX çš„è¨­ç½®ï¼Œæ‰€æœ‰å¯é…ç½®çš„é¸é …åƒè¦‹ <a href="https://katex.org/docs/options.htmlã€‚" target="_blank" rel="external nofollow noreferrer noopener">https://katex.org/docs/options.htmlã€‚</a> æ¯”å¦‚ä½ æƒ³è¦ç¦ç”¨æ‰ KaTeX åœ¨å‘½ä»¤è¡Œä¸Šè¼¸å‡ºçš„å®‚é•·çš„è­¦å‘Šä¿¡æ¯ï¼Œä½ å¯ä»¥åœ¨æ ¹ç›®éŒ„çš„ <code>_config.yml</code> ä¸­ä½¿ç”¨ä¸‹é¢çš„é…ç½®å°‡ <code>strict</code> è¨­ç½®ç‚º false:</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">markdown_it_plus:</span></span><br><span class="line">  <span class="attr">plugins:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">plugin:</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">'@neilsustc/markdown-it-katex'</span></span><br><span class="line">      <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">options:</span></span><br><span class="line">        <span class="attr">strict:</span> <span class="literal">false</span></span><br></pre></td></tr></tbody></table></figure></div><p>ç•¶ç„¶ï¼Œä½ é‚„å¯ä»¥åˆ©ç”¨é€™å€‹ç‰¹æ€§ä¾†å®šç¾©ä¸€äº›è‡ªå·±å¸¸ç”¨çš„ <code>macros</code>ã€‚</p><p>å› ç‚º KaTeX æ›´å¿«æ›´è¼•é‡ï¼Œå› æ­¤æ²’æœ‰ MathJax çš„åŠŸèƒ½å¤šï¼ˆæ¯”å¦‚å³éµèœå–®ï¼‰ã€‚ç‚ºé‚£äº›ä½¿ç”¨ MathJax çš„ç”¨æˆ·ï¼Œæˆ‘å€‘ä¹Ÿç‚º KaTeX é»˜èªæ·»åŠ äº† <a href="https://github.com/upupming/katex-copytex" target="_blank" rel="external nofollow noreferrer noopener"><em>Copy As TeX Code</em></a> çš„åŠŸèƒ½ã€‚</p><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-katex.gif" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-katex.gif" alt=""></a></p><h2 id="ç¾åŒ–-ç‰¹æ•ˆ"><a href="#ç¾åŒ–-ç‰¹æ•ˆ" class="headerlink" title="ç¾åŒ–/ç‰¹æ•ˆ"></a>ç¾åŒ– / ç‰¹æ•ˆ</h2><h3 id="è‡ªå®šç¾©ä¸»é¡Œè‰²"><a href="#è‡ªå®šç¾©ä¸»é¡Œè‰²" class="headerlink" title="è‡ªå®šç¾©ä¸»é¡Œè‰²"></a>è‡ªå®šç¾©ä¸»é¡Œè‰²</h3><p>å¯ä»¥ä¿®æ”¹å¤§éƒ¨åˆ† UI é¡è‰²</p><p>é…ç½® <code>butterfly.yml</code>ï¼Œæ¯”å¦‚ï¼š</p><blockquote><p>é¡è‰²å€¼å¿…é ˆè¢«é›™å¼•è™ŸåŒ…è£¹ï¼Œå°±åƒ <code>"#000"</code> è€Œä¸æ˜¯<code>#000</code>ã€‚å¦å‰‡å°‡æœƒåœ¨æ§‹å»ºçš„æ™‚å€™å ±éŒ¯ï¼</p></blockquote><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">theme_color:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">main:</span> <span class="string">"#49B1F5"</span></span><br><span class="line">  <span class="attr">paginator:</span> <span class="string">"#00c4b6"</span></span><br><span class="line">  <span class="attr">button_hover:</span> <span class="string">"#FF7242"</span></span><br><span class="line">  <span class="attr">text_selection:</span> <span class="string">"#00c4b6"</span></span><br><span class="line">  <span class="attr">link_color:</span> <span class="string">"#99a9bf"</span></span><br><span class="line">  <span class="attr">meta_color:</span> <span class="string">"#858585"</span></span><br><span class="line">  <span class="attr">hr_color:</span> <span class="string">"#A4D8FA"</span></span><br><span class="line">  <span class="attr">code_foreground:</span> <span class="string">"#F47466"</span></span><br><span class="line">  <span class="attr">code_background:</span> <span class="string">"rgba(27, 31, 35, .05)"</span></span><br><span class="line">  <span class="attr">toc_color:</span> <span class="string">"#00c4b6"</span></span><br><span class="line">  <span class="attr">blockquote_padding_color:</span> <span class="string">"#49b1f5"</span></span><br><span class="line">  <span class="attr">blockquote_background_color:</span> <span class="string">"#49b1f5"</span></span><br></pre></td></tr></tbody></table></figure></div><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-color_1.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-color_1.png" alt=""></a><br><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-color_2.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-color_2.png" alt=""></a></p><h3 id="ç¶²ç«™èƒŒæ™¯"><a href="#ç¶²ç«™èƒŒæ™¯" class="headerlink" title="ç¶²ç«™èƒŒæ™¯"></a>ç¶²ç«™èƒŒæ™¯</h3><p>é»˜èªé¡¯ç¤ºç™½è‰²ï¼Œå¯è¨­ç½®åœ–ç‰‡æˆ–è€…é¡è‰²</p><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åœ–ç‰‡æ ¼å¼ background: url(http://xxxxxx.com/xxx.jpg)</span></span><br><span class="line"><span class="comment"># é¡è‰² background: '#49B202'</span></span><br><span class="line"><span class="comment"># ç•™ç©º é¡¯ç¤ºç™½è‰²</span></span><br><span class="line"><span class="attr">background:</span></span><br></pre></td></tr></tbody></table></figure></div><p><code>background:'#49B202'</code></p><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-set-body-background-color.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-set-body-background-color.png" alt=""></a></p><p><code>background: url(https://i.loli.net/2019/09/09/5oDRkWVKctx2b6A.png)</code></p><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-set-body-background-img.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-set-body-background-img.png" alt=""></a></p><h3 id="footer-èƒŒæ™¯"><a href="#footer-èƒŒæ™¯" class="headerlink" title="footer èƒŒæ™¯"></a>footer èƒŒæ™¯</h3><p>footer çš„èƒŒæ™¯æœƒèˆ‡ <code>top_img</code> çš„ä¸€è‡´ï¼Œç•¶è¨­ç½® <code>false</code> æ™‚ï¼Œå°‡èˆ‡ä¸»é¡Œè‰²ä¸€è‡´ã€‚</p><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># footeræ˜¯å¦é¡¯ç¤ºåœ–ç‰‡èƒŒæ™¯(èˆ‡top_imgä¸€è‡´)</span></span><br><span class="line"><span class="attr">footer_bg:</span> <span class="literal">true</span></span><br></pre></td></tr></tbody></table></figure></div><p><code>true</code></p><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-footer-img.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-footer-img.png" alt=""></a></p><h3 id="æ‰“å­—æ•ˆæœ"><a href="#æ‰“å­—æ•ˆæœ" class="headerlink" title="æ‰“å­—æ•ˆæœ"></a>æ‰“å­—æ•ˆæœ</h3><p>æ‰“å­—æ•ˆæœ <a href="https://github.com/disjukr/activate-power-mode" target="_blank" rel="external nofollow noreferrer noopener">activate-power-mode</a></p><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ‰“å­—æ•ˆæœ</span></span><br><span class="line"><span class="attr">activate_power_mode:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">colorful:</span> <span class="literal">true</span> <span class="comment"># å†’å…‰ç‰¹æ•ˆ</span></span><br><span class="line">  <span class="attr">shake:</span> <span class="literal">true</span> <span class="comment"># æŠ–å‹•ç‰¹æ•ˆ</span></span><br></pre></td></tr></tbody></table></figure></div><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-type-animation.gif" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-type-animation.gif" alt=""></a></p><h3 id="éœæ­¢ç¶µå¸¶"><a href="#éœæ­¢ç¶µå¸¶" class="headerlink" title="éœæ­¢ç¶µå¸¶"></a>éœæ­¢ç¶µå¸¶</h3><p>å¥½çœ‹çš„ç¶µå¸¶èƒŒæ™¯ï¼Œå¯è¨­ç½®æ¯æ¬¡åˆ·æ–°æ›´æ›ç¶µå¸¶ï¼Œæˆ–è€…æ¯æ¬¡é»æ“Šæ›´æ›ç¶µå¸¶</p><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">canvas_ribbon:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">size:</span> <span class="number">150</span></span><br><span class="line">  <span class="attr">alpha:</span> <span class="number">0.6</span></span><br><span class="line">  <span class="attr">zIndex:</span> <span class="number">-1</span></span><br><span class="line">  <span class="attr">click_to_change:</span> <span class="literal">false</span>  <span class="comment">#è¨­ç½®æ˜¯å¦æ¯æ¬¡é»æ“Šéƒ½æ›´æ›ç¶µå¸¶</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span> <span class="comment"># false æ‰‹æ©Ÿç«¯ä¸é¡¯ç¤º true æ‰‹æ©Ÿç«¯é¡¯ç¤º</span></span><br></pre></td></tr></tbody></table></figure></div><p>ç›¸é—œé…ç½®å¯æŸ¥çœ‹ <a href="https://github.com/hustcc/ribbon.js" target="_blank" rel="external nofollow noreferrer noopener">canvas_ribbon</a></p><h3 id="å‹•æ…‹ç¶µå¸¶"><a href="#å‹•æ…‹ç¶µå¸¶" class="headerlink" title="å‹•æ…‹ç¶µå¸¶"></a>å‹•æ…‹ç¶µå¸¶</h3><p>å¥½çœ‹çš„ç¶µå¸¶èƒŒæ™¯ï¼Œæœƒé£„å‹•</p><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">canvas_ribbon_piao:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span> <span class="comment"># false æ‰‹æ©Ÿç«¯ä¸é¡¯ç¤º true æ‰‹æ©Ÿç«¯é¡¯ç¤º</span></span><br></pre></td></tr></tbody></table></figure></div><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-canvas-ribbon-piao.gif" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-canvas-ribbon-piao.gif" alt=""></a></p><h3 id="canvas-nest"><a href="#canvas-nest" class="headerlink" title="canvas-nest"></a>canvas-nest</h3><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">canvas_nest:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">color:</span> <span class="string">'0,0,255'</span> <span class="comment">#color of lines, default: '0,0,0'; RGB values: (R,G,B).(note: use ',' to separate.)</span></span><br><span class="line">  <span class="attr">opacity:</span> <span class="number">0.7</span> <span class="comment"># the opacity of line (0~1), default: 0.5.</span></span><br><span class="line">  <span class="attr">zIndex:</span> <span class="number">-1</span> <span class="comment"># z-index property of the background, default: -1.</span></span><br><span class="line">  <span class="attr">count:</span> <span class="number">99</span> <span class="comment"># the number of lines, default: 99.</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span> <span class="comment"># false æ‰‹æ©Ÿç«¯ä¸é¡¯ç¤º true æ‰‹æ©Ÿç«¯é¡¯ç¤º</span></span><br></pre></td></tr></tbody></table></figure></div><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-canvas_nest.gif" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-canvas_nest.gif" alt=""></a></p><h3 id="é¼ æ¨™é»æ“Šæ•ˆæœ"><a href="#é¼ æ¨™é»æ“Šæ•ˆæœ" class="headerlink" title="é¼ æ¨™é»æ“Šæ•ˆæœ"></a>é¼ æ¨™é»æ“Šæ•ˆæœ</h3><h4 id="ç…™èŠ±"><a href="#ç…™èŠ±" class="headerlink" title="ç…™èŠ±"></a>ç…™èŠ±</h4><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">fireworks:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></tbody></table></figure></div><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-firewall.gif" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-firewall.gif" alt=""></a></p><h4 id="æ„›å¿ƒ"><a href="#æ„›å¿ƒ" class="headerlink" title="æ„›å¿ƒ"></a>æ„›å¿ƒ</h4><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é»æ“Šå‡ºç¾æ„›å¿ƒ</span></span><br><span class="line"><span class="attr">click_heart:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></tbody></table></figure></div><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/click_love.gif" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/click_love.gif" alt=""></a></p><h4 id="æ–‡å­—"><a href="#æ–‡å­—" class="headerlink" title="æ–‡å­—"></a>æ–‡å­—</h4><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é»æ“Šå‡ºç¾æ–‡å­—ï¼Œæ–‡å­—å¯è‡ªè¡Œä¿®æ”¹</span></span><br><span class="line"><span class="attr">ClickShowText:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">text:</span> </span><br><span class="line">    <span class="bullet">-</span> <span class="string">å¯Œå¼·</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">æ°‘ä¸»</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">æ–‡æ˜</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">å’Œè«§</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">è‡ªç”±</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">å¹³ç­‰</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">å…¬æ­£</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">æ³•æ²»</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">æ„›åœ‹</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">æ•¬æ¥­</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">èª ä¿¡</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">å‹å–„</span></span><br><span class="line">  <span class="attr">fontSize:</span> <span class="string">15px</span></span><br></pre></td></tr></tbody></table></figure></div><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/click_word.gif" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/click_word.gif" alt=""></a></p><h3 id="é é¢ç¾åŒ–"><a href="#é é¢ç¾åŒ–" class="headerlink" title="é é¢ç¾åŒ–"></a>é é¢ç¾åŒ–</h3><p>æœƒæ”¹è®Š olã€ulã€h1-h5 çš„æ¨£å¼</p><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç¾åŒ–é é¢é¡¯ç¤º</span></span><br><span class="line"><span class="attr">beautify:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">title-prefix-icon:</span> <span class="string">'\f0c1'</span></span><br><span class="line">  <span class="attr">title-prefix-icon-color:</span> <span class="string">"#F47466"</span></span><br></pre></td></tr></tbody></table></figure></div><p><code>title-prefix-icon</code> å¡«å¯«çš„æ˜¯ fontawesome çš„ icon çš„ Unicode æ•¸ã€‚<br><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-fontwesome-unicode.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-fontwesome-unicode.png" alt=""></a></p><blockquote><p>æœªé–‹å•Ÿç¾åŒ–</p></blockquote><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-beautify.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-beautify.png" alt=""></a></p><blockquote><p>é–‹å•Ÿç¾åŒ–</p></blockquote><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-beautif.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-beautif.png" alt=""></a></p><h3 id="è‡ªå®šç¾©å­—é«”"><a href="#è‡ªå®šç¾©å­—é«”" class="headerlink" title="è‡ªå®šç¾©å­—é«”"></a>è‡ªå®šç¾©å­—é«”</h3><p>å¯è‡ªè¡Œè¨­ç½®å­—é«”çš„ <code>font-family</code></p><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">font:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">font-family:</span> <span class="string">Lato,</span> <span class="string">Helvetica</span> <span class="string">Neue</span> <span class="string">For</span> <span class="string">Number,</span> <span class="string">-apple-system,</span> <span class="string">BlinkMacSystemFont,</span> <span class="string">Segoe</span> <span class="string">UI,</span> <span class="string">Roboto,</span> <span class="string">PingFang</span> <span class="string">SC,</span> <span class="string">Hiragino</span> <span class="string">Sans</span> <span class="string">GB,"Microsoft</span> <span class="string">JhengHei",</span> <span class="string">"MicrMicrosoft YaHei"</span><span class="string">,</span> <span class="string">Helvetica</span> <span class="string">Neue,</span> <span class="string">Helvetica,</span> <span class="string">Arial,</span> <span class="string">sans-serif</span></span><br><span class="line">  <span class="attr">code-font:</span> <span class="string">consolas,</span> <span class="string">Menlo,</span> <span class="string">"PingFang SC"</span><span class="string">,</span> <span class="string">"Microsoft JhengHei"</span><span class="string">,"Microsoft</span> <span class="string">YaHei",</span> <span class="string">monospace,</span> <span class="string">Helvetica</span> <span class="string">Neue</span> <span class="string">For</span> <span class="string">Number</span></span><br></pre></td></tr></tbody></table></figure></div><h3 id="ç¶²ç«™å‰¯æ¨™é¡Œ"><a href="#ç¶²ç«™å‰¯æ¨™é¡Œ" class="headerlink" title="ç¶²ç«™å‰¯æ¨™é¡Œ"></a>ç¶²ç«™å‰¯æ¨™é¡Œ</h3><blockquote><p>é©ç”¨æ–¼ ç‰ˆæœ¬è™Ÿ &gt;= V1.2.0</p><p>V2.0.0 é–‹å§‹å¢åŠ ä¸€äº›ç¬¬ä¸‰æ–¹ api èª¿ç”¨</p></blockquote><p>å¯è¨­ç½®ä¸»é ä¸­é¡¯ç¤ºçš„ç¶²ç«™å‰¯æ¨™é¡Œæˆ–è€…å–œæ­¡çš„åº§å³éŠ˜ã€‚</p><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¸»é subtitle</span></span><br><span class="line"><span class="attr">subtitle:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># æ‰“å­—æ•ˆæœ</span></span><br><span class="line">  <span class="attr">effect:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># å¾ªç’°æˆ–è€…åªæ‰“å­—ä¸€æ¬¡</span></span><br><span class="line">  <span class="attr">loop:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># sourceèª¿ç”¨ç¬¬ä¸‰æ–¹æœå‹™</span></span><br><span class="line">  <span class="comment"># source: false é—œé–‰èª¿ç”¨</span></span><br><span class="line">  <span class="comment"># source: 1  èª¿ç”¨é‡‘å±±è©éœ¸çš„æ¯æ—¥ä¸€å¥ï¼ˆç°¡é«”ï¼‰</span></span><br><span class="line">  <span class="comment"># source: 2  èª¿ç”¨ä¸€è¨€ç¶²çš„ä¸€å¥è©±ï¼ˆç°¡é«”ï¼‰ #https://hitokoto.cn/</span></span><br><span class="line">  <span class="comment"># source: 3  èª¿ç”¨ä¸€å¥ç¶²ï¼ˆç°¡é«”ï¼‰ http://yijuzhan.com/</span></span><br><span class="line">  <span class="comment"># source: 4  èª¿ç”¨ä»Šæ—¥è©©è©ï¼ˆç°¡é«”ï¼‰ https://www.jinrishici.com/</span></span><br><span class="line">  <span class="comment"># subtitle æœƒå…ˆé¡¯ç¤º source , å†é¡¯ç¤º sub çš„å…§å®¹</span></span><br><span class="line">  <span class="attr">source:</span> <span class="number">2</span></span><br><span class="line">  <span class="comment"># (å¦‚æœæœ‰è‹±æ–‡é€—è™Ÿ' , 'ï¼Œè«‹ä½¿ç”¨è½‰ç¾©å­—ç¬¦ &amp;#44;)</span></span><br><span class="line">  <span class="comment"># å¦‚æœé—œé–‰æ‰“å­—æ•ˆæœï¼Œsubtitleåªæœƒé¡¯ç¤ºsubçš„ç¬¬ä¸€è¡Œæ–‡å­—</span></span><br><span class="line">  <span class="attr">sub:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">ä»Šæ—¥äº‹&amp;#44;ä»Šæ—¥ç•¢</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">Never</span> <span class="string">put</span> <span class="string">off</span> <span class="string">till</span> <span class="string">tomorrow</span> <span class="string">what</span> <span class="string">you</span> <span class="string">can</span> <span class="string">do</span> <span class="string">today</span></span><br></pre></td></tr></tbody></table></figure></div><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-index-subtitle.gif" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-index-subtitle.gif" alt=""></a></p><h3 id="ä¸»é top-imgé¡¯ç¤ºå¤§å°"><a href="#ä¸»é top-imgé¡¯ç¤ºå¤§å°" class="headerlink" title="ä¸»é top_imgé¡¯ç¤ºå¤§å°"></a>ä¸»é  top_img é¡¯ç¤ºå¤§å°</h3><blockquote><p>é©ç”¨æ–¼ ç‰ˆæœ¬è™Ÿ &gt;= V1.2.0</p></blockquote><p>é»˜èªçš„é¡¯ç¤ºç‚ºå…¨å±ã€‚site-info çš„å€åŸŸæœƒå±…ä¸­é¡¯ç¤º</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¸»é è¨­ç½®</span></span><br><span class="line"><span class="comment"># é»˜èªtop_imgå…¨å±ï¼Œsite_infoåœ¨ä¸­é–“</span></span><br><span class="line"><span class="comment"># ä½¿ç”¨é»˜èª, éƒ½ç„¡éœ€å¡«å¯«ï¼ˆå»ºè­°é»˜èªï¼‰</span></span><br><span class="line"><span class="attr">index_site_info_top:</span> <span class="comment"># ä¸»é æ¨™é¡Œè·é›¢é ‚éƒ¨è·é›¢  ä¾‹å¦‚ 300px/300em/300rem/10%</span></span><br><span class="line"><span class="attr">index_top_img_height:</span>  <span class="comment">#ä¸»é top_imgé«˜åº¦ ä¾‹å¦‚ 300px/300em/300rem  ä¸èƒ½ä½¿ç”¨ç™¾åˆ†æ¯”</span></span><br></pre></td></tr></tbody></table></figure></div><p>æ³¨æ„ï¼š<code>index_top_img_height</code> çš„å€¼ä¸èƒ½ä½¿ç”¨ç™¾åˆ†æ¯”ã€‚<br>2 å€‹éƒ½ä¸å¡«çš„è©±ï¼Œæœƒä½¿ç”¨é»˜èªå€¼</p><p>èˆ‰ä¾‹ï¼Œç•¶</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">index_top_img_height:</span> <span class="string">400px</span></span><br></pre></td></tr></tbody></table></figure></div><p>æ•ˆæœ</p><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-index-top-img-setting.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-index-top-img-setting.png" alt=""></a></p><h2 id="PWA"><a href="#PWA" class="headerlink" title="PWA"></a>PWA</h2><p>è¦ç‚º <code>Butterfly</code> é…ä¸Š PWA ç‰¹æ€§ï¼Œä½ éœ€è¦å¦‚ä¸‹å¹¾å€‹æ­¥é©Ÿ:</p><ol><li><p>æ‰“é–‹ hexo å·¥ä½œç›®éŒ„</p></li><li><p><code>npm install hexo-offline --save</code> æˆ–è€… <code>yarn add hexo-offline</code></p></li><li><p>ä¿®æ”¹<code>_config.yml</code> åœ¨ç«™é»<code>_config.yml</code> ä¸­å¢åŠ ä»¥ä¸‹å…§å®¹ã€‚</p></li></ol><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># offline config passed to sw-precache.</span></span><br><span class="line"><span class="attr">offline:</span></span><br><span class="line">  <span class="attr">maximumFileSizeToCacheInBytes:</span> <span class="number">10485760</span> <span class="comment"># ç·©å­˜çš„æœ€å¤§æ–‡ä»¶å¤§å°ï¼Œä»¥å­—ç¯€ç‚ºå–®ä½</span></span><br><span class="line">  <span class="attr">staticFileGlobs:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">public/**/*.{js,html,css,png,jpg,gif,svg,webp,eot,ttf,woff,woff2}</span></span><br><span class="line">  <span class="comment"># éœæ…‹æ–‡ä»¶åˆé›†ï¼Œå¦‚æœä½ çš„ç«™é»ä½¿ç”¨äº†ä¾‹å¦‚webpæ ¼å¼çš„æ–‡ä»¶ï¼Œè«‹å°‡æ–‡ä»¶é¡å‹æ·»åŠ é€²å»ã€‚</span></span><br><span class="line">  <span class="attr">stripPrefix:</span> <span class="string">public</span></span><br><span class="line">  <span class="attr">verbose:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">runtimeCaching:</span></span><br><span class="line">    <span class="comment"># CDNs - should be cacheFirst, since they should be used specific versions so should not change</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">urlPattern:</span> <span class="string">/*</span> <span class="comment"># å¦‚æœä½ éœ€è¦åŠ è¼‰CDNè³‡æºï¼Œè«‹é…ç½®è©²é¸é …ï¼Œå¦‚æœæ²’æœ‰ï¼Œå¯ä»¥ä¸é…ç½®ã€‚</span></span><br><span class="line">      <span class="attr">handler:</span> <span class="string">cacheFirst</span></span><br><span class="line">      <span class="attr">options:</span></span><br><span class="line">        <span class="attr">origin:</span> <span class="string">your_websie_url</span> <span class="comment"># å¯æ›¿æ›æˆä½ çš„ url</span></span><br></pre></td></tr></tbody></table></figure></div><p>æ›´å¤šå…§å®¹è«‹æŸ¥çœ‹ <a href="https://github.com/JLHwung/hexo-offline" target="_blank" rel="external nofollow noreferrer noopener">hexo-offline</a> çš„å®˜æ–¹æ–‡æª”</p><ol start="4"><li>åœ¨ <code>butterfly.yml</code> ä¸­é–‹å•Ÿ pwa é¸é …ã€‚</li></ol><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">pwa:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">manifest:</span> <span class="string">/img/pwa/manifest.json</span></span><br><span class="line">  <span class="attr">theme_color:</span> <span class="string">"#fff"</span></span><br><span class="line">  <span class="attr">apple_touch_icon:</span> <span class="string">/img/pwa/apple-touch-icon.png</span></span><br><span class="line">  <span class="attr">favicon_32_32:</span> <span class="string">/img/pwa/32.png</span></span><br><span class="line">  <span class="attr">favicon_16_16:</span> <span class="string">/img/pwa/16.png</span></span><br><span class="line">  <span class="attr">mask_icon:</span> <span class="string">/img/pwa/safari-pinned-tab.svg</span></span><br></pre></td></tr></tbody></table></figure></div><ol start="5"><li>åœ¨å‰µå»º <code>source/</code> ç›®éŒ„ä¸­å‰µå»º <code>manifest.json</code> æ–‡ä»¶ã€‚</li></ol><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">json</div></div><figure class="highlight json"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">    <span class="attr">"name"</span>: <span class="string">"string"</span>, <span class="comment">//æ‡‰ç”¨å…¨ç¨±</span></span><br><span class="line">    <span class="attr">"short_name"</span>: <span class="string">"Junzhou"</span>, <span class="comment">//æ‡‰ç”¨ç°¡ç¨±</span></span><br><span class="line">    <span class="attr">"theme_color"</span>: <span class="string">"#49b1f5"</span>, <span class="comment">//åŒ¹é…ç€è¦½å™¨çš„åœ°å€æ¬„é¡è‰²</span></span><br><span class="line">    <span class="attr">"background_color"</span>: <span class="string">"#49b1f5"</span>,<span class="comment">//åŠ è¼‰æ‡‰ç”¨æ™‚çš„èƒŒæ™¯è‰²</span></span><br><span class="line">    <span class="attr">"display"</span>: <span class="string">"standalone"</span>,<span class="comment">//é¦–é¸é¡¯ç¤ºæ¨¡å¼ å…¶ä»–é¸é …æœ‰ï¼šfullscreen,minimal-ui,browser</span></span><br><span class="line">    <span class="attr">"scope"</span>: <span class="string">"/"</span>,</span><br><span class="line">    <span class="attr">"start_url"</span>: <span class="string">"/"</span>,</span><br><span class="line">    <span class="attr">"icons"</span>: [ <span class="comment">//è©²æ•¸çµ„æŒ‡å®šiconsåœ–æ¨™åƒæ•¸ï¼Œç”¨ä¾†æ™‚é©é…ä¸åŒè¨­å‚™ï¼ˆéœ€ç‚ºpngï¼Œè‡³å°‘åŒ…å«ä¸€å€‹192px*192pxçš„åœ–æ¨™ï¼‰</span></span><br><span class="line">        {</span><br><span class="line">          <span class="attr">"src"</span>: <span class="string">"images/pwaicons/36.png"</span>, <span class="comment">//åœ–æ¨™æ–‡ä»¶çš„ç›®éŒ„ï¼Œéœ€åœ¨source/ç›®éŒ„ä¸‹è‡ªè¡Œå‰µå»ºã€‚</span></span><br><span class="line">          <span class="attr">"sizes"</span>: <span class="string">"36x36"</span>,</span><br><span class="line">          <span class="attr">"type"</span>: <span class="string">"image/png"</span></span><br><span class="line">        },</span><br><span class="line">        {</span><br><span class="line">            <span class="attr">"src"</span>: <span class="string">"images/pwaicons/48.png"</span>,</span><br><span class="line">          <span class="attr">"sizes"</span>: <span class="string">"48x48"</span>,</span><br><span class="line">          <span class="attr">"type"</span>: <span class="string">"image/png"</span></span><br><span class="line">        },</span><br><span class="line">        {</span><br><span class="line">          <span class="attr">"src"</span>: <span class="string">"images/pwaicons/72.png"</span>,</span><br><span class="line">          <span class="attr">"sizes"</span>: <span class="string">"72x72"</span>,</span><br><span class="line">          <span class="attr">"type"</span>: <span class="string">"image/png"</span></span><br><span class="line">        },</span><br><span class="line">        {</span><br><span class="line">          <span class="attr">"src"</span>: <span class="string">"images/pwaicons/96.png"</span>,</span><br><span class="line">          <span class="attr">"sizes"</span>: <span class="string">"96x96"</span>,</span><br><span class="line">          <span class="attr">"type"</span>: <span class="string">"image/png"</span></span><br><span class="line">        },</span><br><span class="line">        {</span><br><span class="line">          <span class="attr">"src"</span>: <span class="string">"images/pwaicons/144.png"</span>,</span><br><span class="line">          <span class="attr">"sizes"</span>: <span class="string">"144x144"</span>,</span><br><span class="line">          <span class="attr">"type"</span>: <span class="string">"image/png"</span></span><br><span class="line">        },</span><br><span class="line">        {</span><br><span class="line">          <span class="attr">"src"</span>: <span class="string">"images/pwaicons/192.png"</span>,</span><br><span class="line">          <span class="attr">"sizes"</span>: <span class="string">"192x192"</span>,</span><br><span class="line">          <span class="attr">"type"</span>: <span class="string">"image/png"</span></span><br><span class="line">        },</span><br><span class="line">        {</span><br><span class="line">            <span class="attr">"src"</span>: <span class="string">"images/pwaicons/512.png"</span>,</span><br><span class="line">            <span class="attr">"sizes"</span>: <span class="string">"512x512"</span>,</span><br><span class="line">            <span class="attr">"type"</span>: <span class="string">"image/png"</span></span><br><span class="line">          }</span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">"splash_pages"</span>: <span class="literal">null</span> <span class="comment">//é…ç½®è‡ªå®šç¾©å•Ÿå‹•å‹•ç•«ã€‚</span></span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure></div><p>ä½ ä¹Ÿå¯ä»¥é€šé <a href="https://app-manifest.firebaseapp.com/" target="_blank" rel="external nofollow noreferrer noopener">Web App Manifest</a> å¿«é€Ÿå‰µå»º <code>manifest.json</code>ã€‚ï¼ˆWeb App Manifest è¦æ±‚è‡³å°‘åŒ…å«ä¸€å€‹ 512*512 åƒç´ çš„åœ–æ¨™ï¼‰</p><ol start="6"><li><p>å¯ä»¥é€šé <code>Chrome</code> æ’ä»¶ <code>Lighthouse</code> æª¢æŸ¥ PWA é…ç½®æ˜¯å¦ç”Ÿæ•ˆä»¥åŠé…ç½®æ˜¯å¦æ­£ç¢ºã€‚</p><ul><li>æ‰“é–‹åšå®¢é é¢</li><li>å•Ÿå‹• <code>Lighthouse</code> æ’ä»¶ (<code>Lighthouse</code> æ’ä»¶è¦æ±‚è‡³å°‘åŒ…å«ä¸€å€‹ 512*512 åƒç´ çš„åœ–æ¨™)</li></ul></li></ol><p>é—œæ–¼ PWAï¼ˆæ¼¸é€²å¼å¢å¼· Web æ‡‰ç”¨ï¼‰çš„æ›´å¤šå…§å®¹è«‹åƒé–² <a href="https://developers.google.com/web/tools/lighthouse/audits/address-bar" target="_blank" rel="external nofollow noreferrer noopener">Google Tools for Web Developers</a></p><h2 id="å­—æ•¸çµ±è¨ˆ"><a href="#å­—æ•¸çµ±è¨ˆ" class="headerlink" title="å­—æ•¸çµ±è¨ˆ"></a>å­—æ•¸çµ±è¨ˆ</h2><p>è¦ç‚º <code>Butterfly</code> é…ä¸Šå­—æ•¸çµ±è¨ˆç‰¹æ€§ï¼Œä½ éœ€è¦å¦‚ä¸‹å¹¾å€‹æ­¥é©Ÿ:</p><ol><li><p>æ‰“é–‹ hexo å·¥ä½œç›®éŒ„</p></li><li><p><code>npm install hexo-wordcount --save</code> or <code>yarn add hexo-wordcount</code></p></li><li><p>é…ç½® <code>butterfly.yml</code>:</p></li></ol><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">wordcount:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">post_wordcount:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">min2read:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">total_wordcount:</span> <span class="literal">true</span></span><br></pre></td></tr></tbody></table></figure></div><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-word-count.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-word-count.png" alt=""></a><br><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-wordcount-totalcount.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-wordcount-totalcount.png" alt=""></a></p><h2 id="æ–‡ç« ç½®é ‚"><a href="#æ–‡ç« ç½®é ‚" class="headerlink" title="æ–‡ç« ç½®é ‚"></a>æ–‡ç« ç½®é ‚</h2><p>è¦ç‚ºä½ ä¸€äº›æ–‡ç« ç½®é ‚ï¼Œä½ éœ€è¦å¦‚ä¸‹æ­¥é©Ÿ:</p><ol><li>æ‰“é–‹ hexo å·¥ä½œç›®éŒ„</li><li><code>npm uninstall hexo-generator-index --save</code> ç„¶å¾Œ <code>npm install hexo-generator-index-pin-top --save</code></li><li>ä½ è¦åœ¨æ–‡ç« çš„ <code>front-matter</code> å€åŸŸè£æ·»åŠ  <code>top: True</code> å±¬æ€§ä¾†æŠŠé€™ç¯‡æ–‡ç« ç½®é ‚ã€‚</li><li>ä½ å¯ä»¥åƒè€ƒ <a href="https://github.com/netcan/hexo-generator-index-pin-top" target="_blank" rel="external nofollow noreferrer noopener">hexo-generator-index-pin-top</a> é€™å€‹å€‰åº«ä¾†äº†è§£æ›´å¤šç´°ç¯€ã€‚</li></ol><p>èˆ‰å€‹ä¾‹å­:</p><p>ä½ çš„æŸç¯‡æ–‡ç« é–‹é ­å¦‚ä¸‹ï¼š</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">md</div></div><figure class="highlight md"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">title: xxxx</span><br><span class="line">tags:</span><br><span class="line"><span class="bullet">  - </span>xxx</span><br><span class="line">date: 2018-08-08 08:08:08</span><br><span class="line">---</span><br><span class="line">// ....</span><br></pre></td></tr></tbody></table></figure></div><p>ç¾åœ¨æŠŠ <code>top: True</code> åŠ é€²å»ï¼š</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">md</div></div><figure class="highlight md"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">title: xxxx</span><br><span class="line">tags:</span><br><span class="line"><span class="bullet">  - </span>xxx</span><br><span class="line">date: 2018-08-08 08:08:08</span><br><span class="line">top: True</span><br><span class="line">---</span><br><span class="line">// ....</span><br></pre></td></tr></tbody></table></figure></div><h2 id="åœ–ç‰‡å¤§åœ–æŸ¥çœ‹æ¨¡å¼"><a href="#åœ–ç‰‡å¤§åœ–æŸ¥çœ‹æ¨¡å¼" class="headerlink" title="åœ–ç‰‡å¤§åœ–æŸ¥çœ‹æ¨¡å¼"></a>åœ–ç‰‡å¤§åœ–æŸ¥çœ‹æ¨¡å¼</h2><h3 id="fancybox"><a href="#fancybox" class="headerlink" title="fancybox"></a>fancybox</h3><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># fancybox http://fancyapps.com/fancybox/3/</span></span><br><span class="line"><span class="attr">fancybox:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></tbody></table></figure></div><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/fancybox.gif" target="_blank" rel="noopener" data-fancybox="group" data-caption="fancybox.gif" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/fancybox.gif" alt="fancybox.gif"></a></p><h3 id="medium-zoom"><a href="#medium-zoom" class="headerlink" title="medium_zoom"></a>medium_zoom</h3><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">medium_zoom:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></tbody></table></figure></div><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/medium_zoom.gif" target="_blank" rel="noopener" data-fancybox="group" data-caption="medium_zoom.gif" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/medium_zoom.gif" alt="medium_zoom.gif"></a></p><h2 id="Snackbar-å½ˆçª—"><a href="#Snackbar-å½ˆçª—" class="headerlink" title="Snackbar å½ˆçª—"></a>Snackbar å½ˆçª—</h2><p>Snackbar å½ˆçª—ï¼Œæ ¹æ“šè‡ªå·±æ„›å¥½é–‹å•Ÿ</p><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">yaml</div></div><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Snackbar å½ˆçª—</span></span><br><span class="line"><span class="comment"># https://github.com/polonel/SnackBar</span></span><br><span class="line"><span class="comment"># position å½ˆçª—ä½ç½®</span></span><br><span class="line"><span class="comment"># å¯é¸ top-left / top-center / top-right / bottom-left / bottom-center / bottom-right</span></span><br><span class="line"><span class="attr">snackbar:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">bottom-left</span></span><br><span class="line">  <span class="attr">bg_light:</span> <span class="string">'#49b1f5'</span> <span class="comment">#light modeæ™‚å½ˆçª—èƒŒæ™¯</span></span><br><span class="line">  <span class="attr">bg_dark:</span> <span class="string">'#2d3035'</span> <span class="comment">#dark modeæ™‚å½ˆçª—èƒŒæ™¯</span></span><br></pre></td></tr></tbody></table></figure></div><blockquote><p>æœªé–‹å•Ÿ Snackbar</p></blockquote><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/snackbar_false.gif" target="_blank" rel="noopener" data-fancybox="group" data-caption="snackbar_false.gif" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/snackbar_false.gif" alt="snackbar_false.gif"></a></p><blockquote><p> é–‹å•Ÿ Snackbar</p></blockquote><p><a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/snackbar_true.gif" target="_blank" rel="noopener" data-fancybox="group" data-caption="snackbar_true.gif" class="fancybox"><img src="/img/loading.gif" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/snackbar_true.gif" alt="snackbar_true.gif"></a></p><h2 id="è±†ç“£"><a href="#è±†ç“£" class="headerlink" title="è±†ç“£"></a>è±†ç“£</h2><p>å¾ˆå¤šäººä½¿ç”¨ <a href="https://github.com/mythsman/hexo-douban" target="_blank" rel="external nofollow noreferrer noopener">hexo-douban</a> é€™æ¬¾æ’ä»¶ã€‚ä½†æ˜¯è©²æ’ä»¶æ˜¯ç›´æ¥ç”Ÿæˆç›¸æ‡‰çš„ç¶²é ï¼Œè€Œä¸æœƒå»è®€å–å°æ‡‰çš„ markdown æ–‡ä»¶ã€‚å› æ­¤ï¼Œå¯åœ¨è¨­ç½®è£é€²è¡Œç›¸æ‡‰çš„é…ç½®ã€‚</p><p>é…ç½® <code>butterfly.yml</code></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code-lang">markdown</div></div><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># å¦‚æœä½ æœ‰ä½¿ç”¨hexo-doubanï¼Œå¯é…ç½®é€™å€‹</span></span><br><span class="line">douban:</span><br><span class="line">  meta: true</span><br><span class="line">  movies<span class="emphasis">_img: https://cdn.jsdelivr.net/gh/jerryc127/butterfly_</span>cdn@2.1.0/top_img/movie.jpg</span><br><span class="line">  books_img:</span><br><span class="line">  games_img:</span><br></pre></td></tr></tbody></table></figure></div><p>ç”±æ–¼è±†ç“£é–‹å•Ÿäº†åç›œéˆï¼Œå› æ­¤ï¼Œä¸€äº›ç€è¦½å™¨ï¼ˆsafariï¼‰æœƒç„¡æ³•é¡¯ç¤ºåœ–ç‰‡ï¼Œå¯æŠŠ <code>meta</code> è¨­ç‚º trueã€‚ä½†æ­¤æ“ä½œæœƒå°è‡´ä¸€äº›æ’ä»¶å¤±æ•ˆï¼ˆä¾‹å¦‚ï¼šä¸è’œå­ï¼‰ã€‚</p></div>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="Butterflyæ–‡æ¡£" scheme="http://linuxwf.com/categories/Butterfly%E6%96%87%E6%A1%A3/"/>
    
    
      <category term="hexo" scheme="http://linuxwf.com/tags/hexo/"/>
    
      <category term="hexoä¸»é¢˜" scheme="http://linuxwf.com/tags/hexo%E4%B8%BB%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>hexo-theme-butterfly å®‰è£…æ–‡æ¡£ï¼ˆäºŒï¼‰ä¸»é¢˜é¡µé¢</title>
    <link href="http://linuxwf.com/2020/04/08/hexo-theme-butterfly-%E5%AE%89%E8%A3%85%E6%96%87%E6%A1%A3%EF%BC%88%E4%BA%8C%EF%BC%89%E4%B8%BB%E9%A2%98%E9%A1%B5%E9%9D%A2/"/>
    <id>http://linuxwf.com/2020/04/08/hexo-theme-butterfly-%E5%AE%89%E8%A3%85%E6%96%87%E6%A1%A3%EF%BC%88%E4%BA%8C%EF%BC%89%E4%B8%BB%E9%A2%98%E9%A1%B5%E9%9D%A2/</id>
    <published>2020-04-08T07:20:00.000Z</published>
    <updated>2020-04-08T08:52:11.329Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>æœ¬æ–‡è½¬è½½è‡ª <a href="https://jerryc.me/posts/dc584b87/#Page-Front-matter" target="_blank" rel="noopener">https://jerryc.me/posts/dc584b87/#Page-Front-matter</a></p><h1 id="Page-Front-matter"><a href="#Page-Front-matter" class="headerlink" title="Page Front-matter"></a>Page Front-matter</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">--- </span><br><span class="line">title: </span><br><span class="line">date: </span><br><span class="line">type: (tags,link,categoriesè¿™ä¸‰ä¸ªé¡µé¢éœ€è¦é…ç½®) </span><br><span class="line">comments: (æ˜¯å¦éœ€è¦æ˜¾ç¤ºè¯„è®ºï¼Œé»˜è®¤true) </span><br><span class="line">description: </span><br><span class="line">top_img: (è®¾ç½®é¡¶éƒ¨å›¾) </span><br><span class="line">mathjax: </span><br><span class="line">katex: </span><br><span class="line">aside: </span><br><span class="line">-- -</span><br></pre></td></tr></table></figure><h1 id="Post-Front-matte"><a href="#Post-Front-matte" class="headerlink" title="Post Front-matte"></a>Post Front-matte</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">--- </span><br><span class="line">title: </span><br><span class="line">date: </span><br><span class="line">tags: </span><br><span class="line">categories: </span><br><span class="line">keywords: </span><br><span class="line">description: </span><br><span class="line">top_img: (é™¤éç‰¹å®šéœ€è¦ï¼Œå¯ä»¥ä¸å†™) </span><br><span class="line">commentsæ˜¯å¦æ˜¾ç¤ºè¯„è®º(é™¤éè®¾ç½®false,å¯ä»¥ä¸å†™) </span><br><span class="line">cover:ç¼©ç•¥å›¾</span><br><span class="line">toc:æ˜¯å¦æ˜¾ç¤ºtoc (é™¤éç‰¹å®šæ–‡ç« è®¾ç½®ï¼Œå¯ä»¥ä¸å†™) </span><br><span class="line">toc_number:æ˜¯å¦æ˜¾ç¤ºtocæ•°å­—(é™¤éç‰¹å®šæ–‡ç« è®¾ç½®ï¼Œå¯ä»¥ä¸å†™) </span><br><span class="line">copyright:æ˜¯å¦æ˜¾ç¤ºç‰ˆæƒ(é™¤éç‰¹å®šæ–‡ç« è®¾ç½®ï¼Œå¯ä»¥ä¸å†™) </span><br><span class="line">mathjax: </span><br><span class="line">katex: </span><br><span class="line">hide: </span><br><span class="line">---</span><br></pre></td></tr></table></figure><h1 id="æ ‡ç­¾é¡µ"><a href="#æ ‡ç­¾é¡µ" class="headerlink" title="æ ‡ç­¾é¡µ"></a>æ ‡ç­¾é¡µ</h1><ol><li><p>å‰å¾€ä½ çš„Hexo åšå®¢çš„æ ¹ç›®å½•</p></li><li><p>è¾“å…¥ hexo new page tags</p></li><li><p>ä½ ä¼šæ‰¾åˆ°source/tags/index.mdè¿™ä¸ªæ–‡ä»¶</p></li><li><p>ä¿®æ”¹è¿™ä¸ªæ–‡ä»¶ï¼š</p></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">--- </span><br><span class="line">title:æ ‡ç­¾</span><br><span class="line">date: 2018-01-05 00:00:00 </span><br><span class="line">type: &quot;tags&quot;</span><br><span class="line">comments: false</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h1 id="åˆ†ç±»é¡µ"><a href="#åˆ†ç±»é¡µ" class="headerlink" title="åˆ†ç±»é¡µ"></a>åˆ†ç±»é¡µ</h1><ol><li><p>å‰å¾€ä½ çš„Hexo åšå®¢çš„æ ¹ç›®å½•</p></li><li><p>è¾“å…¥ hexo new page categories</p></li><li><p>ä½ ä¼šæ‰¾åˆ°source/categories/index.mdè¿™ä¸ªæ–‡ä»¶</p></li><li><p>ä¿®æ”¹è¿™ä¸ªæ–‡ä»¶ï¼š</p></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">--- </span><br><span class="line">title:åˆ†ç±»</span><br><span class="line">date: 2018-01-05 00:00:00 </span><br><span class="line">type: &quot;categories&quot; </span><br><span class="line">comments: false</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h1 id="å‹æƒ…é“¾æ¥"><a href="#å‹æƒ…é“¾æ¥" class="headerlink" title="å‹æƒ…é“¾æ¥"></a>å‹æƒ…é“¾æ¥</h1><p>ä¸ºä½ çš„åšå®¢åˆ›å»ºä¸€ä¸ªå‹æƒ…é“¾æ¥ï¼</p><h2 id="åˆ›å»ºå‹æƒ…é“¾æ¥é¡µé¢"><a href="#åˆ›å»ºå‹æƒ…é“¾æ¥é¡µé¢" class="headerlink" title="åˆ›å»ºå‹æƒ…é“¾æ¥é¡µé¢"></a>åˆ›å»ºå‹æƒ…é“¾æ¥é¡µé¢</h2><ol><li><p>å‰å¾€ä½ çš„ Hexo åšå®¢çš„æ ¹ç›®å½•</p></li><li><p>è¾“å…¥ hexo new page link</p></li><li><p>ä½ ä¼šæ‰¾åˆ°source/link/index.mdè¿™ä¸ªæ–‡ä»¶</p></li><li><p>ä¿®æ”¹è¿™ä¸ªæ–‡ä»¶ï¼š</p></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">--- </span><br><span class="line">title:å‹æƒ…é“¾æ¥</span><br><span class="line">date: 2018-06-07 22:17:49 </span><br><span class="line">type: &quot;link&quot; </span><br><span class="line">comments: false</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h2 id="å‹æƒ…é“¾æ¥æ·»åŠ "><a href="#å‹æƒ…é“¾æ¥æ·»åŠ " class="headerlink" title="å‹æƒ…é“¾æ¥æ·»åŠ "></a>å‹æƒ…é“¾æ¥æ·»åŠ </h2><p>åœ¨Hexoåšå®¢ç›®å½•ä¸­çš„source/_dataï¼Œåˆ›å»ºä¸€ä¸ªæ–‡ä»¶link.yml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">class:</span></span><br><span class="line">  <span class="attr">class_name:</span> <span class="string">å‹æƒ…éˆæ¥</span></span><br><span class="line">  <span class="attr">link_list:</span></span><br><span class="line">    <span class="attr">1:</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">xxx</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://blog.xxx.com</span></span><br><span class="line">      <span class="attr">avatar:</span> <span class="string">https://cdn.xxxxx.top/avatar.png</span></span><br><span class="line">      <span class="attr">descr:</span> <span class="string">xxxxxxx</span></span><br><span class="line">    <span class="attr">2:</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">xxxxxx</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://www.xxxxxxcn/</span></span><br><span class="line">      <span class="attr">avatar:</span> <span class="string">https://xxxxx/avatar.png</span></span><br><span class="line">      <span class="attr">descr:</span> <span class="string">xxxxxxx</span>  </span><br><span class="line"></span><br><span class="line"> <span class="attr">class2:</span></span><br><span class="line">   <span class="attr">class_name:</span> <span class="string">éˆæ¥ç„¡æ•ˆ</span></span><br><span class="line">   <span class="attr">link_list:</span></span><br><span class="line">     <span class="attr">1:</span></span><br><span class="line">       <span class="attr">name:</span> <span class="string">å¤¢xxx</span></span><br><span class="line">       <span class="attr">link:</span> <span class="string">https://blog.xxx.com</span></span><br><span class="line">       <span class="attr">avatar:</span> <span class="string">https://xxxx/avatar.png</span></span><br><span class="line">       <span class="attr">descr:</span> <span class="string">xxxx</span></span><br><span class="line">     <span class="attr">2:</span></span><br><span class="line">       <span class="attr">name:</span> <span class="string">xx</span></span><br><span class="line">       <span class="attr">link:</span> <span class="string">https://www.axxxx.cn/</span></span><br><span class="line">       <span class="attr">avatar:</span> <span class="string">https://x</span></span><br><span class="line">       <span class="attr">descr:</span> <span class="string">xx</span></span><br></pre></td></tr></table></figure><h2 id="å‹æƒ…éˆæ¥ç•Œé¢è¨­ç½®"><a href="#å‹æƒ…éˆæ¥ç•Œé¢è¨­ç½®" class="headerlink" title="å‹æƒ…éˆæ¥ç•Œé¢è¨­ç½®"></a>å‹æƒ…éˆæ¥ç•Œé¢è¨­ç½®</h2><p>ç”± 2.2.0 èµ·ï¼Œå‹æƒ…éˆæ¥ç•Œé¢å¯ä»¥ç”±ç”¨æˆ·è‡ªå·±è‡ªå®šç¾©ï¼Œåªéœ€è¦åœ¨å‹æƒ…éˆæ¥çš„ md æª”è¨­ç½®å°±è¡Œï¼Œä»¥æ™®é€šçš„ Markdown æ ¼å¼æ›¸å¯«ã€‚</p><h1 id="éŸ³æ¨‚"><a href="#éŸ³æ¨‚" class="headerlink" title="éŸ³æ¨‚"></a>éŸ³æ¨‚</h1><p>éŸ³æ¨‚ç•Œé¢ä½¿ç”¨äº†æ’ä»¶ <a href="https://github.com/MoePlayer/hexo-tag-aplayerã€‚" target="_blank" rel="noopener">https://github.com/MoePlayer/hexo-tag-aplayerã€‚</a></p><p>ä½¿ç”¨æ–¹æ³•è«‹åƒè€ƒæ’ä»¶çš„æ–‡æª”ã€‚</p><p>éŸ³æ¨‚é é¢åªæ˜¯æ™®é€šçš„ page é ï¼ŒæŒ‰æ™®é€šé é¢æ“ä½œç”Ÿæˆå°±è¡Œã€‚</p><h1 id="é›»å½±"><a href="#é›»å½±" class="headerlink" title="é›»å½±"></a>é›»å½±</h1><p>é›»å½±ç•Œé¢ä½¿ç”¨äº†æ’ä»¶ <a href="https://github.com/mythsman/hexo-doubanã€‚" target="_blank" rel="noopener">https://github.com/mythsman/hexo-doubanã€‚</a></p><p>ä½¿ç”¨æ–¹æ³•è«‹åƒè€ƒæ’ä»¶çš„æ–‡æª”ã€‚</p><p>æ³¨æ„ï¼šhexo-douban æœƒä¸»å‹•ç”Ÿæˆé é¢ï¼Œæ‰€ä»¥ä¸éœ€è¦è‡ªå·±å‰µå»ºã€‚å°æ‡‰ç¶²é çš„ top_img å¯ä»¥ butterfly.yml ä¿®æ”¹ã€‚</p><h1 id="404-é é¢"><a href="#404-é é¢" class="headerlink" title="404 é é¢"></a>404 é é¢</h1><p>ä¸»é¡Œå…§ç½®äº†ä¸€å€‹ç°¡å–®çš„ 404 é é¢ï¼Œå¯åœ¨è¨­ç½®ä¸­é–‹å•Ÿ</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># A simple 404 page</span></span><br><span class="line"><span class="attr">error_404:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">subtitle:</span> <span class="string">"é é¢æ²’æœ‰æ‰¾åˆ°"</span></span><br><span class="line">  <span class="attr">background:</span></span><br></pre></td></tr></table></figure><p><img src="/" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-error404.png"  alt="img"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="Butterflyæ–‡æ¡£" scheme="http://linuxwf.com/categories/Butterfly%E6%96%87%E6%A1%A3/"/>
    
    
      <category term="hexo" scheme="http://linuxwf.com/tags/hexo/"/>
    
      <category term="hexoä¸»é¢˜" scheme="http://linuxwf.com/tags/hexo%E4%B8%BB%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>hexo-theme-butterfly å®‰è£æ–‡æª”ï¼ˆä¸€ï¼‰å¿«é€Ÿé–‹å§‹</title>
    <link href="http://linuxwf.com/2020/04/08/hexo-theme-butterfly-%E5%AE%89%E8%A3%9D%E6%96%87%E6%AA%94%EF%BC%88%E4%B8%80%EF%BC%89%E5%BF%AB%E9%80%9F%E9%96%8B%E5%A7%8B-1/"/>
    <id>http://linuxwf.com/2020/04/08/hexo-theme-butterfly-%E5%AE%89%E8%A3%9D%E6%96%87%E6%AA%94%EF%BC%88%E4%B8%80%EF%BC%89%E5%BF%AB%E9%80%9F%E9%96%8B%E5%A7%8B-1/</id>
    <published>2020-04-08T06:35:00.000Z</published>
    <updated>2020-04-08T08:51:45.832Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>æœ¬æ–‡è½¬è½½è‡ª <a href="https://jerryc.me/posts/21cfbf15/#å®‰è£" target="_blank" rel="noopener">https://jerryc.me/posts/21cfbf15/#%E5%AE%89%E8%A3%9D</a></p><h1 id="å¿«é€Ÿå¼€å§‹"><a href="#å¿«é€Ÿå¼€å§‹" class="headerlink" title="å¿«é€Ÿå¼€å§‹"></a>å¿«é€Ÿå¼€å§‹</h1><p>hexo-theme-butterfly æ˜¯åŸºäºMolunerfinnçš„hexo-theme-melodyçš„åŸºç¡€ä¸Šè¿›è¡Œå¼€å‘çš„ã€‚<br>æ–‡æ¡£ä¹Ÿæ˜¯åœ¨hexo-theme-melodyçš„æ–‡æ¡£åŸºç¡€ä¸Šä¿®æ”¹ã€‚å› ä¸ºä¸€äº›é…ç½®å˜æ›´å¯¼è‡´ä¸åŸä¸»é¢˜é…ç½®ä¸Šæœ‰éƒ¨åˆ†åŒºåˆ«ã€‚æ•…å¦‚æœå®‰è£…hexo-theme-butterflyä¸»é¢˜ï¼Œè¯·å‚è€ƒè¿™ç¯‡æ–‡æ¡£ã€‚</p><h2 id="ä¸»é¢˜å®‰è£…å’Œå‡çº§"><a href="#ä¸»é¢˜å®‰è£…å’Œå‡çº§" class="headerlink" title="ä¸»é¢˜å®‰è£…å’Œå‡çº§"></a>ä¸»é¢˜å®‰è£…å’Œå‡çº§</h2><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><p>åœ¨ä½ çš„åšå®¢æ ¹ç›®å½•é‡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/Butterfly</span><br></pre></td></tr></table></figure><p>å¦‚æœæƒ³è¦å®‰è£…æ¯”è¾ƒæ–°çš„dev åˆ†æ”¯ï¼Œå¯ä»¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> -b dev https://github.com/jerryc127/hexo-theme-butterfly.git themes/Butterfly</span><br></pre></td></tr></table></figure><h3 id="åº”ç”¨ä¸»é¢˜"><a href="#åº”ç”¨ä¸»é¢˜" class="headerlink" title="åº”ç”¨ä¸»é¢˜"></a>åº”ç”¨ä¸»é¢˜</h3><p>ä¿®æ”¹ç«™ç‚¹é…ç½®æ–‡ä»¶_config.ymlï¼ŒæŠŠä¸»é¢˜æ”¹ä¸ºButterfly</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">theme:  Butterfly</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ æ²¡æœ‰pugä»¥åŠstylusçš„æ¸²æŸ“å™¨ï¼Œè¯·ä¸‹è½½å®‰è£…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-renderer-pug hexo-renderer-stylus --save</span><br><span class="line">æˆ–è€… </span><br><span class="line">yarn add hexo-renderer-pug hexo-renderer-stylus</span><br></pre></td></tr></table></figure><h3 id="å¹³æ»‘å‡çº§"><a href="#å¹³æ»‘å‡çº§" class="headerlink" title="å¹³æ»‘å‡çº§"></a>å¹³æ»‘å‡çº§</h3><p>ä¸ºäº†ä¸»é¢˜çš„å¹³æ»‘å‡çº§ï¼ŒButterflyä½¿ç”¨äº†data filesç‰¹æ€§ã€‚</p><p>æ¨èæŠŠä¸»é¢˜é»˜è®¤çš„é…ç½®æ–‡ä»¶_config.ymlå¤åˆ¶åˆ° Hexoå·¥ä½œç›®å½•ä¸‹çš„ source/_data/butterfly.ymlï¼Œå¦‚æœsource/_dataçš„ç›®å½•ä¸å­˜åœ¨é‚£å°±åˆ›å»ºä¸€ä¸ªã€‚</p><p>æ³¨æ„ï¼Œå¦‚æœä½ åˆ›å»ºäº†butterfly.yml,å®ƒå°†ä¼šæ›¿æ¢ä¸»é¢˜é»˜è®¤é…ç½®æ–‡ä»¶_config.ymlé‡Œçš„é…ç½®é¡¹( ä¸æ˜¯åˆå¹¶è€Œæ˜¯æ›¿æ¢ ),ä¹‹åä½ å°±åªéœ€è¦é€šè¿‡git pullçš„æ–¹å¼å°±å¯ä»¥å¹³æ»‘åœ°å‡çº§theme-butterflyäº†ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="Butterflyæ–‡æ¡£" scheme="http://linuxwf.com/categories/Butterfly%E6%96%87%E6%A1%A3/"/>
    
    
      <category term="hexo" scheme="http://linuxwf.com/tags/hexo/"/>
    
      <category term="hexoä¸»é¢˜" scheme="http://linuxwf.com/tags/hexo%E4%B8%BB%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://linuxwf.com/2020/04/08/hello-world/"/>
    <id>http://linuxwf.com/2020/04/08/hello-world/</id>
    <published>2020-04-08T02:25:19.997Z</published>
    <updated>2020-04-08T02:25:19.997Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
  </entry>
  
</feed>
