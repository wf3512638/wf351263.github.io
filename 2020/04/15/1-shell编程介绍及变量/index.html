<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>1.shell编程介绍及变量 | WF's Blog</title><meta name="description" content="1.shell编程介绍及变量"><meta name="keywords" content="shell"><meta name="author" content="Wu Fei"><meta name="copyright" content="Wu Fei"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://hm.baidu.com"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="1.shell编程介绍及变量"><meta name="twitter:description" content="1.shell编程介绍及变量"><meta name="twitter:image" content="http://linuxwf.com/img/63060960_p0.jpg"><meta property="og:type" content="article"><meta property="og:title" content="1.shell编程介绍及变量"><meta property="og:url" content="http://linuxwf.com/2020/04/15/1-shell%E7%BC%96%E7%A8%8B%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%8F%98%E9%87%8F/"><meta property="og:site_name" content="WF's Blog"><meta property="og:description" content="1.shell编程介绍及变量"><meta property="og:image" content="http://linuxwf.com/img/63060960_p0.jpg"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode = '1'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  var isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  var isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  var isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><link rel="canonical" href="http://linuxwf.com/2020/04/15/1-shell%E7%BC%96%E7%A8%8B%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%8F%98%E9%87%8F/"><link rel="prev" title="2.Shell脚本的条件测试与比较" href="http://linuxwf.com/2020/04/15/2-Shell%E8%84%9A%E6%9C%AC%E7%9A%84%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95%E4%B8%8E%E6%AF%94%E8%BE%83/"><link rel="next" title="Mongo命令与副本集" href="http://linuxwf.com/2020/04/15/Mongo%E5%91%BD%E4%BB%A4%E4%B8%8E%E5%89%AF%E6%9C%AC%E9%9B%86/"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.5/dist/instantsearch.min.css"><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.5/dist/instantsearch.min.js" defer></script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?bf8fa809dbe0a82b3d983accb9d256fe";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: {"appId":"GQXJKQPX6A","apiKey":"9d6901decfc3e9736a8f99965d4fc700","indexName":"my_blog","hits":{"per_page":6},"languages":{"input_placeholder":"搜索文章","hits_empty":"找不到您查询的内容:${query}","hits_stats":"找到 ${hits} 条结果，用时 ${time} 毫秒"}},
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: {"bookmark":{"message_prev":"按","message_next":"键将本页加入书签"},"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#2d3035","position":"bottom-left"},
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  highlightShrink: 'false',
  isFontAwesomeV5: true,
  isPhotoFigcaption: false
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: true  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="WF's Blog" type="application/atom+xml">
</head><body><canvas class="fireworks"></canvas><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">58</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">39</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">9</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 娱乐</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/video/"><i class="fa-fw fa fa-video"></i><span> 视频</span></a></li><li><a class="site-page" href="/Gallery/"><i class="fa-fw far fa-images"></i><span> 照片</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 电影</span></a></li><li><a class="site-page" href="/books/"><i class="fa-fw fa fa-book"></i><span> 书籍</span></a></li><li><a class="site-page" href="/games/"><i class="fa-fw fa fa-gamepad"></i><span> Game</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa-fw fa fa-coffee"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#shell编程介绍及变量"><span class="toc-number">1.</span> <span class="toc-text">shell编程介绍及变量</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#第1章-如何学好shell编程"><span class="toc-number">1.1.</span> <span class="toc-text">第1章 如何学好shell编程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-为什么学习shell编程"><span class="toc-number">1.1.1.</span> <span class="toc-text">1.1 为什么学习shell编程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-学习shell编程所需基础知识"><span class="toc-number">1.1.2.</span> <span class="toc-text">1.2 学习shell编程所需基础知识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-如何才能学好shell"><span class="toc-number">1.1.3.</span> <span class="toc-text">1.3 如何才能学好shell</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第2章-shell脚本入门"><span class="toc-number">1.2.</span> <span class="toc-text">第2章 shell脚本入门</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-什么是shell"><span class="toc-number">1.2.1.</span> <span class="toc-text">2.1 什么是shell?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-什么是shell脚本"><span class="toc-number">1.2.2.</span> <span class="toc-text">2.2 什么是shell脚本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-shell脚本语言的种类"><span class="toc-number">1.2.3.</span> <span class="toc-text">2.3 shell脚本语言的种类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-Shell的书写规范"><span class="toc-number">1.2.4.</span> <span class="toc-text">2.4 Shell的书写规范</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-第1个Shell脚本"><span class="toc-number">1.2.5.</span> <span class="toc-text">2.5 第1个Shell脚本</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第3章-Shell变量"><span class="toc-number">1.3.</span> <span class="toc-text">第3章 Shell变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-什么是变量？"><span class="toc-number">1.3.1.</span> <span class="toc-text">3.1 什么是变量？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-变量类型："><span class="toc-number">1.3.2.</span> <span class="toc-text">3.2 变量类型：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-如何定义变量"><span class="toc-number">1.3.3.</span> <span class="toc-text">3.3 如何定义变量</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第4章-特殊的位置参数变量"><span class="toc-number">1.4.</span> <span class="toc-text">第4章 特殊的位置参数变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-设置15个参数，用于传递"><span class="toc-number">1.4.1.</span> <span class="toc-text">4.1 设置15个参数，用于传递</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-特殊变量-0"><span class="toc-number">1.4.2.</span> <span class="toc-text">4.2 特殊变量$0</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-特殊变量"><span class="toc-number">1.4.3.</span> <span class="toc-text">4.3 特殊变量$#</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-特殊变量-和"><span class="toc-number">1.4.4.</span> <span class="toc-text">4.4 特殊变量$*和$@</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第5章-特殊的位置状态变量"><span class="toc-number">1.5.</span> <span class="toc-text">第5章 特殊的位置状态变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-特殊变量-0使用"><span class="toc-number">1.5.1.</span> <span class="toc-text">5.1 特殊变量$0使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-特殊变量-使用"><span class="toc-number">1.5.2.</span> <span class="toc-text">5.2 特殊变量$$使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-特殊变量-使用"><span class="toc-number">1.5.3.</span> <span class="toc-text">5.3 特殊变量$_使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-特殊变量-使用"><span class="toc-number">1.5.4.</span> <span class="toc-text">5.4 特殊变量$!使用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第6章-变量传参的三种方法"><span class="toc-number">1.6.</span> <span class="toc-text">第6章 变量传参的三种方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-直接传参"><span class="toc-number">1.6.1.</span> <span class="toc-text">6.1 直接传参</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-赋值传参"><span class="toc-number">1.6.2.</span> <span class="toc-text">6.2 赋值传参</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-read传参"><span class="toc-number">1.6.3.</span> <span class="toc-text">6.3 read传参</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-案例-使用三种传参方式-做ping-url"><span class="toc-number">1.6.4.</span> <span class="toc-text">6.4 案例 使用三种传参方式 做ping url</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#第7章-变量的子串-常用"><span class="toc-number">1.6.5.</span> <span class="toc-text">第7章 变量的子串(常用)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第8章-变量的数值计算"><span class="toc-number">1.7.</span> <span class="toc-text">第8章 变量的数值计算</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-双小括号-数值运算"><span class="toc-number">1.7.1.</span> <span class="toc-text">8.1 双小括号(())数值运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-let数值运算"><span class="toc-number">1.7.2.</span> <span class="toc-text">8.2 let数值运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-expr数值运算"><span class="toc-number">1.7.3.</span> <span class="toc-text">8.3  expr数值运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-bc数值运算"><span class="toc-number">1.7.4.</span> <span class="toc-text">8.4 bc数值运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-数值运算"><span class="toc-number">1.7.5.</span> <span class="toc-text">8.5 $[] 数值运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-awk数值运算"><span class="toc-number">1.7.6.</span> <span class="toc-text">8.6 awk数值运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7-declare命令的用法"><span class="toc-number">1.7.7.</span> <span class="toc-text">8.7 declare命令的用法</span></a></li></ol></li></ol></li></ol></div></div></div><div id="body-wrap"><div class="post-bg" id="nav" style="background-image: url(/img/63060960_p0.jpg)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">WF's Blog</a></span><span class="pull_right menus"><div id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 娱乐</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/video/"><i class="fa-fw fa fa-video"></i><span> 视频</span></a></li><li><a class="site-page" href="/Gallery/"><i class="fa-fw far fa-images"></i><span> 照片</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 电影</span></a></li><li><a class="site-page" href="/books/"><i class="fa-fw fa fa-book"></i><span> 书籍</span></a></li><li><a class="site-page" href="/games/"><i class="fa-fw fa fa-gamepad"></i><span> Game</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa-fw fa fa-coffee"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">1.shell编程介绍及变量</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="发表于 2020-04-15 11:13:00"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2020-04-15</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="更新于 2020-04-15 11:14:33"><i class="fa fa-history" aria-hidden="true"></i> 更新于 2020-04-15</span></time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/Shell%E7%BC%96%E7%A8%8B/">Shell编程</a></span></div><div class="meta-secondline"> <span class="post-meta-wordcount"><i class="post-meta__icon far fa-file-word" aria-hidden="true"></i><span>字数总计:</span><span class="word-count">4.2k</span><span class="post-meta__separator">|</span><i class="post-meta__icon far fa-clock" aria-hidden="true"></i><span>阅读时长: 18 分钟</span></span></div><div class="meta-thirdline"><span class="post-meta-pv-cv"><span class="post-meta__separator">|</span><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"><span class="post-meta__separator">|</span><i class="post-meta__icon far fa-comments" aria-hidden="true"></i><span>评论数:</span><a href="/2020/04/15/1-shell%E7%BC%96%E7%A8%8B%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%8F%98%E9%87%8F/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/2020/04/15/1-shell%E7%BC%96%E7%A8%8B%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%8F%98%E9%87%8F/" itemprop="commentCount"></span></a></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div id="article-container"><h1 id="shell编程介绍及变量"><a href="#shell编程介绍及变量" class="headerlink" title="shell编程介绍及变量"></a>shell编程介绍及变量</h1><h2 id="第1章-如何学好shell编程"><a href="#第1章-如何学好shell编程" class="headerlink" title="第1章 如何学好shell编程"></a>第1章 如何学好shell编程</h2><h3 id="1-1-为什么学习shell编程"><a href="#1-1-为什么学习shell编程" class="headerlink" title="1.1 为什么学习shell编程"></a>1.1 为什么学习shell编程</h3><p> shell编程在工作中做什么?</p>
<p>shell脚本语言是实现Linux系统管理及自动化运维必须的重要工具。</p>
<ol>
<li><p>安装操作系统(手动安全ISO) 自动化安装(kickstart cobbler)shell脚本</p>
</li>
<li><p>初始化操作系统 优化(SSH优化 关闭SElinux 优化防火墙 c6.x iptables C7.xfirewalld NTP时间同步    更改默认YUM源 字符集 安装常用的软件 lrzsz net-tools tree.. wget 隐藏版本信息 加大文件描述符 内核优化…)<br>初始化写入脚本 自动化执行</p>
</li>
<li><p>安装服务(Nginx PHP MySQL MariaDB NFS sersync REDIS keepalived docker….zabbix  shell     脚本自动选择安装)</p>
</li>
<li><p>配置文件(优化)</p>
</li>
<li><p>启动—-停止(centos6.x /etc/init.d/server start  centos7 systemctl start server) 系统默认的启动方式 shell脚本<br> py写的程序 jumpserver<br> python3.5 test.py 传参 –redis 10.0.0.22 –prot 6379 –IPlog – – –<br> python3.5 test.py -h<br> 放入shell脚本命名  log_count.start<br> 停止py服务          log_count.stop  ps axu|grep test.py|grep -v grep|awk ‘{print $2}’|xargs kill -9</p>
</li>
<li><p>监控 zabbix cacti(流程) nagios ELK (公司研发监控平台)<br> 监控的值(shell脚本统计)</p>
</li>
<li><p>日志统计 三剑客 日志切割(脚本+定时任务)</p>
</li>
</ol>
<h3 id="1-2-学习shell编程所需基础知识"><a href="#1-2-学习shell编程所需基础知识" class="headerlink" title="1.2 学习shell编程所需基础知识"></a>1.2 学习shell编程所需基础知识</h3><p>学好shell编程并通过shell脚本轻松实现自动化管理企业生产系统必备基础如下：</p>
<ol>
<li><p>熟练使用vim编辑器，熟悉SSH终端及“vimrc”等的配置。</p>
</li>
<li><p>掌握一定Linux命令基础，至少80个，熟练使用。</p>
</li>
<li><p>熟练掌握Linux正则表达式及三剑客（grep、sed、awk）</p>
</li>
<li><p>熟悉常见的Linux网络服务器部署、优化、日志分析和排错</p>
</li>
</ol>
<h3 id="1-3-如何才能学好shell"><a href="#1-3-如何才能学好shell" class="headerlink" title="1.3 如何才能学好shell"></a>1.3 如何才能学好shell</h3><ol>
<li><p>掌握Shell基本语法</p>
</li>
<li><p>掌握常见语法  环境变量—数值比较–条件表达式—if判断—for循环–while循环–case语句–函数–数组—条件控制语句 exit continue break</p>
</li>
<li><p>修改脚本内容(完善脚本)形成自己的开发风格</p>
</li>
<li><p>套用 框架(公司中大部分脚本的写法) 熟能生巧，从简单坐骑，简单判断、简单循环</p>
</li>
<li><p>多模仿、多思考</p>
</li>
<li><p>学会分析问题，形成编程思维</p>
</li>
<li><p>编程名字要规范、采用驼峰语法</p>
</li>
<li><p>不要拿来主义，特别是新手</p>
</li>
</ol>
<h2 id="第2章-shell脚本入门"><a href="#第2章-shell脚本入门" class="headerlink" title="第2章 shell脚本入门"></a>第2章 shell脚本入门</h2><h3 id="2-1-什么是shell"><a href="#2-1-什么是shell" class="headerlink" title="2.1 什么是shell?"></a>2.1 什么是shell?</h3><p><code>shell 是一个命令解释器</code></p>
<p>shell存在于操作系统最外层，负责与用户直接对话，对用户的输入解析给操作系统，并处理各种各样的输出结果，然后输出到屏幕返回给用户。</p>
<p>面试题: linux下默认的shell是?  bash</p>
<p>命令解释器 pwd ls</p>
<p>bash?   当前的命令行 和shell脚本 文本内有可执行命令 bash</p>
<p>当前的bash 父shell 文本内的命令 子shell</p>
<p>子shell可继承父shell的变量  父shell无法继续子shell的变量</p>
<p>交互式shell shll等待输入  输入命令 shell执行并返回结果 交互式</p>
<p>非交互式  把可执行命令 放入文本中 定时任务执行 称为非交互式</p>
<h3 id="2-2-什么是shell脚本"><a href="#2-2-什么是shell脚本" class="headerlink" title="2.2 什么是shell脚本"></a>2.2 什么是shell脚本</h3><p>shell脚本：当命令或程序语句不在命令行下执行，而是通过一个程序文件来执行时，该程序被称为shell脚本。</p>
<p>命令的大礼包  把可执行命令放到文件中 称为shell脚本(判断语句 循环语句 数组….)</p>
<h3 id="2-3-shell脚本语言的种类"><a href="#2-3-shell脚本语言的种类" class="headerlink" title="2.3 shell脚本语言的种类"></a>2.3 shell脚本语言的种类</h3><p>1.Bourne shell</p>
<p>2.C shell</p>
<p>常用的脚本语言：</p>
<p><code>PHP</code>  <code>Perl</code>  <code>Python</code>   <code>Shell</code></p>
<p>Shell脚本语言 优势在于处理偏系统底层的业务，如：一键自动化、优化、监控报警、软件启动、日志分析等脚本。shell更符合Linux运维简单、易用、高效的三大基本原则。</p>
<h3 id="2-4-Shell的书写规范"><a href="#2-4-Shell的书写规范" class="headerlink" title="2.4 Shell的书写规范"></a>2.4 Shell的书写规范</h3><p>1) shell脚本存放统一的目录   /server/scripts</p>
<p>2) 脚本名字的结尾使用.sh</p>
<p>3) 脚本的开头 必须有解释器 #!/bin/bash</p>
<p>4) 脚本内有作者信息 脚本信息</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Date: 20111111</span></span><br><span class="line"><span class="comment">#Author: wufei</span></span><br><span class="line"><span class="comment">#Blog:            #博客</span></span><br><span class="line"><span class="comment">#Descriptsion:    #描述</span></span><br><span class="line"><span class="comment">#Version： 1.0    #版本</span></span><br></pre></td></tr></table></figure>

<p>5) 每段代码块有注释(尽量使用英文)</p>
<p>6) 标点符号 (语法尽量一次性书写完毕</p>
<p>7) 成对的符号 一次性书写完毕</p>
<h3 id="2-5-第1个Shell脚本"><a href="#2-5-第1个Shell脚本" class="headerlink" title="2.5 第1个Shell脚本"></a>2.5 第1个Shell脚本</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@backup /server/scripts]<span class="comment"># cat hello.sh </span></span><br><span class="line"><span class="meta">#!bin/bash</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"hello world!"</span></span><br></pre></td></tr></table></figure>

<p>执行脚本的三种方法：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#方法1：直接使用解释器执行</span></span><br><span class="line">[root@backup /server/scripts]<span class="comment"># bash hello.sh </span></span><br><span class="line">hello world!</span><br><span class="line"><span class="comment">#方法2: 全路径方式执行 需要执行权限</span></span><br><span class="line"><span class="comment"># chmod +x hello.sh</span></span><br><span class="line">[root@backup ~]<span class="comment"># . /server/scripts/hello.sh </span></span><br><span class="line">hello world!</span><br><span class="line"><span class="comment">#方法3 source .执行脚本  子shell中的内容调用到父shell中执行</span></span><br><span class="line">[root@backup /server/scripts]<span class="comment"># source hello.sh </span></span><br><span class="line">hello world!</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> 条件内容</span><br><span class="line">   <span class="keyword">then</span></span><br><span class="line">     内容</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<p>一次性完成for循环语句格式</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    内容</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<h2 id="第3章-Shell变量"><a href="#第3章-Shell变量" class="headerlink" title="第3章 Shell变量"></a>第3章 Shell变量</h2><h3 id="3-1-什么是变量？"><a href="#3-1-什么是变量？" class="headerlink" title="3.1 什么是变量？"></a>3.1 什么是变量？</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@backup /server/scripts]<span class="comment"># echo $LANG</span></span><br><span class="line">en_US.UTF-8</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># oldboy="i am oldboy"</span></span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo $oldboy</span></span><br><span class="line">i am oldboy</span><br></pre></td></tr></table></figure>

<h3 id="3-2-变量类型："><a href="#3-2-变量类型：" class="headerlink" title="3.2 变量类型："></a>3.2 变量类型：</h3><p>变量可分为两类：环境变量（全局变量）和普通变量（局部变量）</p>
<p>全局变量(环境变量)   针对系统所有用户生效<br>局部变量(普通变量)   针对当前登录用户生效</p>
<p>变量生存周期分类 两类<br>临时性  export 声明变量即可 或者 name=oldboy<br>永久性  修改配置文件  /etc/profile</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">环境变量文件执行顺序</span><br><span class="line">1. /etc/profile</span><br><span class="line">2. .bash_profile</span><br><span class="line">3. .bashrc</span><br><span class="line">4. /etc/bashrc</span><br><span class="line">如果按照文件内容的生效顺序</span><br><span class="line">1. /etc/profile</span><br><span class="line">2. .bashrc</span><br><span class="line">3. /etc/bashrc</span><br><span class="line">4. .bash_profile</span><br></pre></td></tr></table></figure>
<h3 id="3-3-如何定义变量"><a href="#3-3-如何定义变量" class="headerlink" title="3.3 如何定义变量"></a>3.3 如何定义变量</h3><p>要求以字母 数字 和下划线组合  只能以字母和_开头 等号两端不允许有空格 名字 见名直其意</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">变量名字的定义的语法:</span><br><span class="line">OLDBOY_AGE=18  系统用的变量都是大写</span><br><span class="line">oldboy_age=18  全小写</span><br><span class="line">oldboy_Age=18  小驼峰语法</span><br><span class="line">Oldboy_Age=18  大驼峰语法</span><br></pre></td></tr></table></figure>
<p>普通变量定义：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">变量名=value           <span class="comment">#赋值时不加引号</span></span><br><span class="line">变量名=<span class="string">'value'</span>         <span class="comment">#赋值时加单引号</span></span><br><span class="line">变量名=“value“         <span class="comment">#赋值时加双引号</span></span><br></pre></td></tr></table></figure>

<p>变量值得定义:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">1.数字定义  连续的数字    oldboy=188888</span><br><span class="line">2.字符串定义 连续的字符串 name=<span class="string">"oldboy alex lidao"</span> 不知道加什么就加双引号</span><br><span class="line">  例子: CODE_DIR=/etc/sysconfig/network-scripts/</span><br><span class="line">		name=<span class="string">'$oldboy'</span>  所见即所得 不解析变量</span><br><span class="line">		[root@backup ~]<span class="comment"># name=oldboy</span></span><br><span class="line">		[root@backup ~]<span class="comment"># echo "$name"</span></span><br><span class="line">		oldboy</span><br><span class="line">		[root@backup ~]<span class="comment"># echo '$name'</span></span><br><span class="line">		<span class="variable">$name</span></span><br><span class="line">3.命令的定义</span><br><span class="line">  方法1  time=`date +%F`</span><br><span class="line">  方法2  time=$(date +%F)</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># time=`date +%F-%H-%M-%S`</span></span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo $time</span></span><br><span class="line">2019-08-22-22-02-18</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo $time   #第二次运行还是一样</span></span><br><span class="line">2019-08-22-22-02-18</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># time=`date +%F-%H-%M-%S`   #重新再次赋值</span></span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo $time                 #重新赋值后结果不同</span></span><br><span class="line">2019-08-22-22-02-28</span><br></pre></td></tr></table></figure>

<h2 id="第4章-特殊的位置参数变量"><a href="#第4章-特殊的位置参数变量" class="headerlink" title="第4章 特殊的位置参数变量"></a>第4章 特殊的位置参数变量</h2><table>
<thead>
<tr>
<th>位置变量</th>
<th>作用说明</th>
</tr>
</thead>
<tbody><tr>
<td>$0</td>
<td>获取当前执行的shell脚本的文件名，如果包含路径，则包括脚本路径</td>
</tr>
<tr>
<td>$n</td>
<td>获取当前执行脚本的第n个参数值，参数从$1开始 $9 以后需要加{}</td>
</tr>
<tr>
<td>$#</td>
<td>获取当前执行的脚本后面接的参数的总个数</td>
</tr>
<tr>
<td>$*</td>
<td>获取当前执行脚本所有传参的参数，不加引号和$@相同</td>
</tr>
<tr>
<td>$@</td>
<td>获取脚本的所有的参数 不加双引号和$* 相同 加上双引号则把参数视为独立的(在循环体中)</td>
</tr>
</tbody></table>
<h3 id="4-1-设置15个参数，用于传递"><a href="#4-1-设置15个参数，用于传递" class="headerlink" title="4.1 设置15个参数，用于传递"></a>4.1 设置15个参数，用于传递</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@backup /server/scripts]<span class="comment"># cat n.sh </span></span><br><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$1</span> <span class="variable">$2</span> <span class="variable">$3</span> <span class="variable">$4</span> <span class="variable">$5</span> <span class="variable">$6</span> <span class="variable">$7</span> <span class="variable">$8</span> <span class="variable">$9</span> <span class="variable">$10</span> <span class="variable">$11</span> <span class="variable">$12</span> <span class="variable">$13</span> <span class="variable">$14</span> <span class="variable">$15</span></span><br><span class="line">[root@backup /server/scripts]<span class="comment"># sh n.sh &#123;a..z&#125;</span></span><br><span class="line">a b c d e f g h i a0 a1 a2 a3 a4 a5</span><br><span class="line"></span><br><span class="line"><span class="comment">#当位置参数数字&gt;9时，需要用&#123;&#125;将数字括起来，才能正常显示</span></span><br><span class="line">[root@backup /server/scripts]<span class="comment"># cat n.sh </span></span><br><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$1</span> <span class="variable">$2</span> <span class="variable">$3</span> <span class="variable">$4</span> <span class="variable">$5</span> <span class="variable">$6</span> <span class="variable">$7</span> <span class="variable">$8</span> <span class="variable">$9</span> <span class="variable">$&#123;10&#125;</span> <span class="variable">$&#123;11&#125;</span> <span class="variable">$&#123;12&#125;</span> <span class="variable">$&#123;13&#125;</span> <span class="variable">$&#123;14&#125;</span> <span class="variable">$&#123;15&#125;</span></span><br><span class="line">[root@backup /server/scripts]<span class="comment"># sh n.sh &#123;a..z&#125;</span></span><br><span class="line">a b c d e f g h i j k l m n o</span><br></pre></td></tr></table></figure>

<h3 id="4-2-特殊变量-0"><a href="#4-2-特殊变量-0" class="headerlink" title="4.2 特殊变量$0"></a>4.2 特殊变量$0</h3><p>获取脚本名称及路径</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@backup /server/scripts]<span class="comment"># cat n.sh</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$0</span></span><br><span class="line">[root@backup /server/scripts]<span class="comment"># sh n.sh</span></span><br><span class="line">n.sh</span><br><span class="line">[root@backup ~]<span class="comment"># sh /server/scripts/n.sh </span></span><br><span class="line">/server/scripts/n.sh</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># dirname /server/scripts/n.sh  #dirname只获取路径</span></span><br><span class="line">/server/scripts</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># basename /server/scripts/n.sh </span></span><br><span class="line">n.sh                                                       <span class="comment">#basename只获取脚本名称</span></span><br></pre></td></tr></table></figure>

<h3 id="4-3-特殊变量"><a href="#4-3-特殊变量" class="headerlink" title="4.3 特殊变量$#"></a>4.3 特殊变量$#</h3><p>通过$#获取脚本传参的总个数</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@backup /server/scripts]<span class="comment"># cat n.sh </span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$1</span> <span class="variable">$2</span> <span class="variable">$3</span> <span class="variable">$4</span> <span class="variable">$5</span> <span class="variable">$6</span> <span class="variable">$7</span> <span class="variable">$8</span> <span class="variable">$9</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$#</span></span><br><span class="line">[root@backup /server/scripts]<span class="comment"># sh n.sh &#123;a..z&#125;</span></span><br><span class="line">a b c d e f g h i</span><br><span class="line">26</span><br></pre></td></tr></table></figure>

<p>案例一</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@backup /server/scripts]<span class="comment"># [ $# -eq 2 ] || echo "请重新输入两个参数"</span></span><br><span class="line">请重新输入两个参数</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># [ 3 -ne 2 ] &amp;&amp; echo ok|| echo error</span></span><br><span class="line">ok</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># [ 2 -ne 2 ] &amp;&amp; echo ok|| echo error</span></span><br><span class="line">error</span><br></pre></td></tr></table></figure>

<p>案例二</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@backup /server/scripts]<span class="comment"># cat n.sh </span></span><br><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$#</span> -ne 2 ]</span><br><span class="line">   <span class="keyword">then</span> </span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"USAGE:/bin/bash -bash arg1 arg2"</span></span><br><span class="line">   <span class="built_in">exit</span> 1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$1</span> <span class="variable">$2</span></span><br><span class="line">[root@backup /server/scripts]<span class="comment"># sh n.sh </span></span><br><span class="line">USAGE:/bin/bash -bash arg1 arg2</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># sh n.sh oldboy 123456</span></span><br><span class="line">oldboy 123456</span><br></pre></td></tr></table></figure>

<h3 id="4-4-特殊变量-和"><a href="#4-4-特殊变量-和" class="headerlink" title="4.4 特殊变量$*和$@"></a>4.4 特殊变量$*和$@</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[root@backup /server/scripts]<span class="comment"># set -- "I am" oldboy teacher</span></span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo $*</span></span><br><span class="line">I am oldboy teacher</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo $@</span></span><br><span class="line">I am oldboy teacher</span><br><span class="line"><span class="comment">#在循环中先对比不带“”时，2者无区别</span></span><br><span class="line">[root@backup /server/scripts]<span class="comment"># for i in $*;do echo $i;done</span></span><br><span class="line">I</span><br><span class="line">am</span><br><span class="line">oldboy</span><br><span class="line">teacher</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># for i in $@;do echo $i;done</span></span><br><span class="line">I</span><br><span class="line">am</span><br><span class="line">oldboy</span><br><span class="line">teacher</span><br><span class="line"><span class="comment">#在循环中带“”时，2者的区别</span></span><br><span class="line">[root@backup /server/scripts]<span class="comment"># for i in "$*";do echo $i;done</span></span><br><span class="line">I am oldboy teacher</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># for i in "$@";do echo $i;done</span></span><br><span class="line">I am</span><br><span class="line">oldboy</span><br><span class="line">teacher</span><br></pre></td></tr></table></figure>

<h2 id="第5章-特殊的位置状态变量"><a href="#第5章-特殊的位置状态变量" class="headerlink" title="第5章 特殊的位置状态变量"></a>第5章 特殊的位置状态变量</h2><table>
<thead>
<tr>
<th>位置变量</th>
<th>作用说明</th>
</tr>
</thead>
<tbody><tr>
<td>$?</td>
<td>获取上一个指令的执行状态并返回值（0为成功，非0为失败）</td>
</tr>
<tr>
<td>$$</td>
<td>获取当前执行的shell脚本的进程号（pid），脚本名字相同时使用</td>
</tr>
<tr>
<td>$!</td>
<td>获取上一个后台工作的进程的进程号（pid） ，调试脚本时使用</td>
</tr>
<tr>
<td>$_</td>
<td>获取在此之前执行的命令或脚本的最后一个参数 ，相当于ESE.</td>
</tr>
</tbody></table>
<h3 id="5-1-特殊变量-0使用"><a href="#5-1-特殊变量-0使用" class="headerlink" title="5.1 特殊变量$0使用"></a>5.1 特殊变量$0使用</h3><p>判断上一个命令是否执行成功,可用于判断服务是否正确执行或命令是否执行成功</p>
<p>当备份数据时，可通过$?来判断是否成功，备份数据是否完整</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@backup /server/scripts]<span class="comment"># pwd</span></span><br><span class="line">/server/scripts</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo $?</span></span><br><span class="line">0</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># lll</span></span><br><span class="line">-bash: lll: <span class="built_in">command</span> not found</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo $?</span></span><br><span class="line">127</span><br></pre></td></tr></table></figure>

<h3 id="5-2-特殊变量-使用"><a href="#5-2-特殊变量-使用" class="headerlink" title="5.2 特殊变量$$使用"></a>5.2 特殊变量$$使用</h3><p>获取脚本执行的进程号pid</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@backup &#x2F;server&#x2F;scripts]# cat test.sh </span><br><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">echo $$ &gt; &#x2F;tmp&#x2F;test.pid</span><br><span class="line">sleep 300</span><br><span class="line">[root@backup &#x2F;server&#x2F;scripts]# sh test.sh </span><br><span class="line">[root@backup ~]# ps -ef |grep test.sh</span><br><span class="line">root       5641   4909  0 09:51 pts&#x2F;1    00:00:00 sh test.sh</span><br><span class="line">root       5667   5643  0 09:51 pts&#x2F;2    00:00:00 grep --color&#x3D;auto test.sh</span><br><span class="line">[root@backup ~]# cat &#x2F;tmp&#x2F;test.pid </span><br><span class="line">5641</span><br></pre></td></tr></table></figure>

<h3 id="5-3-特殊变量-使用"><a href="#5-3-特殊变量-使用" class="headerlink" title="5.3 特殊变量$_使用"></a>5.3 特殊变量$_使用</h3><p>获取上一条命令的最后一个参数</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@backup ~]<span class="comment"># cd /server/scripts/</span></span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo $_</span></span><br><span class="line">/server/scripts/</span><br></pre></td></tr></table></figure>

<h3 id="5-4-特殊变量-使用"><a href="#5-4-特殊变量-使用" class="headerlink" title="5.4 特殊变量$!使用"></a>5.4 特殊变量$!使用</h3><p>用于获取上一次执行脚本的pid</p>
<h2 id="第6章-变量传参的三种方法"><a href="#第6章-变量传参的三种方法" class="headerlink" title="第6章 变量传参的三种方法"></a>第6章 变量传参的三种方法</h2><h3 id="6-1-直接传参"><a href="#6-1-直接传参" class="headerlink" title="6.1 直接传参"></a>6.1 直接传参</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@backup /server/scripts]<span class="comment"># sh n.sh oldboy 123456</span></span><br><span class="line">oldboy 123456</span><br></pre></td></tr></table></figure>

<h3 id="6-2-赋值传参"><a href="#6-2-赋值传参" class="headerlink" title="6.2 赋值传参"></a>6.2 赋值传参</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@backup /server/scripts]<span class="comment"># cat ping.sh </span></span><br><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment">#方法2</span></span><br><span class="line">url=<span class="variable">$1</span></span><br><span class="line">ping -c 1  <span class="variable">$url</span> &amp;&gt;/dev/null</span><br><span class="line">[ $? -eq 0 ] &amp;&amp; <span class="built_in">echo</span> <span class="string">"ping <span class="variable">$url</span> is ok"</span> || <span class="built_in">echo</span> <span class="string">"ping <span class="variable">$url</span> is error"</span></span><br><span class="line">[root@backup /server/scripts]<span class="comment"># sh ping.sh www.qq.com</span></span><br><span class="line">ping www.qq.com is ok</span><br></pre></td></tr></table></figure>

<h3 id="6-3-read传参"><a href="#6-3-read传参" class="headerlink" title="6.3 read传参"></a>6.3 read传参</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@backup /server/scripts]<span class="comment"># cat ping.sh </span></span><br><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment">#方法3</span></span><br><span class="line"><span class="built_in">read</span> -p <span class="string">"please input url is: "</span> url</span><br><span class="line">ping -c 1  <span class="variable">$url</span> &amp;&gt;/dev/null</span><br><span class="line">[ $? -eq 0 ] &amp;&amp; <span class="built_in">echo</span> <span class="string">"ping <span class="variable">$url</span> is ok"</span> || <span class="built_in">echo</span> <span class="string">"ping <span class="variable">$url</span> is error"</span></span><br><span class="line">[root@backup /server/scripts]<span class="comment"># sh ping.sh</span></span><br><span class="line">please input url is: www.qq.com</span><br><span class="line">ping www.qq.com is ok</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># sh ping.sh </span></span><br><span class="line">please input url is: www.qqq.com</span><br><span class="line">ping www.qqq.com is error</span><br></pre></td></tr></table></figure>

<h3 id="6-4-案例-使用三种传参方式-做ping-url"><a href="#6-4-案例-使用三种传参方式-做ping-url" class="headerlink" title="6.4 案例 使用三种传参方式 做ping url"></a>6.4 案例 使用三种传参方式 做ping url</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[root@backup /server/scripts]<span class="comment"># cat ping.sh </span></span><br><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment">#方法1</span></span><br><span class="line">ping -c 1  <span class="variable">$1</span> &amp;&gt;/dev/null</span><br><span class="line">[ $? -eq 0 ] &amp;&amp; <span class="built_in">echo</span> <span class="string">"ping <span class="variable">$1</span> is ok"</span> || <span class="built_in">echo</span> <span class="string">"ping <span class="variable">$1</span> is error"</span></span><br><span class="line"><span class="comment">#方法2</span></span><br><span class="line">url=<span class="variable">$1</span></span><br><span class="line">ping -c 1  <span class="variable">$url</span> &amp;&gt;/dev/null</span><br><span class="line">[ $? -eq 0 ] &amp;&amp; <span class="built_in">echo</span> <span class="string">"ping <span class="variable">$url</span> is ok"</span> || <span class="built_in">echo</span> <span class="string">"ping <span class="variable">$url</span> is error"</span></span><br><span class="line"><span class="comment">#方法3</span></span><br><span class="line"><span class="built_in">read</span> -p <span class="string">"please input url is: "</span> url</span><br><span class="line">ping -c 1  <span class="variable">$url</span> &amp;&gt;/dev/null</span><br><span class="line">[ $? -eq 0 ] &amp;&amp; <span class="built_in">echo</span> <span class="string">"ping <span class="variable">$url</span> is ok"</span> || <span class="built_in">echo</span> <span class="string">"ping <span class="variable">$url</span> is error"</span></span><br><span class="line">[root@backup /server/scripts]<span class="comment"># sh ping.sh www.qq.com</span></span><br><span class="line">ping www.qq.com is ok</span><br><span class="line">ping www.qq.com is ok</span><br><span class="line">please input url is: www.qq.com</span><br><span class="line">ping www.qq.com is ok</span><br></pre></td></tr></table></figure>

<h3 id="第7章-变量的子串-常用"><a href="#第7章-变量的子串-常用" class="headerlink" title="第7章 变量的子串(常用)"></a>第7章 变量的子串(常用)</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@backup /server/scripts]<span class="comment"># test="I am oldboy"</span></span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo $test</span></span><br><span class="line">I am oldboy</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo $&#123;#test&#125;   #变量前加#可以打印变量的长度</span></span><br><span class="line">11</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo $test|wc -L  </span></span><br><span class="line">11</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># expr length "$test"</span></span><br><span class="line">11</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo $&#123;test&#125;|awk '&#123;print $2&#125;'</span></span><br><span class="line">am</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo $&#123;test&#125;|cut -c3-4</span></span><br><span class="line">am</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo $&#123;test&#125;|grep -o am</span></span><br><span class="line">am</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo $&#123;test:2:2&#125;</span></span><br><span class="line">am</span><br></pre></td></tr></table></figure>

<p>面试题: 统计字符串长度</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># echo $test</span></span><br><span class="line">I am oldboy</span><br><span class="line"><span class="comment"># echo $&#123;#test&#125;   #变量前加#可以打印变量的长度</span></span><br><span class="line">11</span><br><span class="line"><span class="comment"># echo $test|wc -L  </span></span><br><span class="line">11</span><br><span class="line"><span class="comment"># expr length "$test"</span></span><br><span class="line">11</span><br><span class="line"><span class="comment"># echo $test|awk '&#123;print length&#125;'</span></span><br><span class="line">11</span><br></pre></td></tr></table></figure>

<p>面试题2: 输出字符串长度小于3的单词</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">[root@backup /server/scripts]<span class="comment"># cat for.sh </span></span><br><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> I am lizhenya teacher I am 18</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">   [ <span class="variable">$&#123;#i&#125;</span> -lt 3 ] &amp;&amp; <span class="built_in">echo</span> <span class="variable">$i</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line">[root@backup /server/scripts]<span class="comment"># sh for.sh </span></span><br><span class="line">I</span><br><span class="line">am</span><br><span class="line">I</span><br><span class="line">am</span><br><span class="line">18</span><br><span class="line"></span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo "I am lizhenya teacher I am 18"|xargs -n1|awk '&#123;if(length&lt;3)print&#125;'</span></span><br><span class="line">I</span><br><span class="line">am</span><br><span class="line">I</span><br><span class="line">am</span><br><span class="line">18</span><br><span class="line"></span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo "I am lizhenya teacher I am 18"|xargs -n1|awk '&#123;for(i=1;i&lt;=NF;i++)if(length&lt;3)print&#125;'</span></span><br><span class="line">I</span><br><span class="line">am</span><br><span class="line">I</span><br><span class="line">am</span><br><span class="line">18</span><br></pre></td></tr></table></figure>

<p>变量子串的删除和替换</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#截取从第二个字符之后的内容，不包含第二个字符</span></span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo $test</span></span><br><span class="line">I am oldboy</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># </span></span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo $&#123;test:2&#125;</span></span><br><span class="line">am oldboy</span><br><span class="line"><span class="comment">#从第二个字符开始截取之后的二个字符</span></span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo $&#123;test:2:2&#125;</span></span><br><span class="line">am</span><br></pre></td></tr></table></figure>

<p>#从前面往后删除 ## 贪婪匹配 </p>
<p>%从后往前删除 </p>
<p>// 替换</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[root@backup /server/scripts]<span class="comment"># url=www.baidu.com</span></span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo $&#123;url#*.&#125;    #从.开始删除前面的内容输出</span></span><br><span class="line">baidu.com</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo $&#123;url#*.*.&#125;  #从第二个.开始删除前面的内容输出</span></span><br><span class="line">com</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo $&#123;url##*.&#125;   #贪婪匹配</span></span><br><span class="line">com</span><br><span class="line"></span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo $&#123;url%.*&#125;</span></span><br><span class="line">www.baidu</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo $&#123;url%.*.*&#125;</span></span><br><span class="line">www</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo $&#123;url%%.*&#125;   #贪婪匹配</span></span><br><span class="line">www</span><br><span class="line"></span><br><span class="line"><span class="comment">#url// 替换</span></span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo $url</span></span><br><span class="line">www.baidu.com</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo $&#123;url/baidu/qq&#125;</span></span><br><span class="line">www.qq.com</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo $&#123;url/w/S&#125;</span></span><br><span class="line">Sww.baidu.com</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo $&#123;url//w/S&#125;</span></span><br><span class="line">SSS.baidu.com</span><br></pre></td></tr></table></figure>

<h2 id="第8章-变量的数值计算"><a href="#第8章-变量的数值计算" class="headerlink" title="第8章 变量的数值计算"></a>第8章 变量的数值计算</h2><p>常见的Shell算术运算符</p>
<table>
<thead>
<tr>
<th>算术运算符</th>
<th>意义（*表示常用）</th>
</tr>
</thead>
<tbody><tr>
<td>+ 、-</td>
<td>加（或正号）、减（或负号）*</td>
</tr>
<tr>
<td>*、/、%</td>
<td>乘法、除法、取余  *</td>
</tr>
<tr>
<td>**</td>
<td>冥运算  *</td>
</tr>
<tr>
<td>++ 、–</td>
<td>增加、减少，可前置也可放在变量的结尾   *</td>
</tr>
<tr>
<td>！、&amp;&amp;、||</td>
<td>非（取反）、相当于and 、相当于or   *</td>
</tr>
<tr>
<td>&lt; 、&lt;= 、&gt; 、&gt;=</td>
<td>比较符号（小于、小于等于、大于、大于等于）</td>
</tr>
<tr>
<td>== 、!= 、=</td>
<td>比较符号 （相等、不相等、对于字符串=也可表示相当于）*</td>
</tr>
<tr>
<td>&lt;&lt; 、&gt;&gt;</td>
<td>向左移位、向右移位</td>
</tr>
<tr>
<td>~ 、| 、&amp; 、^</td>
<td>按位取反、按位异或、按位于、按位或</td>
</tr>
<tr>
<td>= 、+=、-= 、*= 、%=</td>
<td>赋值运算符，例如 a+=1 相当于 a=a+1 ,  a-=1 相当于 a=a-1    *</td>
</tr>
</tbody></table>
<p>常见的运算命令</p>
<table>
<thead>
<tr>
<th>运算操作符号与运算命令</th>
<th>意义</th>
</tr>
</thead>
<tbody><tr>
<td>(())</td>
<td>用于整数的运算、效率很高</td>
</tr>
<tr>
<td>let</td>
<td>用于证书运算，类似于(())</td>
</tr>
<tr>
<td>expr</td>
<td>可用于整数运算，还有其他功能</td>
</tr>
<tr>
<td>bc</td>
<td>Linux下的计算程序、可用于整数及小数运算</td>
</tr>
<tr>
<td>$[]</td>
<td>用于整数运算</td>
</tr>
<tr>
<td>awk</td>
<td>awk既可用于整数运算，也可用于小数运算</td>
</tr>
<tr>
<td>declare</td>
<td>定义变量值和属性，-i参数可用于定义整形变量，做运算</td>
</tr>
</tbody></table>
<h3 id="8-1-双小括号-数值运算"><a href="#8-1-双小括号-数值运算" class="headerlink" title="8.1 双小括号(())数值运算"></a>8.1 双小括号(())数值运算</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@backup /server/scripts]<span class="comment"># echo $((6+2))</span></span><br><span class="line">8</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo $((6-2))</span></span><br><span class="line">4</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo $((6*2))</span></span><br><span class="line">12</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo $((6/2))</span></span><br><span class="line">3</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># a=3</span></span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo $((a=a+1))     #将a赋值给a+1，输出结果</span></span><br><span class="line">4</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo $((a+=1))      #相当于a=a+1</span></span><br><span class="line">5</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo $((a**2))      #计算a的平方</span></span><br><span class="line">25</span><br></pre></td></tr></table></figure>

<h3 id="8-2-let数值运算"><a href="#8-2-let数值运算" class="headerlink" title="8.2 let数值运算"></a>8.2 let数值运算</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@backup /server/scripts]<span class="comment"># sum=10</span></span><br><span class="line">[root@backup /server/scripts]<span class="comment"># let sum=sum+1</span></span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo $sum</span></span><br><span class="line">11</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># sum1=10</span></span><br><span class="line">[root@backup /server/scripts]<span class="comment"># sum2=20</span></span><br><span class="line">[root@backup /server/scripts]<span class="comment"># let sum=sum1+sum2</span></span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo $sum</span></span><br><span class="line">30</span><br></pre></td></tr></table></figure>

<h3 id="8-3-expr数值运算"><a href="#8-3-expr数值运算" class="headerlink" title="8.3  expr数值运算"></a>8.3  expr数值运算</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@backup /server/scripts]<span class="comment"># expr 2 + 2</span></span><br><span class="line">4</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># expr 2 - 2</span></span><br><span class="line">0</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># expr 2 * 2</span></span><br><span class="line">expr: syntax error</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># expr 2 \* 2</span></span><br><span class="line">4</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># expr 2 / 2</span></span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<h3 id="8-4-bc数值运算"><a href="#8-4-bc数值运算" class="headerlink" title="8.4 bc数值运算"></a>8.4 bc数值运算</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@backup ~]<span class="comment"># echo 10+10|bc</span></span><br><span class="line">20</span><br><span class="line">[root@backup ~]<span class="comment"># echo 10+10.5|bc</span></span><br><span class="line">20.5</span><br><span class="line">[root@backup ~]<span class="comment"># echo 10*10.5|bc</span></span><br><span class="line">105.0</span><br><span class="line">[root@backup ~]<span class="comment"># echo 10/10.5|bc</span></span><br><span class="line">0</span><br></pre></td></tr></table></figure>

<h3 id="8-5-数值运算"><a href="#8-5-数值运算" class="headerlink" title="8.5 $[] 数值运算"></a>8.5 $[] 数值运算</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@backup /server/scripts]<span class="comment"># echo $[10+10]</span></span><br><span class="line">20</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo $[10-10]</span></span><br><span class="line">0</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo $[10*10]</span></span><br><span class="line">100</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo $[10/10]</span></span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<h3 id="8-6-awk数值运算"><a href="#8-6-awk数值运算" class="headerlink" title="8.6 awk数值运算"></a>8.6 awk数值运算</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@backup /server/scripts]<span class="comment"># echo "10 1.5"|awk '&#123;print $1+$2&#125;'</span></span><br><span class="line">11.5</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo "10 1.5"|awk '&#123;print $1-$2&#125;'</span></span><br><span class="line">8.5</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo "10 1.5"|awk '&#123;print $1*$2&#125;'</span></span><br><span class="line">15</span><br><span class="line">[root@backup /server/scripts]<span class="comment"># echo "10 1.5"|awk '&#123;print $1/$2&#125;'</span></span><br><span class="line">6.66667</span><br></pre></td></tr></table></figure>

<h3 id="8-7-declare命令的用法"><a href="#8-7-declare命令的用法" class="headerlink" title="8.7 declare命令的用法"></a>8.7 declare命令的用法</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@backup ~]<span class="comment"># declare -i A=30 B=7</span></span><br><span class="line">[root@backup ~]<span class="comment"># A=A+B</span></span><br><span class="line">[root@backup ~]<span class="comment"># echo $A</span></span><br><span class="line">37</span><br></pre></td></tr></table></figure>

</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Wu Fei</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://linuxwf.com/2020/04/15/1-shell%E7%BC%96%E7%A8%8B%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%8F%98%E9%87%8F/">http://linuxwf.com/2020/04/15/1-shell%E7%BC%96%E7%A8%8B%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%8F%98%E9%87%8F/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://linuxwf.com" target="_blank">WF's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/shell/">shell</a></div><div class="post_share"><div class="social-share" data-image="/img/wallhaven-672007-1.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img/wechat.jpg" alt="微信"/><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img/alipay.jpg" alt="支付宝"/><div class="post-qr-code__desc">支付宝</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2020/04/15/2-Shell%E8%84%9A%E6%9C%AC%E7%9A%84%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95%E4%B8%8E%E6%AF%94%E8%BE%83/"><img class="prev_cover lazyload" data-src="/img/post.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">2.Shell脚本的条件测试与比较</div></div></a></div><div class="next-post pull_right"><a href="/2020/04/15/Mongo%E5%91%BD%E4%BB%A4%E4%B8%8E%E5%89%AF%E6%9C%AC%E9%9B%86/"><img class="next_cover lazyload" data-src="/img/63199486_p0.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Mongo命令与副本集</div></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2020/04/15/2-Shell脚本的条件测试与比较/" title="2.Shell脚本的条件测试与比较"><img class="relatedPosts_cover lazyload"data-src="/img/post.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-04-15</div><div class="relatedPosts_title">2.Shell脚本的条件测试与比较</div></div></a></div><div class="relatedPosts_item"><a href="/2020/04/15/3-if语句和case语句/" title="3.if语句和case语句"><img class="relatedPosts_cover lazyload"data-src="/img/post.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-04-15</div><div class="relatedPosts_title">3.if语句和case语句</div></div></a></div><div class="relatedPosts_item"><a href="/2020/04/15/4-Shell-编程总结/" title="4.Shell 编程总结"><img class="relatedPosts_cover lazyload"data-src="/img/wallhaven-672007-1.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-04-15</div><div class="relatedPosts_title">4.Shell 编程总结</div></div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;

window.valine = new Valine({
  el:'#vcomment',
  notify: true,
  verify: false,
  appId: 'mJGbzahn0dOntrhO5Hek8Rjd-gzGzoHsz',
  appKey: 'b0O75eIR8ULkl2kyDWLgLXM0',
  placeholder: 'Please leave your footprints',
  avatar: 'monsterid',
  meta: guest_info,
  pageSize: '10',
  lang: 'zh-cn',
  recordIP: false,
  serverURLs: ''
});</script></div></article></main><footer id="footer" style="background-image: url(/img/63060960_p0.jpg)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2020 By Wu Fei</div><div class="footer_custom_text">Hi, welcome to my <a href="https://www.linuxwf.com/" target="_blank" rel="noopener">blog</a></div><div class="icp"><a href="http://beian.miit.gov.cn" target="_blank" rel="noopener"><img class="icp-icon" src="/img/icp.png"/><span>粤ICP备19138449号-1</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">繁</a><i class="darkmode far fa-moon" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><div class="search-dialog" id="algolia-search"><div class="search-dialog__title" id="algolia-search-title">Algolia</div><div id="algolia-input-panel"><div id="algolia-search-input"></div></div><hr/><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-stats"></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="/js/third-party/fireworks.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script id="ribbon_piao" mobile="false" src="/js/third-party/piao.js"></script><script id="canvas_nest" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="/js/third-party/canvas-nest.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script><script src="/js/search/algolia.js"></script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"superSample":2,"width":150,"height":300,"position":"right","hOffset":100,"vOffset":-50},"mobile":{"show":true,"scale":0.5}});</script></body></html>